import{a as f}from"./index.922d4a37.js";import{w as E,x as p,y as A}from"./index.36a91d4c.js";import{c as d,F as c,g as F,h as v,i as S}from"./currencies.bbaf1c4b.js";import{d as l,w as o}from"./index.d67a6375.js";import{l as V}from"./lodash.9552c526.js";import{f as h}from"./loadHelpers.abbaab45.js";const b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrencyConversionRate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"info"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currencies"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",alias:{kind:"Name",value:"eur"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"eur"}}]},{kind:"Field",alias:{kind:"Name",value:"jpy"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"jpy"}}]},{kind:"Field",alias:{kind:"Name",value:"usd"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"usd"}}]},{kind:"Field",alias:{kind:"Name",value:"brl"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"brl"}}]},{kind:"Field",alias:{kind:"Name",value:"cad"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"cad"}}]},{kind:"Field",alias:{kind:"Name",value:"cny"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"cny"}}]},{kind:"Field",alias:{kind:"Name",value:"idr"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"idr"}}]},{kind:"Field",alias:{kind:"Name",value:"inr"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"inr"}}]},{kind:"Field",alias:{kind:"Name",value:"krw"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"krw"}}]},{kind:"Field",alias:{kind:"Name",value:"php"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"php"}}]},{kind:"Field",alias:{kind:"Name",value:"rub"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"rub"}}]},{kind:"Field",alias:{kind:"Name",value:"mxn"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"mxn"}}]},{kind:"Field",alias:{kind:"Name",value:"dkk"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"dkk"}}]},{kind:"Field",alias:{kind:"Name",value:"try"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"try"}}]},{kind:"Field",alias:{kind:"Name",value:"pln"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"pln"}}]},{kind:"Field",alias:{kind:"Name",value:"vnd"},name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fiatCurrency"},value:{kind:"EnumValue",value:"vnd"}}]}]}}]}}]}}]},w=e=>new Promise((a,n)=>{async function u(){try{const i=await h({doc:b,variables:{},load:e}),r=i==null?void 0:i.info;if(r!=null&&r.currencies){const g=r.currencies.reduce((s,k)=>(s[k.name]=V.omit(k,"name"),s),{});a(g)}n()}catch(i){n(i)}}u()}),t=E("currency"),R=d.btc,D=d.gold,U=d.cad,T={stake:R,sweeps:D,canada:U},N=T[f],m=t("currency",N),_=[],Z=o(N),q=t("hideZeroBalances",!1),L=t("currencyView","crypto"),x=(e,a)=>e==="crypto"||!(a in c)?e:c[a],y=l([L,m],([e,a])=>x(e,a)),z=t("bankingCurrencies",_),P=(e,a)=>e==="crypto"?F(a)===2?v:S:v,H=l([y,m],([e,a])=>P(e,a)),C=(()=>{const e=o({status:"fetching",rates:null});return{...e,fetch:async a=>{e.update(n=>({...n,status:"fetching"}));try{const n=await w(a);return p&&e.set({rates:n,status:"completed"}),n}catch{return e.update(u=>({...u,status:"completed"})),null}}}})(),M=l([m,y,C],([e,a,n])=>{var u,i;return((i=(u=n.rates)==null?void 0:u[e])==null?void 0:i[a])||0}),Q=l([m,C],([e,a])=>{var n,u;return((u=(n=a.rates)==null?void 0:n[e])==null?void 0:u.usd)||0}),B=A("currency"),I="crypto";B("tab",I);export{m as a,L as b,C as c,z as d,Q as e,M as f,H as g,q as h,x as i,P as j,Z as n,y as v};
