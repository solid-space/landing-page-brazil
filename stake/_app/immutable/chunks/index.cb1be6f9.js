import{w as c}from"./index.d67a6375.js";import{S as L,b as d,a as P,C as b,D as w,E as S,j as v,g as C,F as M,O as u}from"./index.03b5aaf0.js";import{$ as O}from"./index.36a91d4c.js";import{P as j}from"./Pagination.3711d18e.js";const p={offset:0,limit:10};function k({initial:e,refetch:n}){const o=(e==null?void 0:e.limit)||p.limit,t=(e==null?void 0:e.offset)||p.offset,i=c(o),s=c(t),r=c(!1),m=c(!1);return{limit:i,offset:s,loading:r,loadingMore:m,refetch:n,previous:()=>{s.update(f=>Math.max(0,f-o))},next:()=>{s.update(f=>f+o)}}}function q(e){let n,o;return n=new j({props:{offset:e[2],limit:e[1],listLength:e[0]}}),n.$on("previous",e[5]),n.$on("next",e[6]),{c(){b(n.$$.fragment)},l(t){w(n.$$.fragment,t)},m(t,i){S(n,t,i),o=!0},p(t,[i]){const s={};i&4&&(s.offset=t[2]),i&2&&(s.limit=t[1]),i&1&&(s.listLength=t[0]),n.$set(s)},i(t){o||(v(n.$$.fragment,t),o=!0)},o(t){C(n.$$.fragment,t),o=!1},d(t){M(n,t)}}}function x(e,n,o){let t,i,{listLength:s}=n,{pagination:r}=n;const{offset:m,limit:l,loading:g,refetch:f,previous:_,next:h}=r;return u(e,m,a=>o(2,i=a)),u(e,l,a=>o(1,t=a)),O(m,({current:a})=>{g.set(!0),f&&f({limit:t,offset:a}).finally(()=>{g.set(!1)})}),e.$$set=a=>{"listLength"in a&&o(0,s=a.listLength),"pagination"in a&&o(7,r=a.pagination)},[s,t,i,m,l,_,h,r]}class y extends L{constructor(n){super(),d(this,n,x,q,P,{listLength:0,pagination:7})}}export{y as P,k as c};
