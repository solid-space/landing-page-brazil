var c={},u={},a={};Object.defineProperty(a,"__esModule",{value:!0});var O=function(e){if("getBBox"in e){var t=e.getBBox();return Object.freeze({height:t.height,left:0,top:0,width:t.width})}else{var r=window.getComputedStyle(e);return Object.freeze({height:parseFloat(r.height||"0"),left:parseFloat(r.paddingLeft||"0"),top:parseFloat(r.paddingTop||"0"),width:parseFloat(r.width||"0")})}};a.ContentRect=O;Object.defineProperty(u,"__esModule",{value:!0});var R=a,w=function(){function e(t){this.target=t,this.$$broadcastWidth=this.$$broadcastHeight=0}return Object.defineProperty(e.prototype,"broadcastWidth",{get:function(){return this.$$broadcastWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"broadcastHeight",{get:function(){return this.$$broadcastHeight},enumerable:!0,configurable:!0}),e.prototype.isActive=function(){var t=R.ContentRect(this.target);return!!t&&(t.width!==this.broadcastWidth||t.height!==this.broadcastHeight)},e}();u.ResizeObservation=w;var v={};Object.defineProperty(v,"__esModule",{value:!0});var T=a,z=function(){function e(t){this.target=t,this.contentRect=T.ContentRect(t)}return e}();v.ResizeObserverEntry=z;Object.defineProperty(c,"__esModule",{value:!0});var y=u,E=v,n=[],$=function(){function e(t){this.$$observationTargets=[],this.$$activeTargets=[],this.$$skippedTargets=[];var r=F(t);if(r)throw TypeError(r);this.$$callback=t}return e.prototype.observe=function(t){var r=h("observe",t);if(r)throw TypeError(r);var i=p(this.$$observationTargets,t);i>=0||(this.$$observationTargets.push(new y.ResizeObservation(t)),_(this))},e.prototype.unobserve=function(t){var r=h("unobserve",t);if(r)throw TypeError(r);var i=p(this.$$observationTargets,t);i<0||(this.$$observationTargets.splice(i,1),this.$$observationTargets.length===0&&d(this))},e.prototype.disconnect=function(){this.$$observationTargets=[],this.$$activeTargets=[],d(this)},e}(),m=c.ResizeObserver=$;function _(e){var t=n.indexOf(e);t<0&&(n.push(e),L())}function d(e){var t=n.indexOf(e);t>=0&&(n.splice(t,1),N())}function F(e){if(typeof e>"u")return"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.";if(typeof e!="function")return"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function."}function h(e,t){if(typeof t>"u")return"Failed to execute '"+e+"' on 'ResizeObserver': 1 argument required, but only 0 present.";if(!(t&&t.nodeType===window.Node.ELEMENT_NODE))return"Failed to execute '"+e+"' on 'ResizeObserver': parameter 1 is not of type 'Element'."}function p(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1}var b=function(e){n.forEach(function(t){t.$$activeTargets=[],t.$$skippedTargets=[],t.$$observationTargets.forEach(function(r){if(r.isActive()){var i=g(r.target);i>e?t.$$activeTargets.push(r):t.$$skippedTargets.push(r)}})})},k=function(){return n.some(function(e){return!!e.$$activeTargets.length})},C=function(){return n.some(function(e){return!!e.$$skippedTargets.length})},j=function(){var e=1/0;return n.forEach(function(t){if(t.$$activeTargets.length){var r=[];t.$$activeTargets.forEach(function(i){var s=new E.ResizeObserverEntry(i.target);r.push(s),i.$$broadcastWidth=s.contentRect.width,i.$$broadcastHeight=s.contentRect.height;var f=g(i.target);f<e&&(e=f)}),t.$$callback(r,t),t.$$activeTargets=[]}}),e},x=function(){var e=new window.ErrorEvent("ResizeLoopError",{message:"ResizeObserver loop completed with undelivered notifications."});window.dispatchEvent(e)},g=function(e){for(var t=0;e.parentNode;)e=e.parentNode,t+=1;return t},A=function(){var e=0;for(b(e);k();)e=j(),b(e);C()&&x()},o,L=function(){o||l()},l=function(){o=window.requestAnimationFrame(function(){A(),l()})},N=function(){o&&!n.some(function(e){return!!e.$$observationTargets.length})&&(window.cancelAnimationFrame(o),o=void 0)},P=function(){return window.ResizeObserver=$};c.install=P;function D(e,t){const r=new m(([i])=>{i&&t(i.contentRect)});return r.observe(e),{destroy(){r.disconnect()}}}export{m as R,D as r};
