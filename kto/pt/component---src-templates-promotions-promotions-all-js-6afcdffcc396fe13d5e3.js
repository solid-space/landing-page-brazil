"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[131],{6127:function(t,e,o){o.d(e,{l:function(){return r},r:function(){return a}});var n=o(2669);const a=async t=>{try{const e=await n.O.post("/promotions/opt-in?link="+t);return{ok:!0,data:await e.data}}catch(e){return{ok:!1,error:e.response.data}}},r=async()=>{try{const t=await n.O.get("/promotions/opted-in");return{ok:!0,data:(await t.data).data}}catch(t){return{ok:!1,error:t.response.data}}}},5038:function(t,e,o){o.d(e,{n:function(){return r}});var n=o(4854),a=o(7247);const r=()=>{var t;const e=(0,n.useStaticQuery)("229701072"),{promotionsApi:{values:o}}=e,r=(0,a.fD)(null==o||null===(t=o[0])||void 0===t?void 0:t.promotions)||[],s=["all"];return r.forEach((t=>{s.includes(t.type)||s.push(t.type)})),{promos:r,promotionTypes:s}}},9626:function(t,e,o){var n=o(7294),a=o(7896);e.Z=()=>{const{pathname:t}=(0,a.useLocation)(),e=(0,n.useMemo)((()=>t.startsWith("/pt/")?"/pt/":"/"),[t]),o=e.substring(0,e.length-1);return{pathLocale:e,localeWithoutLastSlash:o}}},2970:function(t,e,o){o.r(e),o.d(e,{Head:function(){return f}});var n=o(7294),a=o(7484),r=o(178),s=o.n(r),i=o(6127),l=o(4546),u=o(334),c=o(5553),p=o(5038),m=o(9626),d=o(7224);a.extend(s());const f=()=>{const{lang:t}=(0,u.m)();return n.createElement(c.Seo,{title:null==t?void 0:t.seo.promotions_title,description:null==t?void 0:t.seo.promotions_description,hrefLangPage:"promotions"})};e.default=t=>{let{pageContext:{type:e,promotionsSlug:o}}=t;const{lang:a}=(0,u.m)(),{promos:r,promotionTypes:s}=(0,p.n)(),{pathLocale:f}=(0,m.Z)(),{isLoggedIn:L}=(0,n.useContext)(l.V),{0:_,1:h}=(0,n.useState)(e||"all"),y=()=>"all"===_?r:r.filter((t=>t.type===_||t.sub_type===_)),{0:E,1:v}=(0,n.useState)(y());(0,n.useEffect)((()=>{v(y())}),[_]),(0,n.useEffect)((()=>{(async()=>{if(L){const t=await(0,i.l)();t.ok&&v((e=>e.map((e=>(t.data[e.promotion_identifier]&&(e.isOptedIn=!0),e)))))}})()}),[L]);return n.createElement(c.Layout,null,n.createElement(c.ContentWrapper,null,n.createElement("div",null,n.createElement(c.Tabs,null,s.map(((t,e)=>n.createElement("button",{role:"link",key:e,onClick:()=>(t=>{h(t.toLowerCase());let e=""+f+o+"/";"all"!==t&&(e+=t+"/"),window.history.pushState(null,null,e),(0,d.f_)()})(t),className:(_===t.toLowerCase()?"active":"")+" link"},null==a?void 0:a.promotions[t.toLowerCase()]))))),n.createElement(c.PromotionsList,{promotions:E,showMore:!0})))}}}]);