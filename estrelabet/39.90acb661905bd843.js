"use strict";(self.webpackChunkdesktop=self.webpackChunkdesktop||[]).push([[39],{4039:(Le,H,p)=>{p.r(H),p.d(H,{AccountActivityModule:()=>E});var s=p(36895),z=p(55028),I=p(34793),f=p(7226),N=p(8929),m=p(7625),t=p(94650),r=p(13313),O=p(15872),h=p(32925);function j(a,n){if(1&a&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA()()()),2&a){const e=t.oxw(2);t.xp6(3),t.Oqu(e.customerFreeSpinHistory.cashinWageredAmount),t.xp6(2),t.Oqu(e.customerFreeSpinHistory.remainingCashinWageringAmount),t.xp6(2),t.Oqu(e.customerFreeSpinHistory.totalBonus),t.xp6(2),t.Oqu(e.customerFreeSpinHistory.currency)}}function $(a,n){if(1&a&&(t.TgZ(0,"table",11)(1,"thead")(2,"tr")(3,"th"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.YNc(15,j,10,4,"tbody",12),t.qZA()),2&a){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"TEXTS.CASHING_WAGERING_AMOUNT")),t.xp6(3),t.Oqu(t.lcZ(8,7,"TEXTS.REMAINING_CASHING_WAGERING_AMOUNT")),t.xp6(3),t.Oqu(t.lcZ(11,9,"TEXTS.TOTAL_BONUS_AMOUNT")),t.xp6(3),t.Oqu(t.lcZ(14,11,"FIELDS.CURRENCY")),t.xp6(2),t.Q6J("ngIf",e.customerFreeSpinHistory)}}function V(a,n){1&a&&(t.TgZ(0,"div",13),t._UZ(1,"div",14),t.qZA())}function G(a,n){1&a&&(t.TgZ(0,"div",15),t._UZ(1,"img",16)(2,"br"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"MESSAGES.NO_DATA_FOUND")," "))}f.N.map.freeSpin;class Z{constructor(n){this.freeSpinService=n,this.componentName="free-spin",this.inProgress=!1,this.destroyed$=new N.xQ}ngOnInit(){this.freeSpinService.getCustomerFreeSpinHistory(),this.freeSpinService.freeSpinHistoryStore$.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.inProgress=n.loading,this.customerFreeSpinHistory=n.data})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete(),this.freeSpinService.clearFreeSpinHistory$.next()}}Z.\u0275fac=function(n){return new(n||Z)(t.Y36(r.c_g))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-free-spin"]],decls:13,vars:7,consts:[[1,"free-spn-dtl-cntnt"],[1,"dshbrd-mdl"],[1,"mdl-hdr"],[1,"inf-hdr"],[1,"fa","fa-history"],[1,"inf-title"],[3,"componentName"],[1,"mdl-cntnt"],["class","dshbrd-tbl responsive-table",4,"ngIf"],["class","progress",4,"ngIf"],["class","not-found-box",4,"ngIf"],[1,"dshbrd-tbl","responsive-table"],[4,"ngIf"],[1,"progress"],[1,"indeterminate"],[1,"not-found-box"],["src","../../../../../../assets/images/not-found-images.png","alt",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"i",4),t.TgZ(5,"span",5),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t._UZ(8,"app-notifications",6),t.TgZ(9,"div",7),t.YNc(10,$,16,13,"table",8),t.YNc(11,V,2,0,"div",9),t.YNc(12,G,5,3,"div",10),t.qZA()()()),2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,5,"TEXTS.CASINO_FREESPIN_DETAIL")),t.xp6(2),t.Q6J("componentName",e.componentName),t.xp6(2),t.Q6J("ngIf",!e.inProgress&&!!e.customerFreeSpinHistory),t.xp6(1),t.Q6J("ngIf",e.inProgress),t.xp6(1),t.Q6J("ngIf",!e.customerFreeSpinHistory&&!e.inProgress))},dependencies:[s.O5,O.t,h.X$],encapsulation:2});var W=p(55880),y=p(73548),F=p(93307),P=p(78387),K=p(84912),x=p(70710);function tt(a,n){1&a&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TEXTS.STATUS")," "))}function et(a,n){1&a&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TEXTS.PENDING_OPEN_BETS")," "))}function nt(a,n){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",17),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(4);return t.KtG(u.getSportBetAndDetails(l))}),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"csSide"),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()(),t.BQk()}if(2&a){const e=n.$implicit,i=t.oxw(4);t.xp6(3),t.Oqu(t.xi3(4,3,t.xi3(5,6,e.playedAmount,"1.2-2"),i.currency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(8,9,e.playedOdd,"1.2-2")),t.xp6(3),t.Oqu(e.numberOfEvent)}}function at(a,n){if(1&a&&(t.ynx(0),t.TgZ(1,"tr",20)(2,"td")(3,"table",21)(4,"thead")(5,"tr")(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,nt,11,12,"ng-container",22),t.qZA()()()(),t.BQk()),2&a){const e=t.oxw(3);t.xp6(2),t.uIk("colspan",e.customerBonus.active&&e.customerBonus.totalTurnover>=e.customerBonus.turnoverAmount?8:7),t.xp6(5),t.Oqu(t.lcZ(8,5,"TEXTS.AMOUNT")),t.xp6(3),t.Oqu(t.lcZ(11,7,"TEXTS.RATE")),t.xp6(3),t.Oqu(t.lcZ(14,9,"TEXTS.EVENT_COUNT")),t.xp6(3),t.Q6J("ngForOf",e.customerBonus.customerBonusDetails)}}function it(a,n){1&a&&(t.TgZ(0,"div",23),t._UZ(1,"div",24),t.qZA())}function ot(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",15)(1,"table",16)(2,"thead")(3,"tr")(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.YNc(25,tt,3,3,"th",14),t.qZA()(),t.TgZ(26,"tbody")(27,"tr",17),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(2);return t.KtG(c.toggleCustomerBonusDetail())}),t.TgZ(28,"td"),t._uU(29),t.ALo(30,"date"),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA(),t.TgZ(33,"td"),t._UZ(34,"span",18),t.ALo(35,"csSide"),t.ALo(36,"number"),t.qZA(),t.TgZ(37,"td"),t._UZ(38,"span",18),t.ALo(39,"csSide"),t.ALo(40,"number"),t.qZA(),t.TgZ(41,"td"),t._UZ(42,"span",18),t.ALo(43,"csSide"),t.ALo(44,"number"),t.qZA(),t.TgZ(45,"td"),t._UZ(46,"span",18),t.ALo(47,"csSide"),t.ALo(48,"number"),t.qZA(),t.TgZ(49,"td"),t._UZ(50,"i",19),t.qZA(),t.YNc(51,et,3,3,"td",14),t.qZA(),t.YNc(52,at,17,11,"ng-container",14),t.qZA()(),t.YNc(53,it,2,0,"div",13),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,18,"TEXTS.EXPIRY_DATE")),t.xp6(3),t.Oqu(t.lcZ(9,20,"TEXTS.BONUS_TYPE")),t.xp6(3),t.Oqu(t.lcZ(12,22,"TEXTS.AMOUNT")),t.xp6(3),t.Oqu(t.lcZ(15,24,"TEXTS.TURNOVER")),t.xp6(3),t.Oqu(t.lcZ(18,26,"TEXTS.TOTAL_TURNOVER")),t.xp6(3),t.Oqu(t.lcZ(21,28,"TEXTS.REMAINING_TURNOVER")),t.xp6(3),t.Oqu(t.lcZ(24,30,"TEXTS.ACTIVE")),t.xp6(2),t.Q6J("ngIf",e.customerBonus.active&&e.customerBonus.totalTurnover>=e.customerBonus.turnoverAmount),t.xp6(4),t.Oqu(t.xi3(30,32,e.customerBonus.expiryDate,"dd-MM-yyyy / HH:mm")),t.xp6(3),t.Oqu(e.customerBonus.bonuses.bonusName),t.xp6(2),t.Q6J("innerHTML",t.Dn7(35,35,t.xi3(36,39,e.customerBonus.bonusAmount,"1.2-2"),e.currency.currencySymbol,"currency-symbols"),t.oJD),t.xp6(4),t.Q6J("innerHTML",t.Dn7(39,42,t.xi3(40,46,e.customerBonus.turnoverAmount,"1.2-2"),e.currency.currencySymbol,"currency-symbols"),t.oJD),t.xp6(4),t.Q6J("innerHTML",t.Dn7(43,49,t.xi3(44,53,e.customerBonus.totalTurnover,"1.2-2"),e.currency.currencySymbol,"currency-symbols"),t.oJD),t.xp6(4),t.Q6J("innerHTML",t.Dn7(47,56,t.xi3(48,60,e.customerBonus.turnoverAmount-e.customerBonus.totalTurnover,"1.2-2"),e.currency.currencySymbol,"currency-symbols"),t.oJD),t.xp6(4),t.Q6J("ngClass",e.customerBonus.active?"fa-check stts-W":"fa-times stts-L"),t.xp6(1),t.Q6J("ngIf",e.customerBonus.active&&e.customerBonus.totalTurnover>=e.customerBonus.turnoverAmount),t.xp6(1),t.Q6J("ngIf",e.isOpenCustomerBonusDetail&&!!e.customerBonus.customerBonusDetails[0].sportBetMasterId),t.xp6(1),t.Q6J("ngIf",e.inProgressCustomerBonusDetail)}}function rt(a,n){1&a&&(t.TgZ(0,"div",23),t._UZ(1,"div",24),t.qZA())}function st(a,n){1&a&&(t.ynx(0),t._UZ(1,"message-box",25),t.BQk())}function ct(a,n){if(1&a&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._UZ(3,"i",9),t.TgZ(4,"span",10),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",11),t.YNc(8,ot,54,63,"div",12),t.YNc(9,rt,2,0,"div",13),t.YNc(10,st,2,0,"ng-container",14),t.qZA()()),2&a){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,4,"TEXTS.BONUS_TRANSACTIONS")),t.xp6(3),t.Q6J("ngIf",!e.inProgressCustomerBonus&&e.customerBonus),t.xp6(1),t.Q6J("ngIf",e.inProgressCustomerBonus),t.xp6(1),t.Q6J("ngIf",!e.inProgressCustomerBonus&&!e.customerBonus)}}function lt(a,n){1&a&&t._UZ(0,"i",29)}function pt(a,n){1&a&&t._UZ(0,"i",30)}function ut(a,n){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"csSide"),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"csSide"),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"csSide"),t.ALo(17,"number"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"csSide"),t.ALo(21,"number"),t.qZA(),t.TgZ(22,"td"),t.YNc(23,lt,1,0,"i",27),t.YNc(24,pt,1,0,"i",28),t.qZA()()),2&a){const e=n.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(t.xi3(3,8,e.createDate,"dd-MM-yyyy / HH:mm")),t.xp6(3),t.Oqu(e.bonusName),t.xp6(2),t.Oqu(t.xi3(8,11,t.xi3(9,14,e.bonusAmount,"1.2-2"),i.currency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(12,17,t.xi3(13,20,e.turnoverAmount,"1.2-2"),i.currency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(16,23,t.xi3(17,26,e.totalTurnover,"1.2-2"),i.currency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(20,29,t.xi3(21,32,e.turnoverAmount-e.totalTurnover,"1.2-2"),i.currency.currencySymbol)),t.xp6(4),t.Q6J("ngIf",!e.active),t.xp6(1),t.Q6J("ngIf",!!e.active)}}function mt(a,n){if(1&a&&(t.TgZ(0,"div",15)(1,"table",26)(2,"thead")(3,"tr")(4,"th"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th"),t._uU(24),t.ALo(25,"translate"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,ut,25,35,"tr",22),t.qZA()()()),2&a){const e=t.oxw(2);t.xp6(5),t.AsE("",t.lcZ(6,9,"TEXTS.DATE")," / ",t.lcZ(7,11,"TEXTS.HOUR"),""),t.xp6(4),t.Oqu(t.lcZ(10,13,"TEXTS.BONUS_TYPE")),t.xp6(3),t.Oqu(t.lcZ(13,15,"TEXTS.AMOUNT")),t.xp6(3),t.Oqu(t.lcZ(16,17,"TEXTS.TURNOVER")),t.xp6(3),t.Oqu(t.lcZ(19,19,"TEXTS.TOTAL_TURNOVER")),t.xp6(3),t.Oqu(t.lcZ(22,21,"TEXTS.REMAINING_TURNOVER")),t.xp6(3),t.Oqu(t.lcZ(25,23,"TEXTS.ACTIVE")),t.xp6(3),t.Q6J("ngForOf",e.casinoProBonuses)}}function dt(a,n){1&a&&(t.TgZ(0,"div",23),t._UZ(1,"div",24),t.qZA())}function _t(a,n){1&a&&(t.ynx(0),t._UZ(1,"message-box",25),t.BQk())}function Tt(a,n){if(1&a&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._UZ(3,"i",9),t.TgZ(4,"span",10),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",11),t.YNc(8,mt,28,25,"div",12),t.YNc(9,dt,2,0,"div",13),t.YNc(10,_t,2,0,"ng-container",14),t.qZA()()),2&a){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,4,"TEXTS.CASINOPRO_BONUS_TRANSACTIONS")),t.xp6(3),t.Q6J("ngIf",!e.inProgressCasinoProBonus&&e.casinoProBonuses),t.xp6(1),t.Q6J("ngIf",e.inProgressCasinoProBonus),t.xp6(1),t.Q6J("ngIf",!e.inProgressCasinoProBonus&&!e.casinoProBonuses)}}function ft(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"bet-history-detail",31),t.NdJ("closeDetailModal",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.closeDetailModal())}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("ticket",e.selectedBet)}}f.N.map.bonusActivities;class v{constructor(n,e,i,c){this.traderService=n,this.bonusActivitiesService=e,this.betHistoryService=i,this.notificationService=c,this.componentName="bonus-activities",this.inProgressCustomerBonus=!1,this.inProgressCasinoProBonus=!1,this.inProgressCustomerBonusDetail=!1,this.isOpenCustomerBonusDetail=!1,this.onlyCasino=!1,this.destroyed$=new N.xQ,this.betHistoryDetailModalActions=new t.vpe,this.betHistoryDetailModalParams=[{dismissible:!0,complete:()=>{this.clearSelectedBet()}}]}ngOnInit(){this.currency=this.traderService.currentCurrency,this.onlyCasino=f.N.trader.onlyCasino,this.IsIframe=f.N.trader.IsIframe,this.bonusActivitiesService.customerBonuses$.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.inProgressCustomerBonus=n.loading,this.customerBonus=n.data}),this.bonusActivitiesService.customerCasinoBonuses$.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{var e;this.inProgressCasinoProBonus=n.loading,this.casinoProBonuses=null===(e=n.data)||void 0===e?void 0:e.playerBonuses}),this.bonusActivitiesService.getCasinoBonuses(),this.onlyCasino||this.bonusActivitiesService.getCustomerBonuses()}getSportBetAndDetails(n){this.inProgressCustomerBonusDetail=!0,this.bonusActivitiesService.getSportBetMasterById(n.sportBetMasterId).then(e=>{this.notificationService.clearNotifications(),this.selectedBet=this.betHistoryService.getCouponStatusIconClass([e],"status")[0],this.inProgressCustomerBonusDetail=!1,this.betHistoryDetailModalActions.emit({action:"modal",params:["open"]})}).catch(e=>{this.inProgressCustomerBonusDetail=!1,e.forEach(i=>this.notificationService.addNotification("error",i))})}toggleCustomerBonusDetail(){this.isOpenCustomerBonusDetail=!this.isOpenCustomerBonusDetail}clearSelectedBet(){this.selectedBet=null}closeDetailModal(){this.betHistoryDetailModalActions.emit({action:"modal",params:["close"]})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete(),this.bonusActivitiesService.clearCustomerBonuses$.next(),this.bonusActivitiesService.clearCustomerCasinoBonuses$.next()}}v.\u0275fac=function(n){return new(n||v)(t.Y36(r._W6),t.Y36(r.Zlb),t.Y36(r.quW),t.Y36(r.Pzy))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-bonus-activities"]],decls:7,vars:6,consts:[[1,"bns-actvts-cntnt"],[3,"componentName"],["class","dshbrd-mdl",4,"ngIf"],["contentCode","bonus_action"],["id","sportBetDetailModal","materialize","modal",1,"modal","modal-md","dshbrd-tckt-modal","hdr-fix",3,"materializeActions","materializeParams"],[3,"ticket","closeDetailModal",4,"ngIf"],[1,"dshbrd-mdl"],[1,"mdl-hdr"],[1,"inf-hdr"],[1,"fa","fa-gift","fa-fw"],[1,"inf-title"],[1,"mdl-cntnt"],["class","scrllble-tbl",4,"ngIf"],["class","progress",4,"ngIf"],[4,"ngIf"],[1,"scrllble-tbl"],[1,"dshbrd-tbl","white-row"],[3,"click"],[3,"innerHTML"],[1,"fa",3,"ngClass"],[1,"collapsible-row","active","animated","fadeIn"],[1,"inner-tbl"],[4,"ngFor","ngForOf"],[1,"progress"],[1,"indeterminate"],["type","error","content","MESSAGES.NO_BONUS_HISTORY_RECORD"],[1,"highlighted","dshbrd-tbl","white-row"],["class","fa fa-times stts-L",4,"ngIf"],["class","fa fa-check stts-W",4,"ngIf"],[1,"fa","fa-times","stts-L"],[1,"fa","fa-check","stts-W"],[3,"ticket","closeDetailModal"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-notifications",1),t.YNc(2,ct,11,6,"div",2),t._UZ(3,"app-static-inner-content",3),t.YNc(4,Tt,11,6,"div",2),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,ft,1,1,"bet-history-detail",5),t.qZA()),2&n&&(t.xp6(1),t.Q6J("componentName",e.componentName),t.xp6(1),t.Q6J("ngIf",!e.onlyCasino),t.xp6(2),t.Q6J("ngIf",!e.IsIframe),t.xp6(1),t.Q6J("materializeActions",e.betHistoryDetailModalActions)("materializeParams",e.betHistoryDetailModalParams),t.xp6(1),t.Q6J("ngIf",e.selectedBet))},dependencies:[s.mk,s.sg,s.O5,y.M,F.n,P.W,K.z,O.t,s.JJ,s.uU,h.X$,x.O],encapsulation:2});var o=p(24006),J=p(24850),gt=p(92198),M=p(72986),k=p(67891),L=p(44387);const ht=function(a){return{active:a}};function At(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.getFilteredHistory(l.value))}),t.TgZ(1,"i"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"i"),t.qZA()}if(2&a){const e=n.$implicit,i=t.oxw();t.Gre("btn bg stts-",e.value," fltr-btn"),t.Q6J("ngClass",t.VKq(14,ht,i.activeStatus===e.value)),t.xp6(1),t.Gre("stts-",e.value,""),t.xp6(1),t.Oqu(t.lcZ(3,12,e.key)),t.xp6(2),t.MT6("stts-",e.value," ",e.icon," right")}}function Zt(a,n){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.winDate,"yyyy-MM-dd HH:mm"))}}function yt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function xt(a,n){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t.YNc(7,Zt,3,4,"span",33),t.YNc(8,yt,2,0,"span",33),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"csSide"),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"csSide"),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"csSide"),t.ALo(20,"number"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"csSide"),t.ALo(24,"number"),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.qZA(),t.TgZ(31,"td"),t._UZ(32,"i",34),t.qZA()()),2&a){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(2),t.Oqu(e.gameTransactionId),t.xp6(2),t.Oqu(t.xi3(5,15,e.playedDate,"yyyy-MM-dd HH:mm")),t.xp6(3),t.Q6J("ngIf",e.winDate),t.xp6(1),t.Q6J("ngIf",!e.winDate),t.xp6(2),t.Oqu(t.xi3(11,18,t.xi3(12,21,e.playedAmountFromBalance,"1.2-2"),i.customerCurrency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(15,24,t.xi3(16,27,e.playedAmountFromBonus,"1.2-2"),i.customerCurrency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(19,30,t.xi3(20,33,e.winAmountToBalance||0,"1.2-2"),i.customerCurrency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(23,36,t.xi3(24,39,e.winAmountToBonus||0,"1.2-2"),i.customerCurrency.currencySymbol)),t.xp6(4),t.Oqu(e.vendorName),t.xp6(2),t.Oqu(e.gameName),t.xp6(2),t.Oqu(e.categoryName),t.xp6(2),t.MT6("",e.statusIconClass," stts-",e.status,"")}}function vt(a,n){if(1&a&&t.YNc(0,xt,33,42,"tr",33),2&a){const e=n.index,i=t.oxw(2);t.Q6J("ngIf",e>=i.paginatorValues.start&&e<i.paginatorValues.end)}}function St(a,n){if(1&a&&(t.TgZ(0,"tr",35),t._UZ(1,"td")(2,"td")(3,"td"),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"csSide"),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"csSide"),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"csSide"),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"csSide"),t.ALo(19,"number"),t.qZA(),t._UZ(20,"td")(21,"td")(22,"td")(23,"td")(24,"td"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(5),t.Oqu(t.xi3(6,4,t.xi3(7,7,e.gameTransactionsTotals.totalPlayedAmountFromBalance,"1.2-2"),e.customerCurrency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(10,10,t.xi3(11,13,e.gameTransactionsTotals.totalPlayedAmountFromBonus,"1.2-2"),e.customerCurrency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(14,16,t.xi3(15,19,e.gameTransactionsTotals.totalWinAmountToBalance,"1.2-2"),e.customerCurrency.currencySymbol)),t.xp6(4),t.Oqu(t.xi3(18,22,t.xi3(19,25,e.gameTransactionsTotals.totalWinAmountToBonus,"1.2-2"),e.customerCurrency.currencySymbol))}}function Dt(a,n){if(1&a&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"i",27),t.TgZ(4,"span",5),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",6)(8,"div",28)(9,"table",29)(10,"thead")(11,"tr")(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"th"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"th"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"th"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"th"),t._uU(43),t.ALo(44,"translate"),t.qZA()()(),t.TgZ(45,"tbody"),t.YNc(46,vt,1,1,"ng-template",30),t.YNc(47,St,25,28,"tr",31),t.qZA()()(),t._UZ(48,"paginator",32),t.qZA()()),2&a){const e=t.oxw();t.xp6(5),t.AsE("",t.lcZ(6,16,"TEXTS.BETS_IN_BETWEEN"),": ",e.selectedStartDate+" - "+e.selectedEndDate,""),t.xp6(8),t.Oqu(t.lcZ(14,18,"TEXTS.BET_NO")),t.xp6(3),t.Oqu(t.lcZ(17,20,"TEXTS.PLAYED_DATE")),t.xp6(3),t.Oqu(t.lcZ(20,22,"TEXTS.WINNING_DATE")),t.xp6(3),t.Oqu(t.lcZ(23,24,"TEXTS.PLAYED_AMOUNT_FROM_BALANCE")),t.xp6(3),t.Oqu(t.lcZ(26,26,"TEXTS.PLAYED_AMOUNT_FROM_BONUS")),t.xp6(3),t.Oqu(t.lcZ(29,28,"TEXTS.WIN_AMOUNT_TO_BALANCE")),t.xp6(3),t.Oqu(t.lcZ(32,30,"TEXTS.WIN_AMOUNT_TO_BONUS")),t.xp6(3),t.Oqu(t.lcZ(35,32,"TEXTS.VENDOR")),t.xp6(3),t.Oqu(t.lcZ(38,34,"TEXTS.GAME")),t.xp6(3),t.Oqu(t.lcZ(41,36,"TEXTS.CATEGORY")),t.xp6(3),t.Oqu(t.lcZ(44,38,"TEXTS.STATUS")),t.xp6(3),t.Q6J("ngForOf",e.casinoProHistory),t.xp6(1),t.Q6J("ngIf",e.displaySumOnCasinoTrans),t.xp6(1),t.Q6J("values",e.paginatorValues)}}function qt(a,n){1&a&&(t.TgZ(0,"div",36),t._UZ(1,"img",37)(2,"br"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"MESSAGES.NO_DATA_FOUND")," "))}function bt(a,n){1&a&&(t.TgZ(0,"div",38),t._UZ(1,"div",39),t.qZA())}const B=function(a){return{mask:a}};f.N.map.casinoProHistory;class S{constructor(n,e,i,c,l,u,A,T){this.datePipe=n,this.fb=e,this.utilService=i,this.casinoProHistoryService=c,this.userService=l,this.translateFactory=u,this.notificationService=A,this.traderService=T,this.startDateActions=new t.vpe,this.endDateActions=new t.vpe,this.componentName="casino-pro-history",this.destroyed$=new N.xQ,this.casinoProHistory=[],this.formBusy=!1,this.mask="00/00/0000",this.paginatorValues=null,this.getCasinoProHistoryStatuses=[],this.activeStatus=null;const d=new Date,_=(new Date).setDate(d.getDate()-1);this.displaySumOnCasinoTrans=T.trader.summationsOnCasinoTrans,this.casinoProHistoryForm=this.fb.group({startDate:new o.NI(this.datePipe.transform(_,"dd/MM/yyyy")),startDatePicker:new o.NI(this.datePipe.transform(_,"dd/MM/yyyy")),endDate:new o.NI(this.datePipe.transform(d,"dd/MM/yyyy")),endDatePicker:new o.NI(this.datePipe.transform(d,"dd/MM/yyyy"))}),this.utilService.getDatepickerParams().then(g=>{this.datepickerMaterializeParams=g})}ngOnInit(){this.setUpDateValidators(),this.getCasinoProHistoryStatuses=this.utilService.getCasinoProHistoryStatuses(),this.userService.getCustomerCurrency().then(n=>{this.customerCurrency=n}),this.getCasinoProHistoryData(this.casinoProHistoryForm.controls.startDate.value,this.casinoProHistoryForm.controls.endDate.value),this.casinoProHistoryService.casinoProHistoryStore$.pipe((0,m.R)(this.destroyed$),(0,J.U)(n=>n.loading)).subscribe(n=>this.formBusy=n),this.casinoProHistoryService.casinoProHistoryStore$.pipe((0,m.R)(this.destroyed$),(0,gt.h)(n=>!!n.data),(0,J.U)(n=>n.data)).subscribe(n=>{this.notificationService.clearNotifications(),this.selectedEndDate=this.casinoProHistoryForm.controls.endDate.value,this.selectedStartDate=this.casinoProHistoryForm.controls.startDate.value,this.casinoProHistory=n.gameTransactions||[],this.gameTransactionsTotals={totalPlayedAmountFromBalance:n.totalPlayedAmountFromBalance,totalPlayedAmountFromBonus:n.totalPlayedAmountFromBonus,totalWinAmountToBonus:n.totalWinAmountToBonus,totalWinAmountToBalance:n.totalWinAmountToBalance},this.paginatorValues={currentPage:1,itemSize:this.casinoProHistory.length,pageSize:10,start:0,end:10}})}setUpDateValidators(){this.casinoProHistoryForm.controls.startDatePicker.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.casinoProHistoryForm.patchValue({startDate:n})}),this.casinoProHistoryForm.controls.startDate.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{if(this.utilService.isStartDateAfterEndDate(n,this.casinoProHistoryForm.controls.endDate.value)){let e=n.split("/");e=e[1]+"/"+e[0]+"/"+e[2],e=new Date(e);let i=e.getDate();i+=1,e.setDate(i),e=e.toLocaleDateString("en-AU"),this.casinoProHistoryForm.patchValue({endDate:e})}}),this.casinoProHistoryForm.controls.endDatePicker.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.casinoProHistoryForm.patchValue({endDate:n})}),this.casinoProHistoryForm.controls.endDate.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{if(this.utilService.isStartDateAfterEndDate(this.casinoProHistoryForm.controls.startDate.value,n)){let e=n.split("/");e=e[1]+"/"+e[0]+"/"+e[2],e=new Date(e);let i=e.getDate();i-=1,e.setDate(i),e=e.toLocaleDateString("en-AU"),this.casinoProHistoryForm.patchValue({startDate:e})}}),this.casinoProHistoryForm.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(()=>{this.utilService.getDiffDateResult(this.casinoProHistoryForm)})}getCasinoProHistoryData(n,e){const i={requestBody:{startDate:this.utilService.convertTimeStampDate(n),endDate:this.utilService.convertTimeStampDate(e)}};this.casinoProHistoryService.getCasinoProHistory_v2(i)}getFilteredHistory(n){this.activeStatus=n,this.casinoProHistoryService.getFilteredHistoryData(n).pipe((0,M.q)(1)).subscribe(e=>{this.casinoProHistory=e,this.paginatorValues={currentPage:1,itemSize:this.casinoProHistory.length,pageSize:10,start:0,end:10}})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete(),this.casinoProHistoryService.clearCasinoProHistory$.next()}}S.\u0275fac=function(n){return new(n||S)(t.Y36(s.uU),t.Y36(o.qu),t.Y36(r.XN8),t.Y36(r.cQu),t.Y36(r.Ye3),t.Y36(r.chr),t.Y36(r.Pzy),t.Y36(r._W6))},S.\u0275cmp=t.Xpm({type:S,selectors:[["casino-pro-history"]],decls:36,vars:30,consts:[[1,"csno-pro-hstry-cntnt"],[1,"dshbrd-mdl"],[1,"mdl-hdr"],[1,"inf-hdr"],[1,"fa","fa-history"],[1,"inf-title"],[1,"mdl-cntnt"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col","s12"],[1,"frm-hdr"],[1,"date-picker-field","col","s5"],["for","casinoProHistoryStartDatePicker",1,"date-picker-mask"],["type","text","id","casinoProHistoryStartDatePicker","materialize","pickadate","tabindex","30",3,"materializeActions","materializeParams","formControl"],["aria-hidden","true",1,"fa","fa-calendar"],["type","text","pattern","[0-9]{2}/[0-9]{2}/[0-9]{4}","minlength","10","tabindex","1","required","",1,"datepicker","browser-default",3,"imask","formControl"],["for","casinoProHistoryEndDatePicker",1,"date-picker-mask"],["type","text","id","casinoProHistoryEndDatePicker","materialize","pickadate","tabindex","31",3,"materializeActions","materializeParams","formControl"],[1,"input-field","col","s2"],["type","submit",1,"btn","w100",3,"disabled"],[1,"type-btn-grp"],[3,"class","ngClass","click",4,"ngFor","ngForOf"],[3,"componentName"],["class","dshbrd-mdl",4,"ngIf"],["class","not-found-box",4,"ngIf"],["class","progress",4,"ngIf"],[3,"ngClass","click"],[1,"fa","fa-bars"],[1,"scrllble-tbl"],[1,"dshbrd-tbl"],["ngFor","",3,"ngForOf"],["class","dshbrd-tbl-total",4,"ngIf"],[3,"values"],[4,"ngIf"],["aria-hidden","true"],[1,"dshbrd-tbl-total"],[1,"not-found-box"],["src","../../../../../assets/images/not-found-images.png","alt",""],[1,"progress"],[1,"indeterminate"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"i",4),t.TgZ(5,"span",5),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"div",6)(9,"form",7),t.NdJ("ngSubmit",function(){return e.getCasinoProHistoryData(e.casinoProHistoryForm.controls.startDate.value,e.casinoProHistoryForm.controls.endDate.value)}),t.TgZ(10,"div",8)(11,"div",9)(12,"h5",10),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"div",8)(16,"div",11)(17,"label",12),t._UZ(18,"input",13)(19,"i",14),t.qZA(),t._UZ(20,"input",15),t.qZA(),t.TgZ(21,"div",11)(22,"label",16),t._UZ(23,"input",17)(24,"i",14),t.qZA(),t._UZ(25,"input",15),t.qZA(),t.TgZ(26,"div",18)(27,"button",19),t._uU(28),t.ALo(29,"translate"),t.qZA()()()(),t.TgZ(30,"div",20),t.YNc(31,At,5,16,"button",21),t.qZA()()(),t._UZ(32,"app-notifications",22),t.YNc(33,Dt,49,40,"div",23),t.YNc(34,qt,5,3,"div",24),t.YNc(35,bt,2,0,"div",25),t.qZA()),2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,20,"TEXTS.CASINOPRO_HISTORY")),t.xp6(3),t.Q6J("formGroup",e.casinoProHistoryForm),t.xp6(4),t.Oqu(t.lcZ(14,22,"TEXTS.SELECT_DATE_INTERVAL")),t.xp6(5),t.Q6J("materializeActions",e.startDateActions)("materializeParams",e.datepickerMaterializeParams)("formControl",e.casinoProHistoryForm.controls.startDatePicker),t.xp6(2),t.Q6J("imask",t.VKq(26,B,e.mask))("formControl",e.casinoProHistoryForm.controls.startDate),t.xp6(3),t.Q6J("materializeActions",e.endDateActions)("materializeParams",e.datepickerMaterializeParams)("formControl",e.casinoProHistoryForm.controls.endDatePicker),t.xp6(2),t.Q6J("imask",t.VKq(28,B,e.mask))("formControl",e.casinoProHistoryForm.controls.endDate),t.xp6(2),t.Q6J("disabled",e.formBusy),t.xp6(1),t.Oqu(t.lcZ(29,24,"TEXTS.SHOW")),t.xp6(3),t.Q6J("ngForOf",e.getCasinoProHistoryStatuses),t.xp6(1),t.Q6J("componentName",e.componentName),t.xp6(1),t.Q6J("ngIf",e.casinoProHistory.length>0&&!e.formBusy),t.xp6(1),t.Q6J("ngIf",0===e.casinoProHistory.length&&!e.formBusy),t.xp6(1),t.Q6J("ngIf",e.formBusy))},dependencies:[s.mk,s.sg,s.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.wO,o.c5,o.oH,o.sg,y.M,k.An,L.J,O.t,s.JJ,s.uU,h.X$,x.O],encapsulation:2});var R=p(3637),Ct=p(3201);function Ut(a,n){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Oqu(e.transaction.adminNote)}}function Et(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function Nt(a,n){if(1&a&&(t.TgZ(0,"li",9)(1,"span",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",11),t.YNc(5,Ut,2,1,"span",14),t.YNc(6,Et,2,0,"span",14),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,3,"FIELDS.ADMIN_NOTE"),": "),t.xp6(3),t.Q6J("ngIf",e.transaction.adminNote),t.xp6(1),t.Q6J("ngIf",!e.transaction.adminNote)}}function Ot(a,n){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Oqu(e.transaction.customerNote)}}function It(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function kt(a,n){if(1&a&&(t.TgZ(0,"li",9)(1,"span",10),t._uU(2),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&a){const e=n.$implicit;t.xp6(2),t.hij("",e.name,": "),t.xp6(2),t.hij("",e.value," ")}}f.N.map.financialTransactionsDetail;class D{constructor(n,e){this.userSevice=n,this.traderService=e}ngOnInit(){this.traderDefaults=this.traderService.trader,this.userSevice.getCustomerCurrency().then(n=>{this.transaction.transactionCurrency||(this.transaction.transactionCurrency=n)})}}D.\u0275fac=function(n){return new(n||D)(t.Y36(r.Ye3),t.Y36(r._W6))},D.\u0275cmp=t.Xpm({type:D,selectors:[["financial-transactions-detail"]],inputs:{transaction:"transaction"},decls:42,vars:31,consts:[[1,"transaction-history-detail-container"],[1,"modal-header"],[1,"ticket-title"],[1,"ticket-date"],["aria-hidden","true",1,"fa","fa-clock-o"],["href","javascript:;",1,"modal-action","modal-close"],[1,"material-icons","pg-icons"],[1,"modal-content"],[1,"collection"],[1,"collection-item"],[1,"prop-key"],[1,"prop-value"],[3,"innerHTML"],["class","collection-item",4,"ngIf"],[4,"ngIf"],["class","collection-item",4,"ngFor","ngForOf"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.qZA(),t.TgZ(4,"p",3),t._UZ(5,"i",4),t._uU(6),t.ALo(7,"date"),t.qZA()(),t.TgZ(8,"a",5)(9,"i",6),t._uU(10,"close"),t.qZA()(),t.TgZ(11,"div",7)(12,"ul",8)(13,"li",9)(14,"span",10),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"span",11),t._uU(18),t.ALo(19,"date"),t.qZA()(),t.TgZ(20,"li",9)(21,"span",10),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"span",11),t._UZ(25,"span",12),t.ALo(26,"csSide"),t.qZA()(),t.YNc(27,Nt,7,5,"li",13),t.TgZ(28,"li",9)(29,"span",10),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"span",11),t.YNc(33,Ot,2,1,"span",14),t.YNc(34,It,2,0,"span",14),t.qZA()(),t.TgZ(35,"li",9)(36,"span",10),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"span",11),t._uU(40),t.qZA()(),t.YNc(41,kt,5,2,"li",15),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(e.transaction.transactionTypeName),t.xp6(3),t.hij(" ",t.xi3(7,13,e.transaction.transactionDate,"dd-MM-yyyy HH:mm"),""),t.xp6(9),t.hij("",t.lcZ(16,16,"TEXTS.UPDATED_DATE"),": "),t.xp6(3),t.Oqu(t.xi3(19,18,e.transaction.transactionDate,"dd-MM-yyyy HH:mm")),t.xp6(4),t.hij("",t.lcZ(23,21,"TEXTS.AMOUNT"),": "),t.xp6(3),t.Q6J("innerHTML",t.Dn7(26,23,e.transaction.amount,null!=e.transaction&&null!=e.transaction.transactionCurrency&&e.transaction.transactionCurrency.currencySymbol?e.transaction.transactionCurrency.currencySymbol:"","currency-symbol"),t.oJD),t.xp6(2),t.Q6J("ngIf",e.traderDefaults.isVisibleTransactionNotetoWeb),t.xp6(3),t.hij("",t.lcZ(31,27,"FIELDS.CUSTOMER_NOTE"),": "),t.xp6(3),t.Q6J("ngIf",e.transaction.customerNote),t.xp6(1),t.Q6J("ngIf",!e.transaction.customerNote),t.xp6(3),t.hij("",t.lcZ(38,29,"TEXTS.TRANSACTION_TYPE"),": "),t.xp6(3),t.Oqu(e.transaction.transactionTypeName),t.xp6(1),t.Q6J("ngForOf",e.transaction.attributes))},dependencies:[s.sg,s.O5,s.uU,h.X$,x.O],encapsulation:2});var Q=p(48781),Pt=p(2470);function Lt(a,n){if(1&a&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e.customerTransMasterTypeId),t.xp6(1),t.Oqu(e.name)}}function Ht(a,n){if(1&a&&(t.TgZ(0,"option",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(t.lcZ(2,2,"TEXTS."+e.key))}}function Ft(a,n){if(1&a&&t._UZ(0,"field-messages",37),2&a){const e=t.oxw(2);t.Q6J("field-errors",e.financialTransactionForm.errors)}}const w=function(a){return{mask:a}};function Jt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"form",17),t.NdJ("ngSubmit",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.getTransactionHistory(c.financialTransactionForm))}),t.TgZ(1,"div",18)(2,"div",19)(3,"h5",20),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",18)(7,"div",21)(8,"label",22),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"label",23),t._UZ(12,"input",24)(13,"i",25),t.qZA(),t._UZ(14,"input",26),t.qZA(),t.TgZ(15,"div",21)(16,"label",22),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"label",27),t._UZ(20,"input",28)(21,"i",25),t.qZA(),t._UZ(22,"input",29),t.qZA(),t.TgZ(23,"div",30)(24,"label",22),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"select",31)(28,"option",32),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.YNc(31,Lt,2,2,"option",33),t.qZA()(),t.TgZ(32,"div",30)(33,"label",22),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"select",31),t.YNc(37,Ht,3,4,"option",33),t.qZA()(),t.TgZ(38,"div",34)(39,"button",35),t._uU(40),t.ALo(41,"translate"),t.qZA()()(),t.YNc(42,Ft,1,1,"field-messages",36),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("formGroup",e.financialTransactionForm),t.xp6(4),t.Oqu(t.lcZ(5,25,"TEXTS.PLEASE_SELECT_A_DATE_RANGE")),t.xp6(5),t.hij("(",t.lcZ(10,27,"FIELDS.DATE_FORMAT"),")"),t.xp6(3),t.Q6J("materializeActions",e.startDateActions)("materializeParams",e.datepickerMaterializeParams)("formControl",e.financialTransactionForm.controls.startDatePicker),t.xp6(2),t.Q6J("imask",t.VKq(39,w,e.mask))("formControl",e.financialTransactionForm.controls.startDate),t.xp6(3),t.hij("(",t.lcZ(18,29,"FIELDS.DATE_FORMAT"),")"),t.xp6(3),t.Q6J("materializeActions",e.endDateActions)("materializeParams",e.datepickerMaterializeParams)("formControl",e.financialTransactionForm.controls.endDatePicker),t.xp6(2),t.Q6J("imask",t.VKq(41,w,e.mask))("formControl",e.financialTransactionForm.controls.endDate),t.xp6(3),t.Oqu(t.lcZ(26,31,"TEXTS.TRANSACTION_TYPE")),t.xp6(2),t.Q6J("formControl",e.financialTransactionForm.controls.masterTypeId),t.xp6(1),t.Q6J("value",null),t.xp6(1),t.Oqu(t.lcZ(30,33,"TEXTS.ALL")),t.xp6(2),t.Q6J("ngForOf",e.transactionMasterTypes),t.xp6(3),t.Oqu(t.lcZ(35,35,"TEXTS.STATUS")),t.xp6(2),t.Q6J("formControl",e.financialTransactionForm.controls.status),t.xp6(1),t.Q6J("ngForOf",e.transactionStatuses),t.xp6(2),t.Q6J("disabled",!e.financialTransactionForm.valid||e.formBusy),t.xp6(1),t.Oqu(t.lcZ(41,37,"TEXTS.SHOW")),t.xp6(2),t.Q6J("ngIf",!e.financialTransactionForm.valid&&e.financialTransactionForm.errors.wrongDayInterval)}}const Mt=function(a){return{active:a}};function Bt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.getFilteredTransactions(l.value))}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&a){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(4,Mt,e.value===i.selectedTransactionType)),t.xp6(2),t.Oqu(t.lcZ(3,2,"TEXTS."+e.key))}}function Rt(a,n){1&a&&(t.TgZ(0,"th")(1,"span",48),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"TEXTS.BALANCE")))}function Qt(a,n){if(1&a&&(t.ynx(0),t._uU(1),t.ALo(2,"csSide"),t.BQk()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.transactionAmount,e.transactionCurrency.currencySymbol)," ")}}function wt(a,n){if(1&a&&(t.ynx(0),t._uU(1),t.ALo(2,"csSide"),t.BQk()),2&a){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,e.transactionAmount,i.customerCurrency.currencySymbol)," ")}}function Yt(a,n){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.customerNote)}}function Xt(a,n){1&a&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function zt(a,n){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"csSide"),t.ALo(3,"floor"),t.qZA()),2&a){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,t.xi3(3,4,e.actualSportBalance,2),i.customerCurrency.currencySymbol)," ")}}function jt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"tr",53),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.getTransactionDetail(c))}),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t.YNc(7,Qt,3,4,"ng-container",49),t.YNc(8,wt,3,4,"ng-container",49),t.qZA(),t.TgZ(9,"td"),t.YNc(10,Yt,2,1,"span",49),t.YNc(11,Xt,2,0,"span",49),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"async"),t.ALo(15,"statusCodeTranslate"),t.qZA(),t.TgZ(16,"td"),t._UZ(17,"i",54),t.qZA(),t.YNc(18,zt,4,7,"td",49),t.qZA()}if(2&a){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(2),t.Oqu(t.xi3(3,8,e.transactionDate,"dd-MM-yyyy HH:mm")),t.xp6(3),t.Oqu(e.transactionTypeName),t.xp6(2),t.Q6J("ngIf",e.transactionCurrency),t.xp6(1),t.Q6J("ngIf",!e.transactionCurrency&&i.customerCurrency),t.xp6(2),t.Q6J("ngIf",e.customerNote),t.xp6(1),t.Q6J("ngIf",!e.customerNote),t.xp6(2),t.Oqu(t.lcZ(14,11,t.lcZ(15,13,e.status))),t.xp6(5),t.Q6J("ngIf",i.traderDefaults.gliShowBalanceHistory)}}function $t(a,n){if(1&a&&t.YNc(0,jt,19,15,"tr",52),2&a){const e=n.index,i=t.oxw(2);t.Q6J("ngIf",e>=i.paginatorValues.start&&e<i.paginatorValues.end)}}function Vt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t._UZ(3,"i",39),t.TgZ(4,"span",6),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",7)(8,"div",40)(9,"table",41)(10,"thead")(11,"tr",42),t.NdJ("tableSortChange",function(c){t.CHM(e);const l=t.oxw();return t.KtG(l.transactions=c)}),t.TgZ(12,"th")(13,"span",43),t._uU(14),t.ALo(15,"translate"),t.ALo(16,"translate"),t.qZA()(),t.TgZ(17,"th")(18,"span",44),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"th")(22,"span",45),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"th")(26,"span",46),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t.TgZ(29,"th")(30,"span",47),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.TgZ(33,"th")(34,"span",48),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.YNc(37,Rt,4,3,"th",49),t.qZA()(),t.TgZ(38,"tbody"),t.YNc(39,$t,1,1,"ng-template",50),t.qZA()()(),t._UZ(40,"paginator",51),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(5),t.AsE("",t.lcZ(6,13,"TEXTS.FINANCIAL_TRANSACTIONS_IN_BETWEEN"),": ",e.selectedStartDate+" - "+e.selectedEndDate,""),t.xp6(6),t.Q6J("tableSort",e.transactions),t.xp6(3),t.AsE("",t.lcZ(15,15,"TEXTS.DATE"),"/",t.lcZ(16,17,"TEXTS.TIME"),""),t.xp6(5),t.Oqu(t.lcZ(20,19,"TEXTS.TRANSACTION_TYPE")),t.xp6(4),t.Oqu(t.lcZ(24,21,"TEXTS.AMOUNT")),t.xp6(4),t.Oqu(t.lcZ(28,23,"FIELDS.CUSTOMER_NOTE")),t.xp6(4),t.Oqu(t.lcZ(32,25,"TEXTS.STATUS")),t.xp6(4),t.Oqu(t.lcZ(36,27,"TEXTS.DETAIL")),t.xp6(2),t.Q6J("ngIf",e.traderDefaults.gliShowBalanceHistory),t.xp6(2),t.Q6J("ngForOf",e.transactions),t.xp6(1),t.Q6J("values",e.paginatorValues)}}function Gt(a,n){1&a&&(t.TgZ(0,"div",55),t._UZ(1,"div",56),t.qZA())}function Wt(a,n){1&a&&(t.TgZ(0,"div",57),t._UZ(1,"img",58)(2,"br"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"MESSAGES.NO_DATA_FOUND")," "))}function Kt(a,n){if(1&a&&t._UZ(0,"financial-transactions-detail",59),2&a){const e=t.oxw();t.Q6J("transaction",e.selectedTransaction)}}f.N.map.financialTransactions;class q{constructor(n,e,i,c,l,u,A){this.financialTransactionService=n,this.datePipe=e,this.utilService=i,this.fb=c,this.userSevice=l,this.notificationService=u,this.traderService=A,this.componentName="financial-transactions",this.transactions=[],this.transactionMasterTypes=[],this.transactionStatuses=[],this.transactionTypes=[],this.selectedTransactionType=null,this.selectedTransaction=null,this.formBusy=!1,this.mask="00/00/0000",this.startDateActions=new t.vpe,this.endDateActions=new t.vpe,this.transactionDetailModalActions=new t.vpe,this.transactionDetailModalParams=[{dismissible:!0,complete:()=>{this.clearSelectedTransaction()}}],this.destroyed$=new N.xQ,this.paginatorValues=null,this.financialTransactionService.allTransactionStore$.pipe((0,m.R)(this.destroyed$)).subscribe(d=>{this.transactions=d.data||[],this.formBusy=d.loading,this.paginatorValues={currentPage:1,itemSize:this.transactions.length,pageSize:10,start:0,end:10}}),this.financialTransactionService.allMasterTypesStore$.pipe((0,m.R)(this.destroyed$)).subscribe(d=>{this.notificationService.clearNotifications(),this.transactionMasterTypes=d.data});const T=new Date;this.financialTransactionForm=this.fb.group({startDate:new o.NI(this.datePipe.transform(T,"dd/MM/yyyy")),startDatePicker:new o.NI(this.datePipe.transform(T,"dd/MM/yyyy")),endDate:new o.NI(this.datePipe.transform(T,"dd/MM/yyyy")),endDatePicker:new o.NI(this.datePipe.transform(T,"dd/MM/yyyy")),masterTypeId:new o.NI(null),status:new o.NI(null)},{validator:d=>(0,r.X6z)(d,31)}),this.utilService.getDatepickerParams().then(d=>{this.datepickerMaterializeParams=d})}ngOnInit(){this.traderDefaults=this.traderService.trader,this.setUpDateValidators(),this.getAllTransactionMasterTypes(),this.getAllTransactionStatuses(),this.getAllTransactionTypes(),this.getTransactionHistory(this.financialTransactionForm),this.userSevice.getCustomerCurrency().then(n=>{this.customerCurrency=n})}setUpDateValidators(){this.financialTransactionForm.controls.startDatePicker.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.financialTransactionForm.patchValue({startDate:n})}),this.financialTransactionForm.controls.startDate.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{if(this.utilService.isStartDateAfterEndDate(n,this.financialTransactionForm.controls.endDate.value)){let e=n.split("/");e=e[1]+"/"+e[0]+"/"+e[2],e=new Date(e);let i=e.getDate();i+=1,e.setDate(i),e=e.toLocaleDateString("en-AU"),this.financialTransactionForm.patchValue({endDate:e})}}),this.financialTransactionForm.controls.endDatePicker.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.financialTransactionForm.patchValue({endDate:n})}),this.financialTransactionForm.controls.endDate.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{if(this.utilService.isStartDateAfterEndDate(this.financialTransactionForm.controls.startDate.value,n)){let e=n.split("/");e=e[1]+"/"+e[0]+"/"+e[2],e=new Date(e);let i=e.getDate();i-=1,e.setDate(i),e=e.toLocaleDateString("en-AU"),this.financialTransactionForm.patchValue({startDate:e})}}),this.financialTransactionForm.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(()=>{this.utilService.getDiffDateResult(this.financialTransactionForm)})}getAllTransactionMasterTypes(){this.financialTransactionService.getAllTransactionMasterTypes(!0)}getAllTransactionStatuses(){this.transactionStatuses=this.utilService.getAllTransactionStatuses()}getAllTransactionTypes(){this.transactionTypes=this.utilService.getAllTransactionTypes()}getTransactionHistory(n){this.formBusy=!0,this.selectedTransactionType=null;const e={startDate:this.utilService.convertTimeStampDate(n.controls.startDate.value),endDate:this.utilService.convertTimeStampDate(n.controls.endDate.value),masterTypeId:n.controls.masterTypeId.value,status:n.controls.status.value};this.financialTransactionService.getAllTransactions(e),this.selectedStartDate=this.financialTransactionForm.controls.startDate.value,this.selectedEndDate=this.financialTransactionForm.controls.endDate.value}getFilteredTransactions(n){this.financialTransactionService.getFilteredTransactions(n).pipe((0,M.q)(1)).subscribe(e=>{this.transactions=e,this.selectedTransactionType=n||null,this.paginatorValues={currentPage:1,itemSize:this.transactions.length,pageSize:10,start:0,end:10}})}getTransactionDetail(n){this.selectedTransaction=n,this.transactionDetailModalActions.emit({action:"modal",params:["open"]})}clearSelectedTransaction(){this.selectedTransaction=null}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete(),this.financialTransactionService.clearMasterTypes$.next(),this.financialTransactionService.clearTransactions$.next()}}q.\u0275fac=function(n){return new(n||q)(t.Y36(r.rF),t.Y36(s.uU),t.Y36(r.XN8),t.Y36(o.qu),t.Y36(r.Ye3),t.Y36(r.Pzy),t.Y36(r._W6))},q.\u0275cmp=t.Xpm({type:q,selectors:[["financial-transactions"]],decls:19,vars:12,consts:[[1,"trnsctn-hstry-cntnt"],["contentCode","financial-transactions-top"],[1,"dshbrd-mdl"],[1,"mdl-hdr"],[1,"inf-hdr"],[1,"fa","fa-history"],[1,"inf-title"],[1,"mdl-cntnt"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"type-btn-grp"],["class","btn bg btn-fnc",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"componentName"],["class","dshbrd-mdl",4,"ngIf"],["class","progress",4,"ngIf"],["class","not-found-box",4,"ngIf"],["id","transactionHistoryModal123","materialize","modal",1,"modal","modal-sm","dshbrd-tckt-modal",3,"materializeActions","materializeParams"],[3,"transaction",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col","s12"],[1,"frm-hdr"],[1,"date-picker-field","col","s2"],[1,"field-label"],["for","transactionHistoryStartDatePicker",1,"date-picker-mask"],["type","text","id","transactionHistoryStartDatePicker","materialize","pickadate","tabindex","30",3,"materializeActions","materializeParams","formControl"],["aria-hidden","true",1,"fa","fa-calendar"],["type","text","pattern","[0-9]{2}/[0-9]{2}/[0-9]{4}","minlength","10","tabindex","1","required","",1,"datepicker","browser-default",3,"imask","formControl"],["for","transactionHistoryEndDatePicker",1,"date-picker-mask"],["type","text","id","transactionHistoryEndDatePicker","materialize","pickadate","tabindex","31",3,"materializeActions","materializeParams","formControl"],["type","text","pattern","[0-9]{2}/[0-9]{2}/[0-9]{4}","minlength","10","tabindex","2","required","",1,"datepicker","browser-default",3,"imask","formControl"],[1,"select-field","col","s3"],[1,"browser-default",3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"input-field","col","s2"],[1,"btn","w100",3,"disabled"],[3,"field-errors",4,"ngIf"],[3,"field-errors"],[1,"btn","bg","btn-fnc",3,"ngClass","click"],[1,"fa","fa-bars"],[1,"scrllble-tbl"],[1,"highlight","dshbrd-tbl","bet-history-table"],[3,"tableSort","tableSortChange"],["name","transactionDate"],["name","transactionTypeName"],["name","transactionAmount"],["name","customerNote"],["name","status"],["name","detail"],[4,"ngIf"],["ngFor","",3,"ngForOf"],[3,"values"],[3,"click",4,"ngIf"],[3,"click"],[1,"fa","fa-info-circle","pg-icons"],[1,"progress"],[1,"indeterminate"],[1,"not-found-box"],["src","../../../../../../assets/images/not-found-images.png","alt",""],[3,"transaction"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-static-inner-content",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"i",5),t.TgZ(6,"span",6),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",7),t.YNc(10,Jt,43,43,"form",8),t.TgZ(11,"div",9),t.YNc(12,Bt,4,6,"button",10),t.qZA()()(),t._UZ(13,"app-notifications",11),t.YNc(14,Vt,41,29,"div",12),t.YNc(15,Gt,2,0,"div",13),t.YNc(16,Wt,5,3,"div",14),t.TgZ(17,"div",15),t.YNc(18,Kt,1,1,"financial-transactions-detail",16),t.qZA()()),2&n&&(t.xp6(7),t.Oqu(t.lcZ(8,10,"TEXTS.COMPLETED_FINANCIAL_TRANSACTIONS")),t.xp6(3),t.Q6J("ngIf",e.datepickerMaterializeParams),t.xp6(2),t.Q6J("ngForOf",e.transactionTypes),t.xp6(1),t.Q6J("componentName",e.componentName),t.xp6(1),t.Q6J("ngIf",!e.formBusy&&e.transactions),t.xp6(1),t.Q6J("ngIf",e.formBusy),t.xp6(1),t.Q6J("ngIf",!(null!=e.transactions&&e.transactions.length||e.formBusy)),t.xp6(1),t.Q6J("materializeActions",e.transactionDetailModalActions)("materializeParams",e.transactionDetailModalParams),t.xp6(1),t.Q6J("ngIf",e.selectedTransaction))},dependencies:[s.mk,s.sg,s.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.Q7,o.wO,o.c5,o.oH,o.sg,y.M,k.An,F.n,L.J,R.p,Ct.Y,O.t,D,s.Ov,s.uU,h.X$,Q.o,Pt.S,x.O],encapsulation:2});var te=p(91343);function ee(a,n){1&a&&(t.TgZ(0,"span",5),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"TEXTS.RECENT_TRANSACTIONS")))}function ne(a,n){if(1&a&&(t.TgZ(0,"span",5),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.AsE("",t.lcZ(2,2,"TEXTS.BETS_IN_BETWEEN"),": ",e.selectedStartDate+" - "+e.selectedEndDate,"")}}function ae(a,n){1&a&&(t.TgZ(0,"td"),t._UZ(1,"i",45),t.qZA())}function ie(a,n){1&a&&(t.TgZ(0,"td"),t._UZ(1,"i",46),t.qZA())}function oe(a,n){1&a&&(t.TgZ(0,"td"),t._UZ(1,"i",45),t.qZA())}function re(a,n){1&a&&(t.TgZ(0,"td"),t._UZ(1,"i",46),t.qZA())}function se(a,n){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",44),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.getJackpotHistoryDetail(c))}),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"floor"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"floor"),t.qZA(),t.YNc(19,ae,2,0,"td",43),t.YNc(20,ie,2,0,"td",43),t.YNc(21,oe,2,0,"td",43),t.YNc(22,re,2,0,"td",43),t.TgZ(23,"td"),t._uU(24),t.qZA()(),t.BQk()}if(2&a){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(t.xi3(4,12,e.createUserDate,"dd-MM-yyyy HH:mm")),t.xp6(3),t.Oqu(e.jackpotBetId),t.xp6(2),t.Oqu(e.jackpotPrize),t.xp6(2),t.Oqu(e.jackpotEventCount),t.xp6(2),t.Oqu(e.reservedEventCount),t.xp6(2),t.Oqu(t.xi3(15,15,e.totalWin,2)),t.xp6(3),t.Oqu(t.xi3(18,18,e.returnAmount,2)),t.xp6(2),t.Q6J("ngIf",e.paid),t.xp6(1),t.Q6J("ngIf",!e.paid),t.xp6(1),t.Q6J("ngIf",e.finalised),t.xp6(1),t.Q6J("ngIf",!e.finalised),t.xp6(2),t.Oqu(e.status)}}function ce(a,n){if(1&a&&t.YNc(0,se,25,21,"ng-container",43),2&a){const e=n.index,i=t.oxw(2);t.Q6J("ngIf",e>=i.paginatorValues.start&&e<i.paginatorValues.end&&i.userCurrency)}}function le(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"i",26),t.YNc(4,ee,3,3,"span",27),t.YNc(5,ne,3,4,"span",27),t.qZA()(),t.TgZ(6,"div",6)(7,"div",28)(8,"table",29)(9,"thead")(10,"tr",30),t.NdJ("tableSortChange",function(c){t.CHM(e);const l=t.oxw();return t.KtG(l.jackpotHistoryData=c)}),t.TgZ(11,"th")(12,"span",31),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"th")(16,"span",32),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"th")(20,"span",33),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"th")(24,"span",34),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t.TgZ(27,"th")(28,"span",35),t._uU(29),t.ALo(30,"translate"),t.qZA()(),t.TgZ(31,"th")(32,"span",36),t._uU(33),t.ALo(34,"translate"),t.qZA()(),t.TgZ(35,"th")(36,"span",37),t._uU(37),t.ALo(38,"translate"),t.qZA()(),t.TgZ(39,"th")(40,"span",38),t._uU(41),t.ALo(42,"translate"),t.qZA()(),t.TgZ(43,"th")(44,"span",39),t._uU(45),t.ALo(46,"translate"),t.qZA()(),t.TgZ(47,"th")(48,"span",40),t._uU(49),t.ALo(50,"translate"),t.qZA()()()(),t.TgZ(51,"tbody"),t.YNc(52,ce,1,1,"ng-template",41),t.qZA()()(),t._UZ(53,"paginator",42),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.selectedStartDate||!e.selectedEndDate),t.xp6(1),t.Q6J("ngIf",e.selectedStartDate&&e.selectedEndDate),t.xp6(5),t.Q6J("tableSort",e.jackpotHistoryData),t.xp6(3),t.Oqu(t.lcZ(14,15,"TEXTS.CREATE_DATE")),t.xp6(4),t.Oqu(t.lcZ(18,17,"TEXTS.JACKPOT_BET_ID")),t.xp6(4),t.Oqu(t.lcZ(22,19,"TEXTS.JACKPOT_PRIZE")),t.xp6(4),t.Oqu(t.lcZ(26,21,"TEXTS.JACKPOT_EVENT_COUNT")),t.xp6(4),t.Oqu(t.lcZ(30,23,"TEXTS.RESERVED_EVENT_COUNT")),t.xp6(4),t.Oqu(t.lcZ(34,25,"TEXTS.TOTAL_WIN")),t.xp6(4),t.Oqu(t.lcZ(38,27,"TEXTS.RETURN_AMOUNT")),t.xp6(4),t.Oqu(t.lcZ(42,29,"TEXTS.PAID")),t.xp6(4),t.Oqu(t.lcZ(46,31,"TEXTS.FINALISED")),t.xp6(4),t.Oqu(t.lcZ(50,33,"TEXTS.STATUS")),t.xp6(3),t.Q6J("ngForOf",e.jackpotHistoryData),t.xp6(1),t.Q6J("values",e.paginatorValues)}}function pe(a,n){1&a&&(t.TgZ(0,"div",47),t._UZ(1,"div",48),t.qZA())}function ue(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"jackpot-history-detail",49),t.NdJ("closeDetailModal",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.closeDetailModal())}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("ticket",e.selectedJackpot)}}const Y=function(a){return{mask:a}};f.N.map.jackpotHistory;class b{constructor(n,e,i,c,l,u,A,T,d,_){this.datePipe=n,this.fb=e,this.betHistoryService=i,this.jackpotService=c,this.utilService=l,this.traderService=u,this.userService=A,this.translateFactory=T,this.translateService=d,this.notificationService=_,this.componentName="jackpot-history",this.destroyed$=new N.xQ,this.jackpotHistoryData=[],this.betHistoryStatusButtons=[],this.activeStatus=null,this.mask="00/00/0000",this.formBusy=!1,this.startDateActions=new t.vpe,this.endDateActions=new t.vpe,this.betHistoryDetailModalActions=new t.vpe,this.betHistoryDetailModalParams=[{dismissible:!0,complete:()=>{this.clearSelectedBet()}}],this.paginatorValues=null,this.cashOutRange={},this.showCashOutRange={},this.preparedCashOutObj={};const g=(new Date).setHours(23,59,59);this.jackpotHistoryForm=e.group({startDate:new o.NI(this.datePipe.transform(g,"dd/MM/yyyy")),startDatePicker:new o.NI(this.datePipe.transform(g,"dd/MM/yyyy")),endDate:new o.NI(this.datePipe.transform(g,"dd/MM/yyyy")),endDatePicker:new o.NI(this.datePipe.transform(g,"dd/MM/yyyy"))}),this.utilService.getDatepickerParams().then(Pe=>{this.datepickerMaterializeParams=Pe})}ngOnInit(){this.traderDefaults=this.traderService.trader,this.getBetHistoryStatusButtons(),this.jackpotHistoryForm.controls.startDatePicker.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.jackpotHistoryForm.patchValue({startDate:n})}),this.jackpotHistoryForm.controls.endDatePicker.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.jackpotHistoryForm.patchValue({endDate:n})}),this.jackpotHistoryForm.valueChanges.pipe((0,m.R)(this.destroyed$)).subscribe(()=>{this.utilService.getDiffDateResult(this.jackpotHistoryForm)}),this.initCustomerJackpotsStore(),this.getJackpotHistoryData(null,null),this.userService.getCustomerCurrency().then(n=>{this.userCurrency=n})}getJackpotHistoryData(n,e){this.formBusy=!0,this.activeStatus=null;const i={requestBody:{startDate:this.getStartEndDateConvertValue(n,"startDate"),endDate:this.getStartEndDateConvertValue(e,"endDate")}};this.requestModel=i,this.jackpotService.getCustomerJackpots(i)}getStartEndDateConvertValue(n,e){const i=this.utilService.convertTimeStampDate(n);if(!i)return i;switch(e){case"startDate":return new Date(new Date(i).setHours(0,0,0)).getTime();case"endDate":return new Date(new Date(i).setHours(23,59,59)).getTime();default:return i}}getFilteredBetHistoryData(n){this.activeStatus=n,this.jackpotHistoryData=this.betHistoryService.getFilteredBetHistoryData(n),this.paginatorValues={currentPage:1,itemSize:this.jackpotHistoryData.length,pageSize:10,start:0,end:10}}getJackpotHistoryDetail(n){this.selectedJackpot=n,this.betHistoryDetailModalActions.emit({action:"modal",params:["open"]})}closeDetailModal(n){this.betHistoryDetailModalActions.emit({action:"modal",params:["close"]})}clearSelectedBet(){this.selectedJackpot=null}getBetHistoryStatusButtons(){this.betHistoryStatusButtons=this.utilService.getBetHistoryStatusButtonGroup(this.traderDefaults,!1)}initCustomerJackpotsStore(){this.jackpotService.customerJackpotsStore$.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.formBusy=!1,n.data&&(this.notificationService.clearNotifications(),this.requestModel&&this.requestModel.requestBody.startDate&&(this.selectedStartDate=this.jackpotHistoryForm.controls.startDate.value,this.selectedEndDate=this.jackpotHistoryForm.controls.endDate.value),n.data.forEach(e=>{e.initialPlayedAmount=e.initialPlayedAmount||e.playedAmount||0,e.initialPosRetAmount=e.initialPosRetAmount||e.possibleReturnAmount||0}),this.jackpotHistoryData=n.data,this.jackpotHistoryData.sort((e,i)=>i.createUserDate-e.createUserDate),this.paginatorValues={currentPage:1,itemSize:this.jackpotHistoryData.length,pageSize:10,start:0,end:10}),n.error&&(n.error.forEach(e=>this.notificationService.addNotification("error",e)),this.jackpotHistoryData=[],this.formBusy=!1)},n=>{this.jackpotHistoryData=[],this.formBusy=!1})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete(),this.jackpotService.clearCustomerJackpots$.next()}}function me(a,n){1&a&&(t.ynx(0,2),t._UZ(1,"div",3),t.BQk())}function de(a,n){if(1&a&&(t.ynx(0,2),t._UZ(1,"message-box",4),t.BQk()),2&a){const e=t.oxw(2);t.xp6(1),t.s9C("content",e.errors)}}function _e(a,n){if(1&a&&(t.ynx(0),t.TgZ(1,"div",23),t._uU(2),t.qZA(),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.AsE("",null==e?null:e.homeCompetitorName," - ",null==e?null:e.awayCompetitorName,"")}}function Te(a,n){if(1&a&&(t.TgZ(0,"li",17)(1,"div",18),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",19)(5,"table",20)(6,"thead")(7,"tr")(8,"th"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th"),t._uU(21),t.ALo(22,"translate"),t.qZA()()(),t.TgZ(23,"tbody")(24,"tr",21)(25,"td"),t.YNc(26,_e,3,2,"ng-container",0),t.TgZ(27,"div",22),t._uU(28),t.qZA()(),t.TgZ(29,"td"),t._uU(30),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.qZA()()()()()()),2&a){const e=n.$implicit,i=n.index;t.xp6(2),t.AsE(" ",t.lcZ(3,13,"TEXTS.COUPON")," ",i+1," "),t.xp6(7),t.Oqu(t.lcZ(10,15,"TEXTS.EVENT")),t.xp6(3),t.Oqu(t.lcZ(13,17,"TEXTS.BET_TYPE")),t.xp6(3),t.Oqu(t.lcZ(16,19,"TEXTS.SELECTION")),t.xp6(3),t.Oqu(t.lcZ(19,21,"TEXTS.PLAYED_RATE")),t.xp6(3),t.Oqu(t.lcZ(22,23,"TEXTS.ROUND_ID")),t.xp6(5),t.Q6J("ngIf",(null==e?null:e.homeCompetitorName)||(null==e?null:e.awayCompetitorName)),t.xp6(2),t.Oqu(null==e?null:e.leagueName),t.xp6(2),t.hij(" ",null==e?null:e.marketName," "),t.xp6(2),t.hij(" ",null==e?null:e.selection," "),t.xp6(2),t.hij(" ",null==e?null:e.playedOdd," "),t.xp6(2),t.hij(" ",null==e?null:e.roundId," ")}}function fe(a,n){if(1&a&&(t.ynx(0),t.YNc(1,Te,37,25,"ng-template",16),t.BQk()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.reportDetail)}}function ge(a,n){if(1&a&&(t.ynx(0),t.TgZ(1,"div",5)(2,"h5",6),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"code"),t._uU(6),t.qZA(),t._uU(7),t.ALo(8,"translate"),t.TgZ(9,"code"),t._uU(10),t.qZA()(),t.TgZ(11,"p",7),t._UZ(12,"i",8),t._uU(13),t.ALo(14,"date"),t.qZA(),t.TgZ(15,"a",9),t._UZ(16,"i",10),t.qZA()(),t.TgZ(17,"div",11)(18,"div",12)(19,"table",13)(20,"thead")(21,"tr")(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th"),t._uU(32),t.ALo(33,"translate"),t.qZA()()(),t.TgZ(34,"tbody")(35,"tr")(36,"td"),t._UZ(37,"span",14),t.ALo(38,"csSide"),t.ALo(39,"number"),t.qZA(),t.TgZ(40,"td"),t._UZ(41,"span",14),t.ALo(42,"csSide"),t.ALo(43,"number"),t.qZA(),t.TgZ(44,"td"),t._UZ(45,"span",14),t.ALo(46,"csSide"),t.ALo(47,"number"),t.qZA(),t.TgZ(48,"td"),t._UZ(49,"i"),t.qZA()()()()(),t.TgZ(50,"ul",15),t.YNc(51,fe,2,1,"ng-container",0),t.qZA()(),t.BQk()),2&a){const e=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,17,"TEXTS.BET_NUMBER")," : "),t.xp6(3),t.Oqu(e.report.iframeBetId),t.xp6(1),t.hij(" / ",t.lcZ(8,19,"TEXTS.TOTAL_BETS"),": "),t.xp6(3),t.Oqu(null==e.reportDetail?null:e.reportDetail.length),t.xp6(3),t.hij(" ",t.xi3(14,21,e.report.playedDate,"dd-MM-yyyy HH:mm"),""),t.xp6(10),t.Oqu(t.lcZ(24,24,"TEXTS.REMANING_BET_AMOUNT")),t.xp6(3),t.Oqu(t.lcZ(27,26,"TEXTS.POSSIBLE_WINNINGS")),t.xp6(3),t.Oqu(t.lcZ(30,28,"TEXTS.AMOUNT_TO_BE_WON")),t.xp6(3),t.Oqu(t.lcZ(33,30,"TEXTS.STATUS")),t.xp6(5),t.Q6J("innerHTML",t.Dn7(38,32,t.xi3(39,36,e.report.playedAmount,"1.2-2"),e.userCurrency.currencySymbol,"currency-symbol"),t.oJD),t.xp6(4),t.Q6J("innerHTML",t.Dn7(42,39,t.xi3(43,43,e.report.maxPossiblePayoutAmount,"1.2-2"),e.userCurrency.currencySymbol,"currency-symbol"),t.oJD),t.xp6(4),t.Q6J("innerHTML",t.Dn7(46,46,t.xi3(47,50,e.report.winAmount,"1.2-2"),e.userCurrency.currencySymbol,"currency-symbol"),t.oJD),t.xp6(4),t.MT6("fa ",null==e.report||null==e.report.stI?null:e.report.stI.icon," ",null==e.report||null==e.report.stI?null:e.report.stI.status,""),t.xp6(2),t.Q6J("ngIf",null==e.reportDetail?null:e.reportDetail.length)}}function he(a,n){if(1&a&&(t.ynx(0),t.YNc(1,me,2,0,"ng-container",1),t.YNc(2,de,2,1,"ng-container",1),t.YNc(3,ge,52,53,"ng-container",0),t.BQk()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader&&e.errors),t.xp6(1),t.Q6J("ngIf",!e.loader&&!e.errors&&e.report&&e.userCurrency)}}b.\u0275fac=function(n){return new(n||b)(t.Y36(s.uU),t.Y36(o.qu),t.Y36(r.quW),t.Y36(r.j1m),t.Y36(r.XN8),t.Y36(r._W6),t.Y36(r.Ye3),t.Y36(r.chr),t.Y36(h.sK),t.Y36(r.Pzy))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-jackpot-history"]],decls:35,vars:31,consts:[[1,"bet-hstry-cntnt"],[1,"dshbrd-mdl"],[1,"mdl-hdr"],[1,"inf-hdr"],[1,"fa","fa-history"],[1,"inf-title"],[1,"mdl-cntnt"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col","s12"],[1,"frm-hdr"],[1,"date-picker-field","col","s5"],["for","betHistoryStartDatePicker",1,"date-picker-mask"],["type","text","id","betHistoryStartDatePicker","materialize","pickadate","tabindex","30",3,"materializeActions","materializeParams","formControl"],["aria-hidden","true",1,"fa","fa-calendar"],["type","text","pattern","[0-9]{2}/[0-9]{2}/[0-9]{4}","minlength","10","tabindex","1","required","",1,"datepicker","browser-default",3,"imask","formControl"],["for","betHistoryEndDatePicker",1,"date-picker-mask"],["type","text","id","betHistoryEndDatePicker","materialize","pickadate","tabindex","30",3,"materializeActions","materializeParams","formControl"],["type","text","pattern","[0-9]{2}/[0-9]{2}/[0-9]{4}","minlength","10","tabindex","2","required","",1,"datepicker","browser-default",3,"imask","formControl"],[1,"input-field","col","s2"],["type","submit",1,"btn","w100",3,"disabled"],[3,"componentName"],["class","dshbrd-mdl",4,"ngIf"],["class","progress",4,"ngIf"],["id","betHistoryDetailModal","materialize","modal",1,"modal","modal-md","dshbrd-tckt-modal","hdr-fix",3,"materializeActions","materializeParams"],[3,"ticket","closeDetailModal",4,"ngIf"],[1,"fa","fa-bars"],["class","inf-title",4,"ngIf"],[1,"scrllble-tbl"],[1,"dshbrd-tbl","highlight"],[3,"tableSort","tableSortChange"],["name","createUserDate"],["name","jackpotBetId"],["name","jackpotPrize"],["name","jackpotEventCount"],["name","reservedEventCount"],["name","totalWin"],["name","returnAmount"],["name","paid"],["name","finalised"],["name","status"],["ngFor","",3,"ngForOf"],[3,"values"],[4,"ngIf"],[1,"bg","trigger-btn",3,"click"],["aria-hidden","true",1,"fa","fa-check"],["aria-hidden","true",1,"fa","fa-times"],[1,"progress"],[1,"indeterminate"],[3,"ticket","closeDetailModal"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"i",4),t.TgZ(5,"span",5),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"div",6)(9,"form",7),t.NdJ("ngSubmit",function(){return e.getJackpotHistoryData(e.jackpotHistoryForm.controls.startDate.value,e.jackpotHistoryForm.controls.endDate.value)}),t.TgZ(10,"div",8)(11,"div",9)(12,"h5",10),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"div",8)(16,"div",11)(17,"label",12),t._UZ(18,"input",13)(19,"i",14),t.qZA(),t._UZ(20,"input",15),t.qZA(),t.TgZ(21,"div",11)(22,"label",16),t._UZ(23,"input",17)(24,"i",14),t.qZA(),t._UZ(25,"input",18),t.qZA(),t.TgZ(26,"div",19)(27,"button",20),t._uU(28),t.ALo(29,"translate"),t.qZA()()()()()(),t._UZ(30,"app-notifications",21),t.YNc(31,le,54,35,"div",22),t.YNc(32,pe,2,0,"div",23),t.TgZ(33,"div",24),t.YNc(34,ue,1,1,"jackpot-history-detail",25),t.qZA()()),2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,21,"TEXTS.BET_HISTORY")),t.xp6(3),t.Q6J("formGroup",e.jackpotHistoryForm),t.xp6(4),t.Oqu(t.lcZ(14,23,"TEXTS.PLEASE_SELECT_A_DATE_RANGE")),t.xp6(5),t.Q6J("materializeActions",e.startDateActions)("materializeParams",e.datepickerMaterializeParams)("formControl",e.jackpotHistoryForm.controls.startDatePicker),t.xp6(2),t.Q6J("imask",t.VKq(27,Y,e.mask))("formControl",e.jackpotHistoryForm.controls.startDate),t.xp6(3),t.Q6J("materializeActions",e.endDateActions)("materializeParams",e.datepickerMaterializeParams)("formControl",e.jackpotHistoryForm.controls.endDatePicker),t.xp6(2),t.Q6J("imask",t.VKq(29,Y,e.mask))("formControl",e.jackpotHistoryForm.controls.endDate),t.xp6(2),t.Q6J("disabled",!e.jackpotHistoryForm.valid||e.formBusy),t.xp6(1),t.Oqu(t.lcZ(29,25,"TEXTS.SHOW")),t.xp6(2),t.Q6J("componentName",e.componentName),t.xp6(1),t.Q6J("ngIf",e.jackpotHistoryData.length>0&&!e.formBusy),t.xp6(1),t.Q6J("ngIf",e.formBusy),t.xp6(1),t.Q6J("materializeActions",e.betHistoryDetailModalActions)("materializeParams",e.betHistoryDetailModalParams),t.xp6(1),t.Q6J("ngIf",e.selectedJackpot))},dependencies:[s.sg,s.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.wO,o.c5,o.oH,o.sg,y.M,k.An,L.J,R.p,te.V,O.t,s.uU,h.X$,Q.o],encapsulation:2});f.N.map.iframeReportsDetail;class C{constructor(n,e,i){this.iframeReportService=n,this.translateFactory=e,this.traderService=i}ngOnInit(){this.getIframeDetail(),this.userCurrency=this.traderService.currentCurrency}getIframeDetail(){this.loader=!0,this.iframeReportService.getIframeDetail(this.iframeReportService.selectedBetId).then(n=>{this.loader=!1,this.reportDetail=n,this.errors=null}).catch(n=>{this.loader=!1,this.errors=n[0]})}}C.\u0275fac=function(n){return new(n||C)(t.Y36(r.G34),t.Y36(r.chr),t.Y36(r._W6))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-iframe-report-detail"]],inputs:{report:"report"},decls:1,vars:1,consts:[[4,"ngIf"],["class","progress",4,"ngIf"],[1,"progress"],[1,"indeterminate"],["type","error","icon","fa fa-exclamation-circle",3,"content"],[1,"modal-header"],[1,"ticket-title"],[1,"ticket-date"],["aria-hidden","true",1,"fa","fa-clock-o"],["href","javascript:;",1,"modal-action","mar-5","modal-close","cursor-pointer"],[1,"fa","fa-times"],[1,"modal-content"],[1,"tckt-stts-tbl"],[1,"dshbrd-tbl","ticket","stts-L"],[3,"innerHTML"],["materialize","collapsible","data-collapsible","expandable",1,"tckt-lst","collapsible"],["ngFor","",3,"ngForOf"],[1,"tckt-itm"],[1,"collapsible-header","active"],[1,"collapsible-body"],[1,"striped","dshbrd-tbl"],[1,"ticket","stts-L"],[1,"event-league"],[1,"event-name"]],template:function(n,e){1&n&&t.YNc(0,he,4,3,"ng-container",0),2&n&&t.Q6J("ngIf",e.report)},dependencies:[s.sg,s.O5,y.M,P.W,s.JJ,s.uU,h.X$,x.O],encapsulation:2});var Ae=function(a,n,e,i){return new(e||(e=Promise))(function(l,u){function A(_){try{d(i.next(_))}catch(g){u(g)}}function T(_){try{d(i.throw(_))}catch(g){u(g)}}function d(_){_.done?l(_.value):function c(l){return l instanceof e?l:new e(function(u){u(l)})}(_.value).then(A,T)}d((i=i.apply(a,n||[])).next())})};const Ze=function(a,n){return["/",a,"dashboard","account-activity","iframe-report",n]};function ye(a,n){if(1&a&&(t.TgZ(0,"li",29)(1,"a",30),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.WLB(2,Ze,i.currentLang,e.code)),t.xp6(1),t.hij(" ",e.name," ")}}function xe(a,n){if(1&a&&t.YNc(0,ye,3,5,"li",28),2&a){const e=n.$implicit;t.Q6J("ngIf",e.active)}}function ve(a,n){if(1&a&&(t.ynx(0),t.TgZ(1,"ul",26),t.YNc(2,xe,1,1,"ng-template",27),t.qZA(),t.BQk()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.iframeReportsMenu)}}const Se=function(a){return{active:a}};function De(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.setNewStatus(l))}),t._UZ(1,"i"),t.TgZ(2,"i"),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&a){const e=n.$implicit;t.Gre("btn bg stts-",e.value," fltr-btn"),t.Q6J("ngClass",t.VKq(14,Se,e.active)),t.xp6(1),t.MT6("stts-",e.class," ",e.icon,""),t.xp6(1),t.Gre("stts-",e.class,""),t.xp6(1),t.Oqu(t.lcZ(4,12,"TEXTS."+e.key))}}function qe(a,n){if(1&a&&(t.ynx(0),t.YNc(1,De,5,16,"ng-template",27),t.BQk()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.iframeStatuses)}}function be(a,n){1&a&&(t.ynx(0,32),t._UZ(1,"div",33),t.BQk())}function Ce(a,n){if(1&a&&(t.ynx(0,32),t._UZ(1,"message-box",34),t.BQk()),2&a){const e=t.oxw();t.xp6(1),t.s9C("content",e.errors)}}function Ue(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"tr",37),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.getReportDetail(l))}),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"span",38),t.ALo(15,"csSide"),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"td"),t._UZ(18,"span",38),t.ALo(19,"csSide"),t.ALo(20,"number"),t.qZA(),t.TgZ(21,"td"),t._UZ(22,"span",38),t.ALo(23,"csSide"),t.ALo(24,"number"),t.qZA(),t.TgZ(25,"td"),t._UZ(26,"i"),t.qZA()()}if(2&a){const e=n.$implicit,i=t.oxw(3);t.Gre("bg stts-",e.status,""),t.xp6(2),t.Oqu(t.xi3(3,15,e.playedDate,"dd-MM-yyyy HH:mm")),t.xp6(3),t.Oqu(t.xi3(6,18,e.settlementDate,"dd-MM-yyyy HH:mm")),t.xp6(3),t.Oqu(e.providerName),t.xp6(2),t.Oqu(e.gameName),t.xp6(2),t.Oqu(e.iframeBetId),t.xp6(2),t.Q6J("innerHTML",t.Dn7(15,21,t.xi3(16,25,e.playedAmount,"1.2-2"),i.userCurrency.currencySymbol,"currency-symbol"),t.oJD),t.xp6(4),t.Q6J("innerHTML",t.Dn7(19,28,t.xi3(20,32,e.maxPossiblePayoutAmount,"1.2-2"),i.userCurrency.currencySymbol,"currency-symbol"),t.oJD),t.xp6(4),t.Q6J("innerHTML",t.Dn7(23,35,t.xi3(24,39,e.winAmount,"1.2-2"),i.userCurrency.currencySymbol,"currency-symbol"),t.oJD),t.xp6(4),t.MT6("fa ",null==e||null==e.stI?null:e.stI.icon," ",null==e||null==e.stI?null:e.stI.status,"")}}function Ee(a,n){if(1&a&&(t.ynx(0),t.YNc(1,Ue,27,42,"ng-template",27),t.BQk()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.reports)}}function Ne(a,n){if(1&a&&(t.ynx(0),t.TgZ(1,"div",2)(2,"div",35)(3,"table",36)(4,"thead")(5,"tr")(6,"th"),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"th"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"th"),t._uU(33),t.ALo(34,"translate"),t.qZA()()(),t.TgZ(35,"tbody"),t.YNc(36,Ee,2,1,"ng-container",3),t.qZA()()()(),t.BQk()),2&a){const e=t.oxw();t.xp6(7),t.AsE("",t.lcZ(8,12,"TEXTS.DATE")," / ",t.lcZ(9,14,"TEXTS.TIME"),""),t.xp6(4),t.AsE("",t.lcZ(12,16,"TEXTS.SETTLEMENT_DATE")," / ",t.lcZ(13,18,"TEXTS.SETTLEMENT_TIME"),""),t.xp6(4),t.Oqu(t.lcZ(16,20,"TEXTS.PROVIDER_NAME")),t.xp6(3),t.Oqu(t.lcZ(19,22,"TEXTS.GAME_NAME")),t.xp6(3),t.Oqu(t.lcZ(22,24,"TEXTS.BET_NO")),t.xp6(3),t.Oqu(t.lcZ(25,26,"TEXTS.REMANING_BET_AMOUNT")),t.xp6(3),t.Oqu(t.lcZ(28,28,"TEXTS.POSSIBLE_WINNINGS")),t.xp6(3),t.Oqu(t.lcZ(31,30,"TEXTS.AMOUNT_TO_BE_WON")),t.xp6(3),t.Oqu(t.lcZ(34,32,"TEXTS.STATUS")),t.xp6(3),t.Q6J("ngIf",(null==e.reports?null:e.reports.length)&&e.userCurrency)}}function Oe(a,n){if(1&a&&t._UZ(0,"app-iframe-report-detail",39),2&a){const e=t.oxw();t.Q6J("report",e.selectedReport)}}const X=function(a){return{mask:a}};f.N.map.iframeReports;class U{constructor(n,e,i,c,l,u,A){this.iframeReportsService=n,this.translateFactory=e,this.utilService=i,this.activatedRoute=c,this.fb=l,this.datePipe=u,this.traderService=A,this.iframeReportDetailModalActions=new t.vpe,this.iframeReportDetailModalParams=[{dismissible:!0,complete:()=>{this.selectedClearing()}}],this.startDateActions=new t.vpe,this.endDateActions=new t.vpe,this.mask="00/00/0000"}ngOnInit(){return Ae(this,void 0,void 0,function*(){this.datepickerMaterializeParams=yield this.utilService.getDatepickerParams();const n=new Date;this.iframeReportForm=this.fb.group({startDate:new o.NI(this.datePipe.transform(n,"dd/MM/yyyy")),startDatePicker:new o.NI(this.datePipe.transform(n,"dd/MM/yyyy")),endDate:new o.NI(this.datePipe.transform(n,"dd/MM/yyyy")),endDatePicker:new o.NI(this.datePipe.transform(n,"dd/MM/yyyy"))}),this.rSubs=this.activatedRoute.params.subscribe(e=>{e&&e.code&&(this.pCode=e.code,this.foundSelectedProvider(e.code),this.iframeStatuses=this.iframeReportsService.getIframeStatuses(),this.selectedStatus=this.iframeStatuses[0],this.getIframeReportData(this.iframeReportForm),this.userCurrency=this.traderService.currentCurrency)}),this.formBeforeActions(),this.currentLang=this.translateFactory.currentLang.code})}ngOnDestroy(){typeof this.rSubs<"u"&&this.rSubs.unsubscribe()}getIframeReportData(n){this.loader=!0;const e={startDate:this.getStartEndDateConvertValue(n.controls.startDate.value,"startDate"),endDate:this.getStartEndDateConvertValue(n.controls.endDate.value,"endDate"),providerCode:this.pCode,status:this.selectedStatus?this.selectedStatus.value:null};this.iframeReportsService.getIframeReports(e).then(i=>{this.loader=!1,this.errors=null,this.reports=i}).catch(i=>{this.loader=!1,this.errors=i&&i.error&&i.error.responseCodes&&i.error.responseCodes.length?`MESSAGES.${i.error.responseCodes[0].responseKey}`:"MESSAGES.EXCEPTION",this.reports=[]})}getStartEndDateConvertValue(n,e){const i=this.utilService.convertTimeStampDate(n);if(!i)return i;switch(e){case"startDate":return new Date(new Date(i).setHours(0,0,0)).getTime();case"endDate":return new Date(new Date(i).setHours(23,59,59)).getTime();default:return i}}foundSelectedProvider(n){const e=setInterval(()=>{typeof this.iframeReportsMenu<"u"&&(this.selectedProvider=this.iframeReportsMenu.find(i=>i.code===n),clearInterval(e))},500)}formBeforeActions(){this.iframeReportForm.controls.startDatePicker.valueChanges.subscribe(n=>{this.iframeReportForm.patchValue({startDate:n})}),this.iframeReportForm.controls.endDatePicker.valueChanges.subscribe(n=>{this.iframeReportForm.patchValue({endDate:n})}),this.iframeReportForm.controls.startDate.valueChanges.subscribe(n=>{if(this.utilService.isStartDateAfterEndDate(n,this.iframeReportForm.controls.endDate.value)){let e=n.split("/");e=e[1]+"/"+e[0]+"/"+e[2],e=new Date(e);let i=e.getDate();i+=1,e.setDate(i),e=e.toLocaleDateString("en-AU"),this.iframeReportForm.patchValue({endDate:e})}}),this.iframeReportForm.controls.endDate.valueChanges.subscribe(n=>{if(this.utilService.isStartDateAfterEndDate(this.iframeReportForm.controls.startDate.value,n)){let e=n.split("/");e=e[1]+"/"+e[0]+"/"+e[2],e=new Date(e);let i=e.getDate();i-=1,e.setDate(i),e=e.toLocaleDateString("en-AU"),this.iframeReportForm.patchValue({startDate:e})}})}selectedClearing(){this.iframeReportsService.selectedBetId=null,this.selectedReport=null}setNewStatus(n){for(const e in this.iframeStatuses)this.iframeStatuses[e].value===n.value?this.iframeStatuses[e].active=!0:this.iframeStatuses[e].active=!1;this.selectedStatus=n,this.getIframeReportData(this.iframeReportForm)}getReportDetail(n){this.iframeReportsService.selectedBetId=n.iframeBetId,this.selectedReport=n,this.iframeReportDetailModalActions.emit({action:"modal",params:["open"]})}get iframeReportsMenu(){return this.iframeReportsService.iframeReportsMenu}}U.\u0275fac=function(n){return new(n||U)(t.Y36(r.G34),t.Y36(r.chr),t.Y36(r.XN8),t.Y36(I.gz),t.Y36(o.qu),t.Y36(s.uU),t.Y36(r._W6))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-iframe-reports"]],decls:39,vars:33,consts:[[1,"bet-hstry-cntnt","bet-lmt-cntnt"],[1,"dshbrd-mdl"],[1,"mdl-cntnt"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col","s12"],[1,"frm-hdr"],[1,"date-picker-field","col","s5"],["for","betHistoryStartDatePicker",1,"date-picker-mask"],["type","text","id","betHistoryStartDatePicker","materialize","pickadate","tabindex","30",3,"materializeActions","materializeParams","formControl"],["aria-hidden","true",1,"fa","fa-calendar"],["type","text","pattern","[0-9]{2}/[0-9]{2}/[0-9]{4}","minlength","10","tabindex","1","required","",1,"datepicker","browser-default",3,"imask","formControl"],["for","betHistoryEndDatePicker",1,"date-picker-mask"],["type","text","id","betHistoryEndDatePicker","materialize","pickadate","tabindex","30",3,"materializeActions","materializeParams","formControl"],["type","text","pattern","[0-9]{2}/[0-9]{2}/[0-9]{4}","minlength","10","tabindex","2","required","",1,"datepicker","browser-default",3,"imask","formControl"],[1,"input-field","col","s12","m2"],[1,"btn","w100",3,"disabled"],[1,"type-btn-grp"],[1,"mdl-hdr"],[1,"inf-hdr"],[1,"fa","fa-bars"],[1,"inf-title"],["class","progress",4,"ngIf"],["id","betHistoryModal","materialize","modal",1,"modal","modal-md","dshbrd-tckt-modal","hdr-fix",3,"materializeActions","materializeParams"],[3,"report",4,"ngIf"],[1,"tabs"],["ngFor","",3,"ngForOf"],["class","tab",4,"ngIf"],[1,"tab"],["href","javascript:;","routerLinkActive","active",1,"iframe-tabs",3,"routerLink"],[3,"ngClass","click"],[1,"progress"],[1,"indeterminate"],["type","error","icon","fa fa-exclamation-circle",3,"content"],[1,"scrllble-tbl"],[1,"dshbrd-tbl","highlight"],[3,"click"],[3,"innerHTML"],[3,"report"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,ve,3,1,"ng-container",3),t.TgZ(4,"form",4),t.NdJ("ngSubmit",function(){return e.getIframeReportData(e.iframeReportForm)}),t.TgZ(5,"div",5)(6,"div",6)(7,"h5",7),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",5)(11,"div",8)(12,"label",9),t._UZ(13,"input",10)(14,"i",11),t.qZA(),t._UZ(15,"input",12),t.qZA(),t.TgZ(16,"div",8)(17,"label",13),t._UZ(18,"input",14)(19,"i",11),t.qZA(),t._UZ(20,"input",15),t.qZA(),t.TgZ(21,"div",16)(22,"button",17),t._uU(23),t.ALo(24,"translate"),t.qZA()()()(),t.TgZ(25,"div",18),t.YNc(26,qe,2,1,"ng-container",3),t.qZA()()(),t.TgZ(27,"div",1)(28,"div",19)(29,"div",20),t._UZ(30,"i",21),t.TgZ(31,"span",22),t._uU(32),t.ALo(33,"translate"),t.qZA()()(),t.YNc(34,be,2,0,"ng-container",23),t.YNc(35,Ce,2,1,"ng-container",23),t.YNc(36,Ne,37,34,"ng-container",3),t.qZA()(),t.TgZ(37,"div",24),t.YNc(38,Oe,1,1,"app-iframe-report-detail",25),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngIf",null==e.iframeReportsMenu?null:e.iframeReportsMenu.length),t.xp6(1),t.Q6J("formGroup",e.iframeReportForm),t.xp6(4),t.Oqu(t.lcZ(9,23,"TEXTS.PLEASE_SELECT_A_DATE_RANGE")),t.xp6(5),t.Q6J("materializeActions",e.startDateActions)("materializeParams",e.datepickerMaterializeParams)("formControl",e.iframeReportForm.controls.startDatePicker),t.xp6(2),t.Q6J("imask",t.VKq(29,X,e.mask))("formControl",e.iframeReportForm.controls.startDate),t.xp6(3),t.Q6J("materializeActions",e.endDateActions)("materializeParams",e.datepickerMaterializeParams)("formControl",e.iframeReportForm.controls.endDatePicker),t.xp6(2),t.Q6J("imask",t.VKq(31,X,e.mask))("formControl",e.iframeReportForm.controls.endDate),t.xp6(2),t.Q6J("disabled",!e.iframeReportForm.valid),t.xp6(1),t.Oqu(t.lcZ(24,25,"TEXTS.SHOW")),t.xp6(3),t.Q6J("ngIf",null==e.iframeStatuses?null:e.iframeStatuses.length),t.xp6(6),t.Oqu(t.lcZ(33,27,"TEXTS.RECENT_TRANSACTIONS")),t.xp6(2),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader&&e.errors),t.xp6(1),t.Q6J("ngIf",!e.loader&&!e.errors),t.xp6(1),t.Q6J("materializeActions",e.iframeReportDetailModalActions)("materializeParams",e.iframeReportDetailModalParams),t.xp6(1),t.Q6J("ngIf",e.selectedReport))},dependencies:[I.rH,I.Od,s.mk,s.sg,s.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.wO,o.c5,o.oH,o.sg,y.M,k.An,P.W,C,s.JJ,s.uU,h.X$,x.O],encapsulation:2});const Ie=[{path:"bet-history",component:W.g,data:{name:"bet-history",meta:"dashboard.accountActivity.betHistory"}},{path:"jackpot-history",component:b,data:{name:"jackpot-history"}},{path:"bonus-activities",canActivate:[r.m6R],component:v,data:{name:"bonus-activities",meta:"dashboard.accountActivity.bonusActivities"}},{path:"financial-transactions",canActivate:[r.m6R],component:q,data:{name:"financial-transactions",meta:"dashboard.accountActivity.financialTransactions"}},{path:"casino-pro-history",canActivate:[r.m6R],component:S,data:{name:"casino-pro-history",meta:"dashboard.accountActivity.casinoProHistory"}},{path:"free-spin",canActivate:[r.m6R],component:Z,data:{name:"free-spin",meta:"dashboard.accountActivity.freeSpin"}},{path:"iframe-report/:code",canActivate:[r.m6R],component:U,data:{name:"iframe-reports",meta:"dashboard.accountActivity.iframeReports"}}],ke=I.Bz.forChild(Ie);class E{}E.\u0275fac=function(n){return new(n||E)},E.\u0275mod=t.oAB({type:E}),E.\u0275inj=t.cJS({imports:[ke,s.ez,z.m]})}}]);