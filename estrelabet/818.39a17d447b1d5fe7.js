"use strict";(self.webpackChunkdesktop=self.webpackChunkdesktop||[]).push([[818],{37818:(Pa,ce,m)=>{m.r(ce),m.d(ce,{GamesModule:()=>$});var _=m(36895),h=m(34793),e=m(94650),r=m(13313),x=m(7226),J=m(89466),se=m(87034),k=m(7625),pe=m(40943),le=m(75778),P=m(8929),v=m(32925),O=m(33683),d=m(24006),ge=m(71351),_e=m(30870),E=m(73548),F=m(93307),N=m(78387),M=m(90558),q=m(4888),oe=m(69817),me=m(16949),de=m(12589),he=m(11033),Te=m(70564);function Se(n,i){if(1&n&&(e.TgZ(0,"span",8),e._UZ(1,"img",9),e.qZA()),2&n){const t=e.oxw().$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("src",s.cdnUrl+"common/assets/images/"+s.pathCode+"/22x22/"+t.code+".png",e.LSH)}}function De(n,i){1&n&&(e.TgZ(0,"span",10),e._UZ(1,"i",11),e.qZA())}const ue=function(n){return{active:n}};function Ze(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",4),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.vendorFilter(c.cId,o.id))}),e.YNc(2,Se,2,1,"span",5),e.YNc(3,De,2,0,"span",6),e.TgZ(4,"span",7),e._uU(5),e.qZA()(),e.BQk()}if(2&n){const t=i.$implicit,s=e.oxw(2);e.xp6(1),e.Gre("vendor-item vendorId-",t.id,""),e.Q6J("ngClass",e.VKq(7,ue,t.id===s.vId)),e.xp6(1),e.Q6J("ngIf",t.id>0),e.xp6(1),e.Q6J("ngIf",0===t.id),e.xp6(2),e.Oqu(t.name)}}function be(n,i){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,Ze,6,9,"ng-container",3),e.ALo(2,"sort"),e.ALo(3,"sort"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.xi3(3,4,t.vendorsData,"name"),t.orderByField))}}function ye(n,i){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ae(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",14),e.NdJ("change",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.vendorSelected(a.target.value))}),e.TgZ(2,"option",15),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,ye,2,2,"option",16),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(4,3,"FIELDS.PROVIDERS")),e.xp6(2),e.Q6J("ngForOf",t.vendorsData)}}function Ie(n,i){if(1&n&&(e.TgZ(0,"span",8),e._UZ(1,"img",9),e.qZA()),2&n){const t=e.oxw(2).$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("src",s.cdnUrl+"common/assets/images/"+s.pathCode+"/22x22/"+t.code+".png",e.LSH)}}function Le(n,i){1&n&&(e.TgZ(0,"span",10),e._UZ(1,"i",11),e.qZA())}function we(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"a",4),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.vendorFilter(o.cId,a.id))}),e.YNc(2,Ie,2,1,"span",5),e.YNc(3,Le,2,0,"span",6),e.TgZ(4,"span",7),e._uU(5),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(4,ue,t.id===s.vId)),e.xp6(1),e.Q6J("ngIf",t.id>0),e.xp6(1),e.Q6J("ngIf",0===t.id),e.xp6(2),e.Oqu(t.name)}}function ke(n,i){if(1&n&&(e.ynx(0),e.YNc(1,we,6,6,"ng-template",19),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("id",t.id)}}function Ge(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"owl-carousel-o",18),e.NdJ("dragging",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.isDragging=a.dragging)}),e.YNc(1,ke,2,1,"ng-container",3),e.ALo(2,"sort"),e.ALo(3,"sort"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("options",t.options),e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,e.xi3(3,5,t.vendorsData,"name"),t.orderByField))}}function Ne(n,i){if(1&n&&(e.YNc(0,Ae,6,5,"ng-container",12),e.YNc(1,Ge,4,8,"ng-template",null,13,e.W1O)),2&n){const t=e.oxw();e.Q6J("ngIf",t.isDropdown)("ngIfElse",t.isCarousel)}}x.N.map.horizontalScroll;class V{constructor(i,t,s){this.gamesService=i,this.router=t,this.options={loop:!0,mouseDrag:!0,touchDrag:!0,dragEndSpeed:880,dots:!1,navSpeed:700,lazyLoad:!0,lazyLoadEager:20,autoplay:!1,items:5,navText:["<i class='material-icons'>chevron_left</i>","<i class='material-icons'>chevron_right</i>"],responsive:{0:{items:3},400:{items:4},740:{items:5}},nav:!0},this.cIdChange=new e.vpe,this.vIdChange=new e.vpe,this.gamesDataChange=new e.vpe,this.gamesCountChange=new e.vpe}ngOnInit(){this.vendorsData.forEach(i=>{"all"===i.code&&(i.orderByCasino=-1,i.orderByLiveCasino=-1)}),this.orderByField=this.defineCasinoOrderField(this.gameType)}horizontalScroll(i){1===i?document.getElementById("horizontal-slide").scrollLeft-=70:document.getElementById("horizontal-slide").scrollLeft+=70}vendorFilter(i,t){if(this.vId===t)return!1;this.cId=i,this.vId=t,this.cIdChange.emit(this.cId),this.vIdChange.emit(this.vId);this.vendorsData.find(function(a){return a.id===Number(t)});this.gamesService.filterCV(this.gameType,Number(i),Number(t)).then(a=>(this.gamesData=a.slice(0,20),this.gamesCount=a.length,this.gamesCountChange.emit(a.length),this.orderType&&2===this.orderType&&(this.gamesData=this.gamesData.sort((o,c)=>o.name.localeCompare(c.name))),this.gamesDataChange.emit(this.gamesData)))}vendorSelected(i){this.vendorFilter(this.cId,Number(i))}defineCasinoOrderField(i){return i===r.h_f.CAS?"orderByCasino":"orderByLiveCasino"}}function Ue(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"option",6),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.name," (",t.webCount,") ")}}function Oe(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Ue,3,3,"ng-container",5),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t.webCount)}}function Me(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",2),e.NdJ("change",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.categorySelected(a.target.value))}),e.TgZ(2,"option",3),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Oe,2,1,"ng-container",4),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(4,3,"FIELDS.CATEGORIES")),e.xp6(2),e.Q6J("ngForOf",t.categoriesData)}}V.\u0275fac=function(i){return new(i||V)(e.Y36(r.e80),e.Y36(h.F0),e.Y36(e.SBq))},V.\u0275cmp=e.Xpm({type:V,selectors:[["app-horizontal-scroll"]],inputs:{vendorsData:"vendorsData",orderType:"orderType",pathCode:"pathCode",categoriesData:"categoriesData",gamesCount:"gamesCount",gamesData:"gamesData",cdnUrl:"cdnUrl",cId:"cId",currentLang:"currentLang",vId:"vId",gameType:"gameType",showAllVendor:"showAllVendor",isDropdown:"isDropdown"},outputs:{cIdChange:"cIdChange",vIdChange:"vIdChange",gamesDataChange:"gamesDataChange",gamesCountChange:"gamesCountChange"},decls:3,vars:2,consts:[["class","all-vendors",4,"ngIf","ngIfElse"],["slider",""],[1,"all-vendors"],[4,"ngFor","ngForOf"],["href","javascript:;",3,"ngClass","click"],["class","icon-img",4,"ngIf"],["class","icon",4,"ngIf"],[1,"type","truncate"],[1,"icon-img"],[3,"src"],[1,"icon"],[1,"fa","fa-globe"],[4,"ngIf","ngIfElse"],["isCasrousel",""],[1,"browser-default","method","left",3,"change"],["disabled","","selected","selected",3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"options","dragging"],["carouselSlide","",3,"id"],[1,"events"]],template:function(i,t){if(1&i&&(e.YNc(0,be,4,7,"div",0),e.YNc(1,Ne,3,2,"ng-template",null,1,e.W1O)),2&i){const s=e.MAs(2);e.Q6J("ngIf",t.showAllVendor)("ngIfElse",s)}},dependencies:[_.mk,_.sg,_.O5,d.YN,d.Kr,he.Fy,he.Mp,v.X$,Te.U],encapsulation:2});const Ee=function(n){return{active:n}};function Je(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.catFilter(a.id,o.vId))}),e._UZ(2,"i",8),e.TgZ(3,"span",9),e._uU(4),e.qZA(),e.TgZ(5,"span",10),e._uU(6),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit,s=e.oxw(2);e.xp6(1),e.s9C("title",t.name),e.Q6J("ngClass",e.VKq(4,Ee,t.id===s.cId)),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.webCount)}}function qe(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Je,7,6,"ng-container",5),e.BQk()),2&n){const t=i.$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(-3!==t.id||(null==s.lastTen?null:s.lastTen.length))&&t.webCount)}}function Qe(n,i){if(1&n&&e.YNc(0,qe,2,1,"ng-container",4),2&n){const t=e.oxw();e.Q6J("ngForOf",t.categoriesData)}}x.N.map.categoryContainer;class H{constructor(i,t,s,a,o,c){this.gamesService=i,this.storageService=t,this.navigationService=s,this.translateFactory=a,this.router=o,this.traderService=c,this.cIdChange=new e.vpe,this.vIdChange=new e.vpe,this.gamesDataChange=new e.vpe,this.gamesCountChange=new e.vpe,this.goGameCatSubs=null,this.currentLang=this.translateFactory.currentLang.code,this.goGameCatSubs=this.navigationService.getObservableCatVIdCatCont().subscribe(p=>{this.catFilter(p.catId,p.vId)})}ngOnInit(){this.traderService.trader.displayLastTenCasinoCat||(this.categoriesData=this.categoriesData.filter(i=>-3!==i.id)),this.traderService.trader.showCustomCasinoCategoriesPage||(this.categoriesData=this.categoriesData.filter(i=>!i.isCustom))}catFilter(i,t){if(this.cId===i)return!1;this.vId=t,this.cId=i,this.cIdChange.emit(this.cId),this.vIdChange.emit(this.vId);const s=this.setGameCategory(this.gameType,this.cId),a=this.router.url.includes("livecasino")?r.h_f.sLCAS:r.h_f.sCAS;-3===i?this.gamesService.getPlayedGames(r.h_f.sCAS,this.gamesService._gg[a]).then(o=>{this.gamesCount=o.length,this.gamesData=o,this.router.navigate([this.currentLang,"games",s,"category",i]),this.gamesCountChange.emit(this.gamesCount),this.gamesDataChange.emit(this.gamesData)}):this.gamesService.filterCV(this.gameType,i,t).then(o=>{this.gamesCount=o.length,this.gamesData=o.slice(0,20),this.orderType&&2===this.orderType&&(this.gamesData=this.gamesData.sort((c,p)=>c.name.localeCompare(p.name))),this.router.navigate([this.currentLang,"games",s,"category",i]),this.gamesCountChange.emit(o.length),this.gamesDataChange.emit(this.gamesData)})}categorySelected(i){this.catFilter(Number(i),this.vId)}setGameCategory(i,t){let s="";return i===r.h_f.CAS?(this.storageService.session.set("selectedCasCat",t),s=r.h_f.sCAS):(this.storageService.session.set("selectedLiveCat",t),s=r.h_f.sLCAS.toLowerCase()),s}ngOnDestroy(){this.goGameCatSubs.unsubscribe()}}function Ye(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",5),e._UZ(2,"div",6),e.qZA(),e.BQk())}function Pe(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",7),e._UZ(2,"message-box",8),e.qZA(),e.BQk())}function Fe(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"message-box",9),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("content",t.pageData.properties.notFound)}}H.\u0275fac=function(i){return new(i||H)(e.Y36(r.e80),e.Y36(r.SwN),e.Y36(O.f),e.Y36(r.chr),e.Y36(h.F0),e.Y36(r._W6))},H.\u0275cmp=e.Xpm({type:H,selectors:[["app-category-container"]],inputs:{categoriesData:"categoriesData",vendorsData:"vendorsData",gamesData:"gamesData",orderType:"orderType",gamesCount:"gamesCount",vId:"vId",gameType:"gameType",cId:"cId",lastTen:"lastTen",isDropdown:"isDropdown"},outputs:{cIdChange:"cIdChange",vIdChange:"vIdChange",gamesDataChange:"gamesDataChange",gamesCountChange:"gamesCountChange"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["list",""],[1,"browser-default","order","left",3,"change"],["disabled","","selected","selected",3,"value"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],["href","javascript:;",1,"collection-item","flex-container",3,"ngClass","title","click"],[1,"left","pg-icons","fa","fa-star"],[1,"text","flex-item"],[1,"secondary-content","count"]],template:function(i,t){if(1&i&&(e.YNc(0,Me,6,5,"ng-container",0),e.YNc(1,Qe,1,1,"ng-template",null,1,e.W1O)),2&i){const s=e.MAs(2);e.Q6J("ngIf",t.isDropdown)("ngIfElse",s)}},dependencies:[_.mk,_.sg,_.O5,d.YN,d.Kr,v.X$],encapsulation:2});const Ve=function(n){return{param0:n}};function He(n,i){if(1&n&&(e._UZ(0,"message-box",29),e.ALo(1,"translate"),e.ALo(2,"async")),2&n){const t=e.oxw(2);e.s9C("content",e.xi3(1,1,"MESSAGES.MAX_BET_LIMIT",e.VKq(6,Ve,e.lcZ(2,4,t.userService.maxBetLimit))))}}function Be(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",38)(2,"app-category-container",39),e.NdJ("gamesCountChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.calcCount(a))})("gamesDataChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.setGames(a))})("cIdChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.setCat(a))})("vIdChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.vId=a)}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("orderType",t.orderType)("lastTen",t.lastTen)("gamesCount",t.pageData.properties.gamesCount)("gamesData",t.gamesData)("categoriesData",t.categoriesData)("vendorsData",t.vendorsData)("vId",t.pageData.properties.vId)("cId",t.pageData.properties.cId)("gameType",t.pageData.properties.gameType)}}function Re(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",30),e._UZ(1,"app-static-inner-content",31),e.TgZ(2,"h4",32),e.ALo(3,"translate"),e.TgZ(4,"span",33),e._uU(5),e.qZA(),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div")(9,"div",34)(10,"i",35),e._uU(11,"search"),e.qZA(),e.TgZ(12,"input",36),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.pageData.properties.char=a)})("onDebounce",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.findGames(a.pageData.properties.char))}),e.ALo(13,"translate"),e.qZA()(),e.YNc(14,Be,3,9,"ng-container",3),e.qZA(),e._UZ(15,"app-static-inner-content",37),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(2),e.cQ8("title","",t.pageData.properties.gamesCount,"/",t.pageData.properties.listLimit," ",e.lcZ(3,10,"TEXTS.GAME"),""),e.xp6(3),e.AsE("",t.pageData.properties.gamesCount,"/",t.pageData.properties.listLimit,""),e.xp6(1),e.hij("",e.lcZ(7,12,"TEXTS.GAME")," "),e.xp6(6),e.s9C("placeholder",e.lcZ(13,14,"TEXTS.FIND_A_GAME")),e.Q6J("ngModel",t.pageData.properties.char)("debounce",1e3),e.xp6(2),e.Q6J("ngIf",null==t.categoriesData?null:t.categoriesData.length)}}function Ke(n,i){1&n&&e._UZ(0,"egt-jackpot-banner")}function $e(n,i){1&n&&e._UZ(0,"fugaso-jackpot-banner")}function je(n,i){if(1&n&&(e.TgZ(0,"h4",40),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.selectedCategory.name," ")}}function ze(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-horizontal-scroll",42),e.NdJ("gamesDataChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.gamesData=a)})("cIdChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.cId=a)})("vIdChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.setVendor(a))})("gamesCountChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.calcCount(a))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("isDropdown",!0)("orderType",t.orderType)("gamesData",t.gamesData)("showAllVendor",t.showAllVendor)("cdnUrl",t.pageData.properties.cdnUrl)("categoriesData",t.categoriesData)("vendorsData",t.vendorsData)("cId",t.pageData.properties.cId)("vId",t.pageData.properties.vId)("gamesCount",t.pageData.properties.gamesCount)("gameType",t.pageData.properties.gameType)("currentLang",t.currentLang)}}function Xe(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34)(2,"i",35),e._uU(3,"search"),e.qZA(),e.TgZ(4,"input",36),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.pageData.properties.char=a)})("onDebounce",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.findGames(a.pageData.properties.char))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"app-category-container",41),e.NdJ("gamesCountChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.calcCount(a))})("gamesDataChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setGames(a))})("cIdChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setCat(a))})("vIdChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.vId=a)}),e.qZA(),e.YNc(7,ze,2,12,"ng-container",3),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(4),e.s9C("placeholder",e.lcZ(5,14,"TEXTS.FIND_A_GAME")),e.Q6J("ngModel",t.pageData.properties.char)("debounce",1e3),e.xp6(2),e.Q6J("isDropdown",!0)("orderType",t.orderType)("lastTen",t.lastTen)("gamesCount",t.pageData.properties.gamesCount)("gamesData",t.gamesData)("categoriesData",t.categoriesData)("vendorsData",t.vendorsData)("vId",t.pageData.properties.vId)("cId",t.pageData.properties.cId)("gameType",t.pageData.properties.gameType),e.xp6(1),e.Q6J("ngIf",null==t.vendorsData?null:t.vendorsData.length)}}function We(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.pageData.properties.liShow=!a.pageData.properties.liShow)}),e.ALo(1,"translate"),e.TgZ(2,"i",44),e._uU(3,"view_module"),e.qZA()()}2&n&&e.s9C("title",e.lcZ(1,1,"TEXTS.SHOW_AS_BOX"))}function et(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.pageData.properties.liShow=!a.pageData.properties.liShow)}),e.ALo(1,"translate"),e.TgZ(2,"i",44),e._uU(3,"view_list"),e.qZA()()}2&n&&e.s9C("title",e.lcZ(1,1,"TEXTS.SHOW_AS_LIST"))}function tt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",46),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.allVendors(!a.showAllVendor))}),e.TgZ(1,"div",47),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"a",48),e._UZ(5,"i",49)(6,"i",50),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,5,"TEXTS.VENDOR")," "),e.xp6(3),e.ekj("hide",t.showAllVendor),e.xp6(1),e.ekj("hide",!t.showAllVendor)}}function it(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-horizontal-scroll",51),e.NdJ("gamesDataChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.gamesData=a)})("cIdChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.cId=a)})("vIdChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setVendor(a))})("gamesCountChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.calcCount(a))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("orderType",t.orderType)("gamesData",t.gamesData)("showAllVendor",t.showAllVendor)("cdnUrl",t.pageData.properties.cdnUrl)("categoriesData",t.categoriesData)("vendorsData",t.vendorsData)("cId",t.pageData.properties.cId)("vId",t.pageData.properties.vId)("gamesCount",t.pageData.properties.gamesCount)("gameType",t.pageData.properties.gameType)("currentLang",t.currentLang)}}function nt(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"message-box",9),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("content",t.pageData.properties.notFound)}}function at(n,i){1&n&&(e.TgZ(0,"div",72),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.NEW")))}function st(n,i){1&n&&(e.TgZ(0,"div",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.POPULAR")))}function ot(n,i){if(1&n&&(e.TgZ(0,"div",75),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,s=e.oxw(4);e.xp6(1),e.Oqu(s.tags[t])}}function rt(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ot,2,1,"div",74),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.tags)}}function ct(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",76),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.goGameDetail(a,"demo"))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TEXTS.FREE_PLAY")," "))}function pt(n,i){if(1&n&&(e.TgZ(0,"small",70),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.vendorName)}}function lt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",54)(2,"div",55),e._UZ(3,"img",56)(4,"img",57),e.TgZ(5,"div",58),e.YNc(6,at,3,3,"div",59),e.YNc(7,st,3,3,"div",60),e.YNc(8,rt,2,1,"ng-container",61),e.qZA(),e._UZ(9,"app-user-favorite",62),e.TgZ(10,"div",63),e._UZ(11,"img",64),e.qZA(),e.TgZ(12,"div",65)(13,"div",66)(14,"a",67),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.goGameDetail(o,"normal"))}),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,ct,3,3,"a",68),e.qZA()()(),e.TgZ(18,"div",69)(19,"span",70),e._uU(20),e.qZA(),e.YNc(21,pt,2,1,"small",71),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(3),e.s9C("alt",t.name),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/casino/300x200/"+t.id+".jpg",e.LSH),e.xp6(1),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(2),e.Q6J("ngIf",t.newGame),e.xp6(1),e.Q6J("ngIf",t.popular),e.xp6(1),e.Q6J("ngForOf",t.tagIds),e.xp6(1),e.Q6J("id",t.id)("type",s.favoriteType),e.xp6(2),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/casino/32x32/"+t.vendorCode+".png",e.LSH),e.xp6(4),e.hij(" ",e.lcZ(16,13,"TEXTS.PLAY_NOW")," "),e.xp6(2),e.Q6J("ngIf",t.freePlay),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",s.casinoFullDisplay)}}function gt(n,i){if(1&n&&(e.ynx(0),e.YNc(1,lt,22,15,"div",52),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.gamesData)}}function _t(n,i){1&n&&(e.TgZ(0,"div",72),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.NEW")))}function mt(n,i){1&n&&(e.TgZ(0,"div",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.POPULAR")))}function dt(n,i){if(1&n&&(e.TgZ(0,"div",72),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,s=e.oxw(4);e.xp6(1),e.Oqu(s.tags[t])}}function ht(n,i){if(1&n&&(e.ynx(0),e.YNc(1,dt,2,1,"div",59),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.tags)}}function ut(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",76),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.goGameDetail(a,"demo"))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TEXTS.FREE_PLAY")," "))}function ft(n,i){if(1&n&&(e.TgZ(0,"small",70),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.vendorName)}}function vt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",54)(2,"div",55),e._UZ(3,"img",56)(4,"img",57),e.TgZ(5,"div",58),e.YNc(6,_t,3,3,"div",59),e.YNc(7,mt,3,3,"div",60),e.YNc(8,ht,2,1,"ng-container",61),e.qZA(),e._UZ(9,"app-user-favorite",62),e.TgZ(10,"div",63),e._UZ(11,"img",64),e.qZA(),e.TgZ(12,"div",65)(13,"div",66)(14,"a",67),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.goGameDetail(o,"normal"))}),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,ut,3,3,"a",68),e.qZA()()(),e.TgZ(18,"div",69)(19,"span",70),e._uU(20),e.qZA(),e.YNc(21,ft,2,1,"small",71),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(3),e.s9C("alt",t.name),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/casino/300x200/"+t.id+".jpg",e.LSH),e.xp6(1),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(2),e.Q6J("ngIf",t.newGame),e.xp6(1),e.Q6J("ngIf",t.popular),e.xp6(1),e.Q6J("ngForOf",t.tagIds),e.xp6(1),e.Q6J("id",t.id)("type",s.favoriteType),e.xp6(2),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/casino/32x32/"+t.vendorCode+".png",e.LSH),e.xp6(4),e.hij(" ",e.lcZ(16,13,"TEXTS.PLAY_NOW")," "),e.xp6(2),e.Q6J("ngIf",t.freePlay),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",s.casinoFullDisplay)}}function Ct(n,i){if(1&n&&(e.ynx(0),e.YNc(1,vt,22,15,"div",52),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.gamesData)}}function xt(n,i){if(1&n&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.vendorName)}}function Tt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",79)(1,"a",80),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.goGameDetail(o,"normal"))}),e._UZ(2,"img",81),e.TgZ(3,"span",82),e._uU(4),e.YNc(5,xt,2,1,"small",3),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(1),e.s9C("title",t.name),e.xp6(1),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/casino/22x22/"+t.vendorCode+".png",e.LSH),e.xp6(2),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",s.casinoFullDisplay)}}function St(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",77)(2,"ul"),e.YNc(3,Tt,6,4,"ng-template",78),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.gamesData)}}const fe=function(n){return{s12:n}};function Dt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",84)(1,"button",85),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.less())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(4,fe,!t.pageData.properties.showMore)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"TEXTS.SHOW_LESS_GAMES")," ")}}function Zt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",84)(1,"button",86),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.more())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(4,fe,!t.pageData.properties.showLess)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"TEXTS.SHOW_MORE_GAMES")," ")}}function bt(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",12),e.YNc(2,Dt,4,6,"div",83),e.YNc(3,Zt,4,6,"div",83),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.pageData.properties.showLess),e.xp6(1),e.Q6J("ngIf",t.pageData.properties.showMore)}}function yt(n,i){1&n&&e._UZ(0,"app-static-inner-content",87)}function At(n,i){if(1&n&&e._UZ(0,"app-static-inner-content",88),2&n){const t=e.oxw(2);e.Q6J("contentCode",t.selCatContentCode)}}const It=function(n){return{"full-casino":n}},Lt=function(n,i){return{s12:n,s10:i}};function wt(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",10),e.YNc(2,He,3,8,"message-box",11),e.ALo(3,"async"),e.TgZ(4,"div",12),e.YNc(5,Re,16,16,"div",13),e.TgZ(6,"div",14),e.YNc(7,Ke,1,0,"egt-jackpot-banner",3),e.YNc(8,$e,1,0,"fugaso-jackpot-banner",15),e.TgZ(9,"div",16),e.YNc(10,je,2,1,"ng-template",17),e.TgZ(11,"div",18),e.YNc(12,Xe,8,16,"ng-container",3),e.YNc(13,We,4,3,"ng-template",17),e.YNc(14,et,4,3,"ng-template",17),e.TgZ(15,"select",19),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.pageData.properties.orderBy=a)})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.selOrderBy(a.pageData.properties.orderBy))}),e.TgZ(16,"option",20),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",21),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"option",21),e._uU(23,"A-Z"),e.qZA()(),e.TgZ(24,"select",22),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.pageData.properties.viewType=a)}),e.TgZ(25,"option",23),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"option",21),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"div",24),e.YNc(32,tt,7,7,"div",25),e.YNc(33,it,2,11,"ng-container",3),e.TgZ(34,"div",26)(35,"div",12),e.YNc(36,nt,2,1,"ng-container",3),e.YNc(37,gt,2,1,"ng-container",3),e.YNc(38,Ct,2,1,"ng-container",3),e.YNc(39,St,4,1,"ng-container",3),e.qZA(),e.YNc(40,bt,4,2,"ng-container",3),e.qZA()()()(),e.YNc(41,yt,1,0,"app-static-inner-content",27),e.YNc(42,At,1,1,"app-static-inner-content",28),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(40,It,t.casinoFullDisplay)),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,30,t.userService.maxBetLimit)),e.xp6(3),e.Q6J("ngIf",!t.casinoFullDisplay),e.xp6(1),e.Q6J("ngClass",e.WLB(42,Lt,t.casinoFullDisplay,!t.casinoFullDisplay)),e.xp6(1),e.Q6J("ngIf",t.showEgtCasino),e.xp6(1),e.Q6J("customConfig","traderDefaults.fugasoJackpotBannerEnabled === 1 || traderDefaults.fugasoJackpotBannerEnabled === 1,2"),e.xp6(2),e.Q6J("ngIf",t.selectedCategory),e.xp6(2),e.Q6J("ngIf",t.casinoFullDisplay),e.xp6(1),e.Q6J("ngIf",t.pageData.properties.liShow),e.xp6(1),e.Q6J("ngIf",!t.pageData.properties.liShow),e.xp6(1),e.Q6J("ngModel",t.pageData.properties.orderBy),e.xp6(1),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(18,32,"TEXTS.ORDER")),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(21,34,"TEXTS.DEFAULT")),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("ngModel",t.pageData.properties.viewType),e.xp6(1),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(27,36,"TEXTS.INLINE")),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.Oqu(e.lcZ(30,38,"TEXTS.POPUP")),e.xp6(3),e.Q6J("ngIf",!t.casinoFullDisplay),e.xp6(1),e.Q6J("ngIf",(null==t.vendorsData?null:t.vendorsData.length)&&!t.casinoFullDisplay),e.xp6(3),e.Q6J("ngIf",!(null!=t.gamesData&&t.gamesData.length)),e.xp6(1),e.Q6J("ngIf",!t.pageData.properties.liShow&&(null==t.gamesData?null:t.gamesData.length)&&!t.pageData.properties.searching),e.xp6(1),e.Q6J("ngIf",!t.pageData.properties.liShow&&(null==t.gamesData?null:t.gamesData.length)&&t.pageData.properties.searching),e.xp6(1),e.Q6J("ngIf",t.pageData.properties.liShow&&(null==t.gamesData?null:t.gamesData.length)),e.xp6(1),e.Q6J("ngIf",(null==t.gamesData?null:t.gamesData.length)&&!t.pageData.properties.searching),e.xp6(1),e.Q6J("ngIf",t.isMainPage),e.xp6(1),e.Q6J("ngIf",!t.isMainPage&&t.selCatContentCode)}}const kt=function(){return{dismissible:!0}},Gt=function(n){return[n]};x.N.map.casino;class Q{constructor(i,t,s,a,o,c,p,l,f,S,y,A,L,D,u,T,C){this.route=i,this.gamesService=t,this.traderService=s,this.applicationService=a,this.translateService=o,this.userService=c,this.toastFactory=p,this.router=l,this.translateFactory=f,this.rootService=S,this.navigationService=y,this.tcknVerificationService=A,this.modalService=L,this.trackingService=D,this.cdRef=u,this.userFavoritesService=T,this.storageService=C,this.showAllVendor=x.N.trader.showAllVendor||!1,this.newPageData={categories:[],items:[]},this.pageData=new r.ZwM,this.casinoFullDisplay=!1,this.destroy$=new P.xQ,this.TcknVerificationModal=new e.vpe,this.showEgtCasino=!1,this.listLimit=20,this.isUnderMaintenance=!1,this.subNavItemsSet=!1,this.isAlive$=new P.xQ,this.scrollExcecuted=!1,this.goGameCatSubs=null,this.traderService.trader.cgpp&&(this.listLimit=this.traderService.trader.cgpp),this.pageData.properties.gameType=r.h_f.CAS,this.currentLang=this.translateFactory.currentLang.code,this.pageData.properties.isLoggedIn=this.userService.user,this.pageData.properties.cdnUrl=this.traderService.trader.tCDNU,this.pageData.properties.vendorName=this.route.snapshot.params.vendorName,this.pageData.properties.viewType=this.traderService.trader.ocgnw?2:1,this.casinoFullDisplay=!!x.N.trader.casinoFullDisplay,this.pageData.properties.isOpen=this.applicationService.settingList.find(g=>"is-casino-api-open"===g.parameter).value,"1"!==this.pageData.properties.isOpen&&(this.isUnderMaintenance=!0),this.navigationService.getObservableGameIdToInitGame().pipe((0,k.R)(this.isAlive$)).subscribe(g=>{this.setCat(g.catId),this.navigationService.setCatForCatContainer(g.catId,this.pageData.properties.vId)}),this.tcknVerificationRequired(),this.userService.isLoggedIn.pipe((0,k.R)(this.isAlive$)).subscribe(g=>{null!==g.username&&this.tcknVerificationService.checkTcknParams("openGame"),this.pageData.properties.isLoggedIn=g,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId)}),this.route.params.pipe((0,k.R)(this.isAlive$)).subscribe(g=>{let w;if(this.pageData.properties.listLimit=this.listLimit,g&&typeof g.vendorName<"u")typeof this.gamesService.vendorsList<"u"?(w=this.gamesService.vendorsList.find(I=>I.code===g.vendorName),"1"===this.pageData.properties.isOpen?(this.pageData.properties.vId=w.id,this.getGames(w.id,this.pageData.properties.cId)):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")):this.gamesService.getVendors(r.h_f.CAS).then(I=>{w=I.find(b=>b.code===g.vendorName),"1"===this.pageData.properties.isOpen?w?(this.pageData.properties.vId=w.id,this.getGames(w.id,this.pageData.properties.cId)):this.translateService.get("MESSAGES.GAME_NOT_FOUND").subscribe(b=>{this.pageData.properties.notFound=b,this.pageData.properties.inProgress=!1}):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")});else if(g&&typeof g?.categoryId<"u"){let I;typeof this.gamesService.getCategoriesList(r.h_f.sCAS)<"u"?this.gamesService.getGames(r.h_f.sCAS).then(()=>{I=this.gamesService.getCategoriesList(r.h_f.sCAS).find(b=>this.categoryMatched(b,g)),"1"===this.pageData.properties.isOpen?(this.pageData.properties.cId=I.id,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId)):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")}).catch(b=>{this.translateService.get("MESSAGES.GAME_NOT_FOUND").subscribe(U=>{this.pageData.properties.notFound=U,this.pageData.properties.inProgress=!1})}):this.gamesService.getGames(r.h_f.sCAS).then(()=>{this.gamesService.getCategories(r.h_f.sCAS).then(b=>{this.gamesService.prepareMainCats().then(U=>{b[0].name=U.allTxt,b[1].name=U.popularTxt,b[2].name=U.newTxt,I=b.find(re=>this.categoryMatched(re,g)),"1"===this.pageData.properties.isOpen?I?(this.pageData.properties.cId=I.id,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId)):this.translateService.get("MESSAGES.GAME_NOT_FOUND").subscribe(re=>{this.pageData.properties.notFound=re,this.pageData.properties.inProgress=!1}):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")})})}).catch(b=>{this.translateService.get("MESSAGES.GAME_NOT_FOUND").subscribe(U=>{this.pageData.properties.notFound=U,this.pageData.properties.inProgress=!1})})}else"1"===this.pageData.properties.isOpen?(this.pageData.properties.cId=this.traderService.trader.isCasinoPopularsCatSelected?-1:0,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId)):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")})}onWindowScroll(){x.N.trader.infiniteScrollCasino&&window.scrollY>=document.body.offsetHeight-window.outerHeight-100&&!this.scrollExcecuted&&(this.scrollExcecuted=!0,this.more(),setTimeout(()=>{this.scrollExcecuted=!1},1e3))}ngOnInit(){this.favoriteType=1,this.showEgtCasino=!!this.traderService.trader.showEgtJackpotOnCasino&&!!this.traderService.trader.showEgtJackpotOnCasino.includes("d"),this.isMainPage=this.router.url.endsWith("/casino"),window.scrollTo(0,0),this.gamesService.getTags().then(i=>this.tags=i),this.userFavoritesService.favorites.pipe((0,pe.g)(500),(0,le.x)(),(0,k.R)(this.destroy$)).subscribe(i=>{this.gamesService.getGamesOfVAndC(this.pageData.properties.gameType,0,0).then(t=>{this.userFavorites=t.filteredGames.filter(s=>i.cfcsn.some(a=>a.cGId===s.id&&a.cGT===this.favoriteType)).slice(0,5)})})}ngOnDestroy(){this.isAlive$.next(),this.destroy$.next()}findGames(i){i&&i.length?(this.pageData.properties.searching=!0,i=(i=i.replace(/  +/g," ")).trim(),this.gamesService.findChar(i,!0).then(t=>{this.trackingService.searchCasinoGame(i),this.gamesData=t,this.setGames(this.gamesData),t.length||this.translateService.get("MESSAGES.GAME_NOT_FOUND",{param0:this.selectedCategory.name,param1:this.selectedVendor.name}).subscribe(s=>{this.pageData.properties.notFound=s})})):this.pageData.properties.searching&&(this.pageData.properties.searching=!1,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId))}setCat(i){this.pageData.properties.listLimit=this.listLimit,this.pageData.properties.searching=!1,this.pageData.properties.cId=i,this.selectedCategory=this.gamesService.setSelectedCat(i,r.h_f.sCAS),this.selectedCategory&&this.selectedVendor&&(this.trackingService.changeCasinoCategory(this.selectedCategory.name,i),this.translateService.get("MESSAGES.CASINO_GAME_NOT_FOUND",{param0:this.selectedCategory.name,param1:this.selectedVendor.name}).subscribe(t=>{this.pageData.properties.notFound=t}))}setCatContentCode(i){switch(this.selCatContentCode=null,this.cdRef.detectChanges(),i.id){case 0:this.selCatContentCode="casino-bottom";break;case-1:this.selCatContentCode="popular-slots-bottom";break;case-2:this.selCatContentCode="new-slots-bottom";break;default:this.selCatContentCode=i.name.split(" ").join("-").toLowerCase()+"-bottom"}this.cdRef.detectChanges()}setVendor(i){this.pageData.properties.listLimit=this.listLimit,this.pageData.properties.searching=!1,this.pageData.properties.vId=i,this.selectedVendor=this.gamesService.setSelectedVendor(i),this.storageService.local.set("selectedCasVen",this.selectedVendor.id),this.trackingService.changeCasinoVendor(this.selectedVendor.name,i),this.translateService.get("MESSAGES.CASINO_GAME_NOT_FOUND",{param0:this.selectedCategory.name,param1:this.selectedVendor.name}).subscribe(t=>{this.pageData.properties.notFound=t})}setGames(i){this.gamesData=i}selOrderBy(i){let t;if("0"!==i){switch(i){case"1":this.getGames(this.pageData.properties.vId,this.pageData.properties.cId),t=this.gamesData;break;case"2":t=this.gamesData.sort((s,a)=>s.name.localeCompare(a.name))}this.orderType=Number(i)}return this.gamesData=t,t}more(){this.pageData.properties.listLimit+=this.listLimit,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId),this.pageData.properties.listLimit>this.pageData.properties.gamesCount&&(this.pageData.properties.showMore=!1,this.pageData.properties.showLess=!0),setTimeout(()=>{const i=document.getElementById("show-more-btn");i&&i.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},100)}less(){this.pageData.properties.listLimit>0&&this.pageData.properties.listLimit>this.listLimit&&(this.pageData.properties.listLimit-=this.listLimit,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId),setTimeout(()=>{const i=document.getElementById("show-less-btn");i&&i.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},100))}getGames(i,t){this.gamesService.checkStore().then(s=>{s&&this.gamesService.getGamesOfVAndC(this.pageData.properties.gameType,i,t).then(a=>{this.traderService.trader.tSM&&!this.subNavItemsSet&&setTimeout(()=>{this.setSubNavItems(),this.subNavItemsSet=!0},100),this.categoriesData=a.cats,this.newPageData.categories=a.cats.filter(o=>-3!==o.id).slice(1),this.newPageData.items=[],this.newPageData.categories.slice(0,5).forEach(o=>{-1===o.id?this.newPageData.items.push({label:"TEXTS.POPULAR",games:(0,J.Z)(a.filteredGames,["op"]).filter(c=>!!c.popular).slice(0,10)}):-2===o.id?this.newPageData.items.push({label:"TEXTS.NEW",games:(0,J.Z)(a.filteredGames,["on"]).filter(c=>!!c.newGame).slice(0,5)}):this.newPageData.items.push({label:o.name,games:a.filteredGames.filter(c=>c.categoryId===o.id).slice(0,10)})}),this.pageData.properties.gamesCount=a.filteredGames.length,-1===t?a.filteredGames=(0,J.Z)(a.filteredGames,["op"],["asc"]):-2===t&&(a.filteredGames=(0,J.Z)(a.filteredGames,["on"],["asc"])),this.gamesData=a.filteredGames.slice(0,this.pageData.properties.listLimit),this.orderType&&2===this.orderType&&(this.gamesData=this.gamesData.sort((o,c)=>o.name.localeCompare(c.name))),setTimeout(()=>{this.calcCount(this.pageData.properties.gamesCount)},0),this.pageData.properties.vIds=this.gamesService._vendorIds,this.gamesService.iterateVendors(a.ven,this.pageData.properties.vIds,this.pageData.properties.gameType).then(o=>{this.vendorsData=o,this.pageData.properties.inProgress=!1,this.selectedCategory=this.gamesService.setSelectedCat(this.pageData.properties.cId,r.h_f.sCAS),this.setCatContentCode(this.selectedCategory),this.setMeta(),this.selectedVendor=this.gamesService.setSelectedVendor(this.pageData.properties.vId),a.filteredGames.length||setTimeout(()=>{this.translateService.get("MESSAGES.CASINO_GAME_NOT_FOUND",{param0:this.selectedCategory.name,param1:this.selectedVendor.name}).subscribe(c=>{this.pageData.properties.notFound=c})},2e3),this.gamesService.getPlayedGames(r.h_f.sCAS,this.gamesService._gg[r.h_f.sCAS]).then(c=>{this.lastTen=this.gamesService.lastTen,this.lastTen&&this.lastTen.length<5&&(this.placeholders=Array(5-this.lastTen.length).fill(1).map((p,l)=>l+1)),-3===t&&this.traderService.trader.displayLastTenCasinoCat&&(this.gamesData=this.lastTen)})})}).catch(a=>{try{this.translateService.get(`MESSAGES.${a.error.responseCodes[0].responseKey}`).subscribe(o=>{this.pageData.properties.notFound=o})}catch{this.translateService.get("MESSAGES.GAME_NOT_FOUND").subscribe(c=>{this.pageData.properties.notFound=c})}finally{this.pageData.properties.inProgress=!1}})})}sortAlphabetical(i){const t=i.find(a=>"all"===a.code),s=i.indexOf(t);return i.splice(s,1),(i=i.sort((a,o)=>a.name.toLowerCase().localeCompare(o.name.toLowerCase()))).unshift(t),i}calcCount(i){this.pageData.properties.gamesCount=i,i>=this.pageData.properties.listLimit?(this.pageData.properties.showMore=!0,this.pageData.properties.listLimit>this.listLimit?this.pageData.properties.showLess=!0:this.pageData.properties.showLess=!1):i<this.pageData.properties.listLimit&&this.pageData.properties.listLimit>this.listLimit?(this.pageData.properties.showMore=!1,this.pageData.properties.showLess=!0):(this.pageData.properties.showMore=!1,this.pageData.properties.showLess=!1)}goGameDetail(i,t){if(1===Number(this.pageData.properties.viewType))"demo"===t?this.router.navigate([this.currentLang+"/games/casino/detail/demo/"+i.id]):this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?!0===this.tcknOpenGameRequired?this.TcknVerificationModal.emit({action:"modal",params:["open"]}):this.router.navigate([this.currentLang+"/games/casino/detail/normal/"+i.id]):this.openModal();else{const s={gameId:i.id,channel:"web",vendorId:i.vendorId};"demo"===t?this.gamesService.openDemoGame(Number(i.id),s).then(a=>{const o=(window.innerWidth-Number(a.width))/2,c=(window.innerHeight-Number(a.height))/2,p=a.width?Number(a.width):1024,l=a.height?Number(a.height):768;window.open(a.gameUrl,`CasinoDetail${i.id}`,"height="+l+", width = "+p+", top="+c+", left="+o+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no"),this.trackingService.openCasinoGame(i.name,i.id,!1,!0,!0)}).catch(a=>{}):this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?!0===this.tcknOpenGameRequired?this.TcknVerificationModal.emit({action:"modal",params:["open"]}):this.gamesService.openGame(Number(i.id),s).then(a=>{const o=(window.innerWidth-Number(a.width))/2,c=(window.innerHeight-Number(a.height))/2,p=a.width?Number(a.width):1024,l=a.height?Number(a.height):768;window.open(a.gameUrl,`CasinoDetail${i.id}`,"height="+l+", width = "+p+", top="+c+", left="+o+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no"),this.trackingService.openCasinoGame(i.name,i.id,!1,!0)}).catch(a=>{this.translateService.get("MESSAGES."+a.error.responseCodes[0].responseKey,{}).subscribe(o=>{this.toastFactory.error(o)})}):this.openModal()}}tcknVerificationRequired(){this.tcknVerificationService.getTcknOpenGame().pipe((0,k.R)(this.isAlive$)).subscribe(i=>{this.tcknOpenGameRequired=i}),this.tcknVerificationService.checkTcknParams("openGame")}closeTcknVerificationModal(){this.TcknVerificationModal.emit({action:"modal",params:["close"]})}setSubNavItems(){this.gamesService.getCategories(r.h_f.CAS).then(i=>{if((0,se.Z)(i,{webCount:0}),i){const t=i.filter(s=>s.id>0).slice(0,10).forEach(s=>{s.url="/"+this.currentLang+"/games/"+r.h_f.sCAS.toLowerCase()+"/category/"+s.id});this.navigationService.setSubNavItems(t)}}).catch(i=>{})}categoryMatched(i,t){return i.id===Number(t.categoryId)}allVendors(i){this.showAllVendor=i}openModal(){switch(this.userService.loginStep){case"ga":const i=new r.u_l("ga-modal","ga-mdl",null,0);this.modalService.modalObserver.next(i);break;case"sms":const t={loginRequestModel:this.userService.userLoginDetails.requestBody},s=new r.u_l("sms-modal","sms-mdl",null,0,null,null,!0,t);this.modalService.modalObserver.next(s);break;default:const a=new r.u_l("app-login","sgn-mdl",null,0);this.modalService.modalObserver.next(a),this.modalService.emitModalActions({action:"modal",params:["open"]})}}setMeta(){const i=this.selCatContentCode&&this.router.url.includes("category")?this.selCatContentCode:"casino";this.rootService.setPageMetaData(i)}}function Nt(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",5),e._UZ(2,"div",6),e.qZA(),e.BQk())}function Ut(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",7),e._UZ(2,"message-box",8),e.qZA(),e.BQk())}function Ot(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"message-box",9),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("content",t.pageData.properties.notFound)}}Q.\u0275fac=function(i){return new(i||Q)(e.Y36(h.gz),e.Y36(r.e80),e.Y36(r._W6),e.Y36(r.Wd0),e.Y36(v.sK),e.Y36(r.Ye3),e.Y36(r.Uwl),e.Y36(h.F0),e.Y36(r.chr),e.Y36(r.U$c),e.Y36(O.f),e.Y36(r.yQZ),e.Y36(r.F$_),e.Y36(r.zVL),e.Y36(e.sBO),e.Y36(r.q3T),e.Y36(r.SwN))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-casino"]],hostBindings:function(i,t){1&i&&e.NdJ("scroll",function(a){return t.onWindowScroll(a)},!1,e.Jf7)},features:[e._Bn([])],decls:9,vars:9,consts:[["materialize","modal",1,"tckn-verification-modal","modal","modal-md","open",3,"materializeActions","materializeParams"],["type","openGame",3,"closeTcknVerificationModalEvent"],[1,"casino-bg"],[4,"ngIf"],["contentCode","casino"],[1,"progress"],[1,"indeterminate"],[1,"container","casino-cntr"],["type","error","content","MESSAGES.CASINO_SERVICE_UNAVAILABLE_DESCRIPTION"],["type","error",3,"content"],["id","p-csn",1,"container","casino-cntr",3,"ngClass"],["type","warning","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],[1,"row"],["class","col s2 left-content",4,"ngIf"],["id","casino-right",1,"col","right-content",3,"ngClass"],[4,"customConfig"],[1,"flex-container","clear","csn-rtitle-wrap"],[3,"ngIf"],[1,"casino-filters"],[1,"browser-default","order","left",3,"ngModel","ngModelChange","change"],["hidden","","selected","selected",3,"value"],[3,"value"],[1,"browser-default","method","left",3,"ngModel","ngModelChange"],["selected","selected",3,"value"],[1,"gm-wrap"],["class","flex-container clear vendor-t-c crsr-pntr",3,"click",4,"ngIf"],[1,"gm-cntr"],["contentCode","casino-bottom-content",4,"ngIf"],[3,"contentCode",4,"ngIf"],["type","warning","icon","fa fa-exclamation-circle",3,"content"],[1,"col","s2","left-content"],["contentCode","casino-left-top"],[1,"ltitle","truncate",3,"title"],[1,"count"],[1,"input-field","search-cntr"],[1,"material-icons","pg-icons","prefix"],["type","text",1,"browser-default",3,"ngModel","debounce","placeholder","ngModelChange","onDebounce"],["contentCode","casino-left-bottom"],[1,"collection"],[3,"orderType","lastTen","gamesCount","gamesData","categoriesData","vendorsData","vId","cId","gameType","gamesCountChange","gamesDataChange","cIdChange","vIdChange"],[1,"rtitle","flex-item"],[3,"isDropdown","orderType","lastTen","gamesCount","gamesData","categoriesData","vendorsData","vId","cId","gameType","gamesCountChange","gamesDataChange","cIdChange","vIdChange"],["pathCode","casino",3,"isDropdown","orderType","gamesData","showAllVendor","cdnUrl","categoriesData","vendorsData","cId","vId","gamesCount","gameType","currentLang","gamesDataChange","cIdChange","vIdChange","gamesCountChange"],["href","javascript:;",1,"btn","view-btns","module","left",3,"title","click"],[1,"material-icons","pg-icons"],["href","javascript:;",1,"btn","view-btns","list","left",3,"title","click"],[1,"flex-container","clear","vendor-t-c","crsr-pntr",3,"click"],[1,"vendor-title","flex-item"],["href","javascript:;",1,"vendors-toggle-btn","btn"],[1,"fa","fa-plus-circle","pg-icons"],[1,"fa","fa-minus-circle","pg-icons"],["pathCode","casino",3,"orderType","gamesData","showAllVendor","cdnUrl","categoriesData","vendorsData","cId","vId","gamesCount","gameType","currentLang","gamesDataChange","cIdChange","vIdChange","gamesCountChange"],["class","col pg-grd-5 csn-crd-col",4,"ngFor","ngForOf"],[1,"col","pg-grd-5","csn-crd-col"],[1,"csn-crd"],[1,"crd-img"],[1,"gm-img",3,"src","alt"],["alt","",1,"gm-img","loading",3,"src"],[1,"inf"],["class","new",4,"ngIf"],["class","popular",4,"ngIf"],[4,"ngFor","ngForOf"],["classes","fvrt-lnk left",3,"id","type"],[1,"vndr"],["alt","",1,"vndr-lg",3,"src"],[1,"hvr-inf"],[1,"v-a"],["href","javascript:;",1,"btn","real",3,"click"],["href","javascript:;","class","btn free",3,"click",4,"ngIf"],[1,"crd-nm"],[1,"display-block"],["class","display-block",4,"ngIf"],[1,"new"],[1,"popular"],["class","new new-tags",4,"ngIf"],[1,"new","new-tags"],["href","javascript:;",1,"btn","free",3,"click"],[1,"gm-list-view"],["ngFor","",3,"ngForOf"],[1,"pg-grd-5","flex-container"],["href","javascript:;",3,"title","click"],["alt","","align","left",3,"src"],[1,"truncate"],["class","col s6",3,"ngClass",4,"ngIf"],[1,"col","s6",3,"ngClass"],["id","show-less-btn",1,"btn","sw-mr",3,"click"],["id","show-more-btn",1,"btn","sw-mr","btn-show-more",3,"click"],["contentCode","casino-bottom-content"],[3,"contentCode"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"tckn-verification",1),e.NdJ("closeTcknVerificationModalEvent",function(){return t.closeTcknVerificationModal()}),e.qZA()(),e.TgZ(2,"div",2),e._UZ(3,"slider"),e.YNc(4,Ye,3,0,"ng-container",3),e.YNc(5,Pe,3,0,"ng-container",3),e._UZ(6,"app-static-inner-content",4),e.YNc(7,Fe,2,1,"ng-container",3),e.YNc(8,wt,43,45,"ng-container",3),e.qZA()),2&i&&(e.Q6J("materializeActions",t.TcknVerificationModal)("materializeParams",e.VKq(7,Gt,e.DdM(6,kt))),e.xp6(4),e.Q6J("ngIf",t.pageData.properties.inProgress),e.xp6(1),e.Q6J("ngIf","1"!==t.pageData.properties.isOpen&&!t.pageData.properties.inProgress||t.isUnderMaintenance),e.xp6(2),e.Q6J("ngIf","1"===t.pageData.properties.isOpen&&!t.gamesData&&!t.pageData.properties.inProgress&&!t.isUnderMaintenance),e.xp6(1),e.Q6J("ngIf","1"===t.pageData.properties.isOpen&&!t.pageData.properties.inProgress&&!t.isUnderMaintenance))},dependencies:[_.mk,_.sg,_.O5,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.On,ge.S,_e.$,E.M,F.n,N.W,M.J,q.J,oe.P,me.f,de.w,V,H,_.Ov,v.X$],encapsulation:2});const Mt=function(n){return{param0:n}};function Et(n,i){if(1&n&&(e._UZ(0,"message-box",28),e.ALo(1,"translate"),e.ALo(2,"async")),2&n){const t=e.oxw(2);e.s9C("content",e.xi3(1,1,"MESSAGES.MAX_BET_LIMIT",e.VKq(6,Mt,e.lcZ(2,4,t.userService.maxBetLimit))))}}function Jt(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",37)(2,"app-category-container",38),e.NdJ("gamesCountChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.calcCount(a))})("gamesDataChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.setGames(a))})("cIdChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.setCat(a))})("vIdChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.vId=a)}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("orderType",t.orderType)("lastTen",t.lastTen)("gamesCount",t.pageData.properties.gamesCount)("gamesData",t.gamesData)("categoriesData",t.categoriesData)("vendorsData",t.vendorsData)("vId",t.pageData.properties.vId)("cId",t.pageData.properties.cId)("gameType",t.pageData.properties.gameType)}}function qt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",29),e._UZ(1,"app-static-inner-content",30),e.TgZ(2,"h4",31),e.ALo(3,"translate"),e.TgZ(4,"span",32),e._uU(5),e.qZA(),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div")(9,"div",33)(10,"i",34),e._uU(11,"search"),e.qZA(),e.TgZ(12,"input",35),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.pageData.properties.char=a)})("onDebounce",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.findGames(a.pageData.properties.char))}),e.ALo(13,"translate"),e.qZA()(),e.YNc(14,Jt,3,9,"ng-container",3),e.qZA(),e._UZ(15,"app-static-inner-content",36),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(2),e.cQ8("title","",t.pageData.properties.gamesCount,"/",t.pageData.properties.listLimit," ",e.lcZ(3,10,"TEXTS.GAME"),""),e.xp6(3),e.AsE("",t.pageData.properties.gamesCount,"/",t.pageData.properties.listLimit,""),e.xp6(1),e.hij("",e.lcZ(7,12,"TEXTS.GAME")," "),e.xp6(6),e.s9C("placeholder",e.lcZ(13,14,"TEXTS.FIND_A_GAME")),e.Q6J("ngModel",t.pageData.properties.char)("debounce",1e3),e.xp6(2),e.Q6J("ngIf",t.categoriesData&&t.categoriesData.length)}}function Qt(n,i){1&n&&e._UZ(0,"egt-jackpot-banner")}function Yt(n,i){1&n&&e._UZ(0,"fugaso-jackpot-banner")}function Pt(n,i){if(1&n&&(e.TgZ(0,"h4",39),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.selectedCategory.name," ")}}function Ft(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-horizontal-scroll",41),e.NdJ("gamesDataChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.gamesData=a)})("cIdChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.cId=a)})("vIdChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.setVendor(a))})("gamesCountChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.calcCount(a))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("isDropdown",!0)("orderType",t.orderType)("gamesData",t.gamesData)("showAllVendor",t.showAllVendor)("cdnUrl",t.pageData.properties.cdnUrl)("categoriesData",t.categoriesData)("vendorsData",t.vendorsData)("cId",t.pageData.properties.cId)("vId",t.pageData.properties.vId)("gamesCount",t.pageData.properties.gamesCount)("gameType",t.pageData.properties.gameType)("currentLang",t.currentLang)}}function Vt(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",33)(2,"i",34),e._uU(3,"search"),e.qZA(),e.TgZ(4,"input",35),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.pageData.properties.char=a)})("onDebounce",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.findGames(a.pageData.properties.char))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"app-category-container",40),e.NdJ("gamesCountChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.calcCount(a))})("gamesDataChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setGames(a))})("cIdChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setCat(a))})("vIdChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.vId=a)}),e.qZA(),e.YNc(7,Ft,2,12,"ng-container",3),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(4),e.s9C("placeholder",e.lcZ(5,14,"TEXTS.FIND_A_GAME")),e.Q6J("ngModel",t.pageData.properties.char)("debounce",1e3),e.xp6(2),e.Q6J("isDropdown",!0)("orderType",t.orderType)("lastTen",t.lastTen)("gamesCount",t.pageData.properties.gamesCount)("gamesData",t.gamesData)("categoriesData",t.categoriesData)("vendorsData",t.vendorsData)("vId",t.pageData.properties.vId)("cId",t.pageData.properties.cId)("gameType",t.pageData.properties.gameType),e.xp6(1),e.Q6J("ngIf",null==t.vendorsData?null:t.vendorsData.length)}}function Ht(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",42),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.pageData.properties.liShow=!a.pageData.properties.liShow)}),e.ALo(1,"translate"),e.TgZ(2,"i",43),e._uU(3,"view_module"),e.qZA()()}2&n&&e.s9C("title",e.lcZ(1,1,"TEXTS.SHOW_AS_BOX"))}function Bt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",44),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.pageData.properties.liShow=!a.pageData.properties.liShow)}),e.ALo(1,"translate"),e.TgZ(2,"i",43),e._uU(3,"view_list"),e.qZA()()}2&n&&e.s9C("title",e.lcZ(1,1,"TEXTS.SHOW_AS_LIST"))}function Rt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.allVendors(!a.showAllVendor))}),e.TgZ(1,"div",46),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"a",47),e._UZ(5,"i",48)(6,"i",49),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,5,"TEXTS.VENDOR")," "),e.xp6(3),e.ekj("hide",t.showAllVendor),e.xp6(1),e.ekj("hide",!t.showAllVendor)}}function Kt(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-horizontal-scroll",50),e.NdJ("gamesDataChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.gamesData=a)})("cIdChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.cId=a)})("vIdChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setVendor(a))})("gamesCountChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.calcCount(a))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("orderType",t.orderType)("gamesData",t.gamesData)("showAllVendor",t.showAllVendor)("cdnUrl",t.pageData.properties.cdnUrl)("categoriesData",t.categoriesData)("vendorsData",t.vendorsData)("currentLang",t.currentLang)("cId",t.pageData.properties.cId)("vId",t.pageData.properties.vId)("gamesCount",t.pageData.properties.gamesCount)("gameType",t.pageData.properties.gameType)}}function $t(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"message-box",9),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("content",t.pageData.properties.notFound)}}function jt(n,i){1&n&&(e.TgZ(0,"div",70),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.NEW")))}function zt(n,i){1&n&&(e.TgZ(0,"div",71),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.POPULAR")))}function Xt(n,i){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,s=e.oxw(4);e.xp6(1),e.Oqu(s.tags[t])}}function Wt(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Xt,2,1,"div",72),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.tags)}}function ei(n,i){if(1&n&&(e.TgZ(0,"div",74)(1,"i",75),e._uU(2,"access_time"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&n){const t=i.$implicit;e.xp6(3),e.lnq(" ",e.lcZ(4,3,"TEXTS.HOURS")," : ",t.openHour," - ",t.closeHour," ")}}function ti(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"span",77),e._uU(2),e.ALo(3,"number"),e.ALo(4,"number"),e.TgZ(5,"span",78),e._uU(6),e.qZA()(),e.TgZ(7,"a",79),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(2).$implicit,p=e.oxw(3);return e.KtG(p.goGameDetail(c,"normal",o.vendorLimitId))}),e._uU(8),e.ALo(9,"translate"),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",e.lcZ(3,4,t.limits.minBet)," - ",e.lcZ(4,6,t.limits.maxBet)," "),e.xp6(4),e.Oqu(t.limits.currencyCode),e.xp6(2),e.hij(" ",e.lcZ(9,8,"TEXTS.PLAY_NOW")," ")}}function ii(n,i){1&n&&(e.TgZ(0,"div",76),e._UZ(1,"message-box",80),e.qZA())}function ni(n,i){if(1&n&&(e.YNc(0,ti,10,10,"ng-template",51),e.YNc(1,ii,2,0,"ng-template",17)),2&n){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.matchedList),e.xp6(1),e.Q6J("ngIf",!t.matchedList)}}function ai(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"a",79),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.goGameDetail(a,"normal"))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TEXTS.PLAY_NOW")," "))}function si(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"a",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.goGameDetail(a,"demo"))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TEXTS.FREE_PLAY")," "))}function oi(n,i){if(1&n&&(e.TgZ(0,"small",68),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.vendorName)}}function ri(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",52),e.NdJ("mouseenter",function(a){const c=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.filterLimit(c,p.currency,a))}),e.TgZ(1,"div",53)(2,"div",54),e._UZ(3,"img",55)(4,"img",56),e.TgZ(5,"div",57),e.YNc(6,jt,3,3,"div",58),e.YNc(7,zt,3,3,"div",59),e.YNc(8,Wt,2,1,"ng-container",60),e.qZA(),e._UZ(9,"app-user-favorite",61),e.TgZ(10,"div",62),e._UZ(11,"img",63),e.qZA(),e.YNc(12,ei,5,5,"ng-template",64),e.TgZ(13,"div",65)(14,"div",66),e.YNc(15,ni,2,2,"ng-template",17),e.YNc(16,ai,4,3,"ng-template",17),e.YNc(17,si,4,3,"ng-template",17),e.qZA()()(),e.TgZ(18,"div",67)(19,"span",68),e._uU(20),e.qZA(),e.YNc(21,oi,2,1,"small",69),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(3),e.s9C("alt",t.name),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/livecasino/300x200/"+t.id+".jpg",e.LSH),e.xp6(1),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(2),e.Q6J("ngIf",t.newGame),e.xp6(1),e.Q6J("ngIf",t.popular),e.xp6(1),e.Q6J("ngForOf",t.tagIds),e.xp6(1),e.Q6J("id",t.id)("type",s.favoriteType),e.xp6(2),e.s9C("alt",t.vendorCode),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/livecasino/32x32/"+t.vendorCode+".png",e.LSH),e.xp6(1),e.Q6J("ngIf",s.hours)("ngForOf",t.openHours),e.xp6(3),e.Q6J("ngIf",s.pageData.properties.showLimits),e.xp6(1),e.Q6J("ngIf",!t.vendorLimitGroups),e.xp6(1),e.Q6J("ngIf",t.hasOwnProperty("liveFreePlay")?t.liveFreePlay:t.freePlay),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",s.casinoFullDisplay)}}function ci(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ri,22,17,"ng-template",51),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.gamesData)}}function pi(n,i){1&n&&(e.TgZ(0,"div",70),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.NEW")))}function li(n,i){1&n&&(e.TgZ(0,"div",71),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.POPULAR")))}function gi(n,i){if(1&n&&(e.TgZ(0,"div",70),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,s=e.oxw(4);e.xp6(1),e.Oqu(s.tags[t])}}function _i(n,i){if(1&n&&(e.ynx(0),e.YNc(1,gi,2,1,"div",58),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.tags)}}function mi(n,i){if(1&n&&(e.TgZ(0,"div",74)(1,"i",75),e._uU(2,"access_time"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&n){const t=i.$implicit;e.xp6(3),e.lnq(" ",e.lcZ(4,3,"TEXTS.HOURS")," : ",t.openHour," - ",t.closeHour," ")}}function di(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"span",77),e._uU(2),e.ALo(3,"number"),e.ALo(4,"number"),e.TgZ(5,"span",78),e._uU(6),e.qZA()(),e.TgZ(7,"a",79),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(2).$implicit,p=e.oxw(3);return e.KtG(p.goGameDetail(c,"normal",o.vendorLimitId))}),e._uU(8),e.ALo(9,"translate"),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",e.lcZ(3,4,t.limits.minBet)," - ",e.lcZ(4,6,t.limits.maxBet)," "),e.xp6(4),e.Oqu(t.limits.currencyCode),e.xp6(2),e.hij(" ",e.lcZ(9,8,"TEXTS.PLAY_NOW")," ")}}function hi(n,i){1&n&&(e.TgZ(0,"div",76),e._UZ(1,"message-box",80),e.qZA())}function ui(n,i){if(1&n&&(e.YNc(0,di,10,10,"ng-template",51),e.YNc(1,hi,2,0,"ng-template",17)),2&n){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.matchedList),e.xp6(1),e.Q6J("ngIf",!t.matchedList)}}function fi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"a",79),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.goGameDetail(a,"normal"))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TEXTS.PLAY_NOW")," "))}function vi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"a",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.goGameDetail(a,"demo"))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TEXTS.FREE_PLAY")," "))}function Ci(n,i){if(1&n&&(e.TgZ(0,"small",68),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.vendorName)}}function xi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",52),e.NdJ("mouseenter",function(a){const c=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.filterLimit(c,p.currency,a))}),e.TgZ(1,"div",53)(2,"div",54),e._UZ(3,"img",55)(4,"img",56),e.TgZ(5,"div",57),e.YNc(6,pi,3,3,"div",58),e.YNc(7,li,3,3,"div",59),e.YNc(8,_i,2,1,"ng-container",60),e.qZA(),e._UZ(9,"app-user-favorite",61),e.TgZ(10,"div",62),e._UZ(11,"img",82),e.qZA(),e.YNc(12,mi,5,5,"ng-template",51),e.TgZ(13,"div",65)(14,"div",66),e.YNc(15,ui,2,2,"ng-template",17),e.YNc(16,fi,4,3,"ng-template",17),e.YNc(17,vi,4,3,"ng-template",17),e.qZA()()(),e.TgZ(18,"div",67)(19,"span",68),e._uU(20),e.qZA(),e.YNc(21,Ci,2,1,"small",69),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(3),e.s9C("alt",t.name),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/livecasino/300x200/"+t.id+".jpg",e.LSH),e.xp6(1),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(2),e.Q6J("ngIf",t.newGame),e.xp6(1),e.Q6J("ngIf",t.popular),e.xp6(1),e.Q6J("ngForOf",t.tagIds),e.xp6(1),e.Q6J("id",t.id)("type",s.favoriteType),e.xp6(2),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/livecasino/32x32/"+t.vendorCode+".png",e.LSH),e.xp6(1),e.Q6J("ngForOf",t.openHours),e.xp6(3),e.Q6J("ngIf",t.vendorLimitGroups&&s.pageData.properties.showLimits),e.xp6(1),e.Q6J("ngIf",!t.vendorLimitGroups),e.xp6(1),e.Q6J("ngIf",t.hasOwnProperty("liveFreePlay")?t.liveFreePlay:t.freePlay),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",s.casinoFullDisplay)}}function Ti(n,i){if(1&n&&(e.ynx(0),e.YNc(1,xi,22,15,"ng-template",51),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.gamesData)}}function Si(n,i){if(1&n&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.vendorName)}}function Di(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",85)(1,"a",86),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.goGameDetail(o,"normal"))}),e._UZ(2,"img",87),e.TgZ(3,"span",88),e._uU(4),e.YNc(5,Si,2,1,"small",3),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(1),e.s9C("title",t.name),e.xp6(1),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/livecasino/22x22/"+t.vendorCode+".png",e.LSH),e.xp6(2),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",s.casinoFullDisplay)}}function Zi(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",83)(2,"ul"),e.YNc(3,Di,6,4,"li",84),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.gamesData)}}const ve=function(n){return{s12:n}};function bi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",90)(1,"button",91),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.less())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(4,ve,!t.pageData.properties.showMore)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"TEXTS.SHOW_LESS_GAMES")," ")}}function yi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",90)(1,"button",92),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.more())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(4,ve,!t.pageData.properties.showLess)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"TEXTS.SHOW_MORE_GAMES")," ")}}function Ai(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",12),e.YNc(2,bi,4,6,"div",89),e.YNc(3,yi,4,6,"div",89),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.pageData.properties.showLess),e.xp6(1),e.Q6J("ngIf",t.pageData.properties.showMore)}}const Ii=function(n){return{"full-casino":n}},Li=function(n,i){return{s12:n,s10:i}};function wi(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",10),e.YNc(2,Et,3,8,"message-box",11),e.ALo(3,"async"),e.TgZ(4,"div",12),e.YNc(5,qt,16,16,"div",13),e.TgZ(6,"div",14),e.YNc(7,Qt,1,0,"egt-jackpot-banner",3),e.YNc(8,Yt,1,0,"fugaso-jackpot-banner",15),e.TgZ(9,"div",16),e.YNc(10,Pt,2,1,"ng-template",17),e.TgZ(11,"div",18),e.YNc(12,Vt,8,16,"ng-container",3),e.YNc(13,Ht,4,3,"ng-template",17),e.YNc(14,Bt,4,3,"ng-template",17),e.TgZ(15,"select",19),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.pageData.properties.orderBy=a)})("change",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.selOrderBy(a.pageData.properties.orderBy))}),e.TgZ(16,"option",20),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",21),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"option",21),e._uU(23,"A-Z"),e.qZA()(),e.TgZ(24,"select",22),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.pageData.properties.viewType=a)}),e.TgZ(25,"option",23),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"option",21),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"div",24),e.YNc(32,Rt,7,7,"div",25),e.YNc(33,Kt,2,11,"ng-container",3),e.TgZ(34,"div",26)(35,"div",12),e.YNc(36,$t,2,1,"ng-container",3),e.YNc(37,ci,2,1,"ng-container",3),e.YNc(38,Ti,2,1,"ng-container",3),e.YNc(39,Zi,4,1,"ng-container",3),e.qZA(),e.YNc(40,Ai,4,2,"ng-container",3),e.qZA()()()(),e._UZ(41,"app-static-inner-content",27),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(38,Ii,t.casinoFullDisplay)),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,28,t.userService.maxBetLimit)),e.xp6(3),e.Q6J("ngIf",!t.casinoFullDisplay),e.xp6(1),e.Q6J("ngClass",e.WLB(40,Li,t.casinoFullDisplay,!t.casinoFullDisplay)),e.xp6(1),e.Q6J("ngIf",t.showEgtCasino),e.xp6(1),e.Q6J("customConfig","traderDefaults.fugasoJackpotBannerEnabled === 2 || traderDefaults.fugasoJackpotBannerEnabled === 1,2"),e.xp6(2),e.Q6J("ngIf",t.selectedCategory),e.xp6(2),e.Q6J("ngIf",t.casinoFullDisplay),e.xp6(1),e.Q6J("ngIf",t.pageData.properties.liShow),e.xp6(1),e.Q6J("ngIf",!t.pageData.properties.liShow),e.xp6(1),e.Q6J("ngModel",t.pageData.properties.orderBy),e.xp6(1),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(18,30,"TEXTS.ORDER")),e.xp6(2),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(21,32,"TEXTS.DEFAULT")),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("ngModel",t.pageData.properties.viewType),e.xp6(1),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(27,34,"TEXTS.INLINE")),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.Oqu(e.lcZ(30,36,"TEXTS.POPUP")),e.xp6(3),e.Q6J("ngIf",!t.casinoFullDisplay),e.xp6(1),e.Q6J("ngIf",t.vendorsData&&t.vendorsData.length&&!t.casinoFullDisplay),e.xp6(3),e.Q6J("ngIf",!(null!=t.gamesData&&t.gamesData.length)),e.xp6(1),e.Q6J("ngIf",!t.pageData.properties.liShow&&(null==t.gamesData?null:t.gamesData.length)&&!t.pageData.properties.searching),e.xp6(1),e.Q6J("ngIf",!t.pageData.properties.liShow&&(null==t.gamesData?null:t.gamesData.length)&&t.pageData.properties.searching),e.xp6(1),e.Q6J("ngIf",t.pageData.properties.liShow&&(null==t.gamesData?null:t.gamesData.length)),e.xp6(1),e.Q6J("ngIf",(null==t.gamesData?null:t.gamesData.length)&&!t.pageData.properties.searching)}}const ki=function(){return{dismissible:!0}},Gi=function(n){return[n]};x.N.map.liveCasino;class Y{constructor(i,t,s,a,o,c,p,l,f,S,y,A,L,D){this.route=i,this.gamesService=t,this.traderService=s,this.applicationService=a,this.translateService=o,this.userService=c,this.router=p,this.translateFactory=l,this.navigationService=f,this.tcknVerificationService=S,this.modalService=y,this.trackingService=A,this.userFavoritesService=L,this.storageService=D,this.showAllVendor=!1,this.newPageData={categories:[],items:[]},this.pageData=new r.ZwM,this.casinoFullDisplay=!1,this.TcknVerificationModal=new e.vpe,this.showEgtCasino=!1,this.listLimit=20,this.isUnderMaintenance=!1,this.scrollExcecuted=!1,this.destroy$=new P.xQ,this.loginSubs=null,this.goGameCatSubs=null,this.tcknOpenGameSubs=null,this.traderService.trader.cgpp&&(this.listLimit=this.traderService.trader.cgpp),this.pageData.properties.gameType=r.h_f.LCAS,this.currentLang=this.translateFactory.currentLang.code,this.pageData.properties.isLoggedIn=this.userService.user,this.pageData.properties.cdnUrl=this.traderService.trader.tCDNU,this.casinoFullDisplay=!!x.N.trader.casinoFullDisplay,this.pageData.properties.viewType=this.traderService.trader.ocgnw?2:1,this.pageData.properties.isOpen=this.applicationService.settingList.find(u=>"is-casino-api-open"===u.parameter).value,"1"!==this.pageData.properties.isOpen&&(this.isUnderMaintenance=!0),this.goGameCatSubs=this.navigationService.getObservableGameIdToInitGame().subscribe(u=>{this.setCat(u.catId),this.navigationService.setCatForCatContainer(u.catId,this.pageData.properties.vId)}),this.tcknVerificationRequired(),this.loginSubs=this.userService.isLoggedIn.subscribe(u=>{null!==u.username&&this.tcknVerificationService.checkTcknParams("openGame"),this.pageData.properties.isLoggedIn=u,"1"===this.pageData.properties.isOpen?this.getGames(this.pageData.properties.vId,this.pageData.properties.cId):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")}),this.route.params.subscribe(u=>{let T;if(this.pageData.properties.listLimit=this.listLimit,u&&typeof u.vendorName<"u")typeof this.gamesService.vendorsList<"u"?(T=this.gamesService.vendorsList.find(C=>C.code===u.vendorName),"1"===this.pageData.properties.isOpen?(this.pageData.properties.vId=T.id,this.getGames(T.id,this.pageData.properties.cId)):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")):this.gamesService.getVendors(r.h_f.LCAS).then(C=>{T=C.find(g=>g.code===u.vendorName),"1"===this.pageData.properties.isOpen?T?(this.pageData.properties.vId=T.id,this.getGames(T.id,this.pageData.properties.cId)):this.translateService.get("MESSAGES.GAME_NOT_FOUND").subscribe(g=>{this.pageData.properties.notFound=g,this.pageData.properties.inProgress=!1}):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")});else if(u&&typeof u.categoryId<"u"){let C;typeof this.gamesService.getCategoriesList(r.h_f.sLCAS)<"u"?this.gamesService.getGames(r.h_f.sLCAS).then(()=>{C=this.gamesService.getCategoriesList(r.h_f.sLCAS).find(g=>this.categoryMatched(g,u)),"1"===this.pageData.properties.isOpen?(this.pageData.properties.cId=C.id,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId)):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")}):this.gamesService.getGames(r.h_f.sLCAS).then(()=>{this.gamesService.getCategories(r.h_f.sLCAS).then(g=>{this.gamesService.prepareMainCats().then(w=>{g[0].name=w.allTxt,g[1].name=w.popularTxt,g[2].name=w.newTxt,C=g.find(I=>this.categoryMatched(I,u)),"1"===this.pageData.properties.isOpen?C?(this.pageData.properties.cId=C.id,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId)):this.translateService.get("MESSAGES.GAME_NOT_FOUND").subscribe(I=>{this.pageData.properties.notFound=I,this.pageData.properties.inProgress=!1}):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")})})})}else"1"===this.pageData.properties.isOpen?(this.pageData.properties.cId=this.traderService.trader.isCasinoPopularsCatSelected?-1:0,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId)):(this.pageData.properties.inProgress=!1,this.pageData.properties.isOpen="0")})}onWindowScroll(){x.N.trader.infiniteScrollCasino&&window.scrollY>=document.body.offsetHeight-window.outerHeight-100&&!this.scrollExcecuted&&(this.scrollExcecuted=!0,this.more(),setTimeout(()=>{this.scrollExcecuted=!1},1e3))}ngOnInit(){this.favoriteType=2,this.showEgtCasino=!!this.traderService.trader.showEgtJackpotOnLiveCasino&&!!this.traderService.trader.showEgtJackpotOnLiveCasino.includes("d"),window.scrollTo(0,0),this.gamesService.getTags().then(i=>this.tags=i),this.traderService.trader.tSM&&setTimeout(()=>{this.setSubNavItems()},100),this.userFavoritesService.favorites.pipe((0,pe.g)(500),(0,le.x)(),(0,k.R)(this.destroy$)).subscribe(i=>{this.gamesService.getGamesOfVAndC(this.pageData.properties.gameType,0,0).then(t=>{this.userFavorites=t.filteredGames.filter(s=>i.cfcsn.some(a=>a.cGId===s.id&&a.cGT===this.favoriteType)).slice(0,5)})})}findGames(i){i&&i.length?(this.pageData.properties.searching=!0,i=(i=i.replace(/  +/g," ")).trim(),this.gamesService.findChar(i,!0,"Live Casino").then(t=>{this.trackingService.searchCasinoGame(i,!0),this.gamesData=t,this.setGames(this.gamesData),t.length||this.translateService.get("MESSAGES.GAME_NOT_FOUND",{param0:this.selectedCategory.name,param1:this.selectedVendor.name}).subscribe(s=>{this.pageData.properties.notFound=s})})):this.pageData.properties.searching&&(this.pageData.properties.searching=!1,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId))}setCat(i){this.pageData.properties.listLimit=this.listLimit,this.pageData.properties.searching=!1,this.pageData.properties.cId=i,this.selectedCategory=this.gamesService.setSelectedCat(i,r.h_f.sLCAS),this.selectedCategory&&this.selectedVendor&&(this.trackingService.changeCasinoCategory(this.selectedCategory.name,i,!0),this.translateService.get("MESSAGES.CASINO_GAME_NOT_FOUND",{param0:this.selectedCategory.name,param1:this.selectedVendor.name}).subscribe(t=>{this.pageData.properties.notFound=t}))}setVendor(i){this.pageData.properties.listLimit=this.listLimit,this.pageData.properties.searching=!1,this.pageData.properties.vId=i,this.selectedVendor=this.gamesService.setSelectedVendor(i),this.storageService.local.set("selectedLiveVen",this.selectedVendor.id),this.trackingService.changeCasinoVendor(this.selectedVendor.name,i,!0),this.translateService.get("MESSAGES.CASINO_GAME_NOT_FOUND",{param0:this.selectedCategory.name,param1:this.selectedVendor.name}).subscribe(t=>{this.pageData.properties.notFound=t})}setGames(i){this.gamesData=i}selOrderBy(i){let t;if("0"!==i){switch(i){case"1":this.getGames(this.pageData.properties.vId,this.pageData.properties.cId),t=this.gamesData;break;case"2":t=this.gamesData.sort((s,a)=>s.name.localeCompare(a.name))}this.orderType=Number(i)}return this.gamesData=t,t}more(){this.pageData.properties.listLimit>0&&(this.pageData.properties.listLimit+=this.listLimit,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId),this.pageData.properties.listLimit>this.pageData.properties.gamesCount&&(this.pageData.properties.showMore=!1,this.pageData.properties.showLess=!0),setTimeout(()=>{const i=document.getElementById("show-more-btn");i&&i.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},100))}less(){this.pageData.properties.listLimit>0&&this.pageData.properties.listLimit>this.listLimit&&(this.pageData.properties.listLimit-=this.listLimit,this.getGames(this.pageData.properties.vId,this.pageData.properties.cId),setTimeout(()=>{const i=document.getElementById("show-less-btn");i&&i.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},100))}getGames(i,t){this.gamesService.checkStore().then(s=>{s&&this.gamesService.getGamesOfVAndC(r.h_f.LCAS,i,t).then(a=>{this.categoriesData=a.cats,this.newPageData.categories=a.cats.filter(o=>-3!==o.id).slice(1),this.newPageData.items=[],this.newPageData.categories.slice(0,5).forEach(o=>{-1===o.id?this.newPageData.items.push({label:"TEXTS.POPULAR",games:(0,J.Z)(a.filteredGames,["op"]).filter(c=>!!c.popular).slice(0,10)}):-2===o.id?this.newPageData.items.push({label:"TEXTS.NEW",games:(0,J.Z)(a.filteredGames,["on"]).filter(c=>!!c.newGame).slice(0,5)}):this.newPageData.items.push({label:o.name,games:a.filteredGames.filter(c=>c.categoryId===o.id).slice(0,10)})}),this.pageData.properties.gamesCount=a.filteredGames.length,-1===t?a.filteredGames=(0,J.Z)(a.filteredGames,["op"],["asc"]):-2===t&&(a.filteredGames=(0,J.Z)(a.filteredGames,["on"],["asc"])),this.gamesData=a.filteredGames.slice(0,this.pageData.properties.listLimit),this.orderType&&2===this.orderType&&(this.gamesData=this.gamesData.sort((o,c)=>o.name.localeCompare(c.name))),this.setGames(this.gamesData),setTimeout(()=>{this.calcCount(this.pageData.properties.gamesCount)},0),this.pageData.properties.vIds=this.gamesService._vendorIds,this.gamesService.iterateVendors(a.ven,this.pageData.properties.vIds,this.pageData.properties.gameType).then(o=>{this.vendorsData=o,this.selectedCategory=this.gamesService.setSelectedCat(this.pageData.properties.cId,r.h_f.sLCAS),this.selectedVendor=this.gamesService.setSelectedVendor(this.pageData.properties.vId),a.filteredGames.length||setTimeout(()=>{this.translateService.get("MESSAGES.CASINO_GAME_NOT_FOUND",{param0:this.selectedCategory.name,param1:this.selectedVendor.name}).subscribe(c=>{this.pageData.properties.notFound=c})},2e3),setTimeout(()=>{this.setCurrency()}),this.gamesService.getPlayedGames(r.h_f.sLCAS,this.gamesService._gg[r.h_f.sLCAS]).then(c=>{this.lastTen=this.gamesService.lastTen,this.lastTen&&this.lastTen.length<5&&(this.placeholders=Array(5-this.lastTen.length).fill(1).map((p,l)=>l+1)),-3===t&&this.traderService.trader.displayLastTenCasinoCat&&(this.gamesData=this.lastTen)})})}).catch(a=>{try{this.translateService.get(`MESSAGES.${a.error.responseCodes[0].responseKey}`).subscribe(o=>{this.pageData.properties.notFound=o})}catch{this.translateService.get("MESSAGES.GAME_NOT_FOUND").subscribe(c=>{this.pageData.properties.notFound=c})}finally{this.pageData.properties.inProgress=!1}})})}calcCount(i){this.pageData.properties.gamesCount=i,i>=this.pageData.properties.listLimit?(this.pageData.properties.showMore=!0,this.pageData.properties.listLimit>this.listLimit?this.pageData.properties.showLess=!0:this.pageData.properties.showLess=!1):i<this.pageData.properties.listLimit&&this.pageData.properties.listLimit>this.listLimit?(this.pageData.properties.showMore=!1,this.pageData.properties.showLess=!0):(this.pageData.properties.showMore=!1,this.pageData.properties.showLess=!1)}filterLimit(i,t,s){s.preventDefault(),s.stopPropagation();const a=[];i.vendorLimitGroups&&i.vendorLimitGroups.length?(this.pageData.properties.showLimits=!0,i.vendorLimitGroups.forEach(o=>{o.limits.forEach(c=>{(!c.currencyCode||t.currencyCode&&c.currencyCode===t.currencyCode)&&(a.push({limits:c,vendorLimitId:o.vendorLimitId}),i.matchedList=a)})})):this.pageData.properties.showLimits=!1}goGameDetail(i,t,s){if(1===Number(this.pageData.properties.viewType))"demo"===t?this.router.navigate([this.currentLang+"/games/livecasino/detail/demo/"+i.id+"/"+s]):this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?!0===this.tcknOpenGameRequired?this.TcknVerificationModal.emit({action:"modal",params:["open"]}):this.router.navigate([this.currentLang+"/games/livecasino/detail/normal/"+i.id+"/"+s]):this.openModal();else{const a={gameId:i.id,channel:"web",vendorLimitId:s,vendorId:i.vendorId};"demo"===t?(this.gamesService.openDemoGame(Number(i.id),a).then(o=>{const c=(window.innerWidth-Number(o.width))/2,p=(window.innerHeight-Number(o.height))/2,l=o.width?Number(o.width):1024,f=o.height?Number(o.height):768;window.open(o.gameUrl,`CasinoDetail${i.id}`,"height="+f+", width = "+l+", top="+p+", left="+c+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no")}),this.trackingService.openCasinoGame(i.name,i.id,!1,!0,!0)):this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?!0===this.tcknOpenGameRequired?this.TcknVerificationModal.emit({action:"modal",params:["open"]}):(this.gamesService.openGame(Number(i.id),a).then(o=>{const c=(window.innerWidth-Number(o.width))/2,p=(window.innerHeight-Number(o.height))/2,l=o.width?Number(o.width):1024,f=o.height?Number(o.height):768;window.open(o.gameUrl,`CasinoDetail${i.id}`,"height="+f+", width = "+l+", top="+p+", left="+c+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no")}),this.trackingService.openCasinoGame(i.name,i.id,!0,!0)):this.openModal()}}setSubNavItems(){this.gamesService.getCategories(r.h_f.LCAS).then(i=>{if((0,se.Z)(i,{webCount:0}),i){const t=i.filter(s=>s.id>0).slice(0,10).map(s=>(s.url="/"+this.currentLang+"/games/"+r.h_f.sLCAS.toLowerCase()+"/category/"+s.id,s));this.navigationService.setSubNavItems(t)}}).catch(i=>{})}categoryMatched(i,t){return i.id===Number(t.categoryId)}tcknVerificationRequired(){this.tcknOpenGameSubs=this.tcknVerificationService.getTcknOpenGame().subscribe(i=>{this.tcknOpenGameRequired=i}),this.tcknVerificationService.checkTcknParams("openGame")}closeTcknVerificationModal(){this.TcknVerificationModal.emit({action:"modal",params:["close"]})}get currency(){return this._currency}allVendors(i){this.showAllVendor=i}openModal(){switch(this.userService.loginStep){case"ga":this.modalService.modalObserver.next(new r.u_l("ga-modal","ga-mdl",null,0));break;case"sms":const i={loginRequestModel:this.userService.userLoginDetails.requestBody};this.modalService.modalObserver.next(new r.u_l("sms-modal","sms-mdl",null,0,null,null,!0,i));break;default:this.modalService.modalObserver.next(new r.u_l("app-login","sgn-mdl",null,0)),this.modalService.emitModalActions({action:"modal",params:["open"]})}}ngOnDestroy(){this.loginSubs.unsubscribe(),this.goGameCatSubs.unsubscribe(),this.tcknOpenGameSubs.unsubscribe(),this.destroy$.next()}setCurrency(){this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?this.userService.getCustomerCurrency().then(i=>{this._currency=i}):this.traderService.getTraderCurrencyList().then(i=>{this.traderService.setCurrency(this.traderService.trader.dCI),this._currency=this.traderService.currentCurrency}),this.pageData.properties.inProgress=!1}}Y.\u0275fac=function(i){return new(i||Y)(e.Y36(h.gz),e.Y36(r.e80),e.Y36(r._W6),e.Y36(r.Wd0),e.Y36(v.sK),e.Y36(r.Ye3),e.Y36(h.F0),e.Y36(r.chr),e.Y36(O.f),e.Y36(r.yQZ),e.Y36(r.F$_),e.Y36(r.zVL),e.Y36(r.q3T),e.Y36(r.SwN))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-live-casino"]],hostBindings:function(i,t){1&i&&e.NdJ("scroll",function(a){return t.onWindowScroll(a)},!1,e.Jf7)},features:[e._Bn([])],decls:9,vars:9,consts:[["materialize","modal",1,"modal",3,"materializeActions","materializeParams"],["type","openGame",3,"closeTcknVerificationModalEvent"],[1,"live-casino-bg"],[4,"ngIf"],["contentCode","liveCasino"],[1,"progress"],[1,"indeterminate"],[1,"container","casino-cntr"],["type","error","content","MESSAGES.CASINO_SERVICE_UNAVAILABLE_DESCRIPTION"],["type","error",3,"content"],["id","p-csn",1,"container","casino-cntr",3,"ngClass"],["type","warning","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],[1,"row"],["class","col s2 left-content",4,"ngIf"],["id","casino-right",1,"col","s10","right-content",3,"ngClass"],[4,"customConfig"],[1,"flex-container","clear","csn-rtitle-wrap"],[3,"ngIf"],[1,"casino-filters"],[1,"browser-default","order","left",3,"ngModel","ngModelChange","change"],["hidden","","selected","selected",3,"value"],[3,"value"],[1,"browser-default","method","left",3,"ngModel","ngModelChange"],["selected","selected",3,"value"],[1,"gm-wrap"],["class","flex-container clear vendor-t-c crsr-pntr",3,"click",4,"ngIf"],[1,"gm-cntr"],["contentCode","liveCasino-bottom"],["type","warning","icon","fa fa-exclamation-circle",3,"content"],[1,"col","s2","left-content"],["contentCode","liveCasino-left-top"],[1,"ltitle","truncate",3,"title"],[1,"count"],[1,"input-field","search-cntr"],[1,"material-icons","pg-icons","prefix"],["type","text",1,"browser-default",3,"ngModel","debounce","placeholder","ngModelChange","onDebounce"],["contentCode","liveCasino-left-bottom"],[1,"collection"],[3,"orderType","lastTen","gamesCount","gamesData","categoriesData","vendorsData","vId","cId","gameType","gamesCountChange","gamesDataChange","cIdChange","vIdChange"],[1,"rtitle","flex-item"],[3,"isDropdown","orderType","lastTen","gamesCount","gamesData","categoriesData","vendorsData","vId","cId","gameType","gamesCountChange","gamesDataChange","cIdChange","vIdChange"],["pathCode","casino",3,"isDropdown","orderType","gamesData","showAllVendor","cdnUrl","categoriesData","vendorsData","cId","vId","gamesCount","gameType","currentLang","gamesDataChange","cIdChange","vIdChange","gamesCountChange"],["href","javascript:;",1,"btn","view-btns","module","left",3,"title","click"],[1,"material-icons","pg-icons"],["href","javascript:;",1,"btn","view-btns","list","left",3,"title","click"],[1,"flex-container","clear","vendor-t-c","crsr-pntr",3,"click"],[1,"vendor-title","flex-item"],["href","javascript:;",1,"vendors-toggle-btn","btn"],[1,"fa","fa-plus-circle","pg-icons"],[1,"fa","fa-minus-circle","pg-icons"],["pathCode","livecasino",3,"orderType","gamesData","showAllVendor","cdnUrl","categoriesData","vendorsData","currentLang","cId","vId","gamesCount","gameType","gamesDataChange","cIdChange","vIdChange","gamesCountChange"],["ngFor","",3,"ngForOf"],[1,"col","pg-grd-5","csn-crd-col",3,"mouseenter"],[1,"csn-crd"],[1,"crd-img"],[1,"gm-img",3,"src","alt"],["alt","",1,"gm-img","loading",3,"src"],[1,"inf"],["class","new",4,"ngIf"],["class","popular",4,"ngIf"],[4,"ngFor","ngForOf"],["classes","fvrt-lnk left",3,"id","type"],[1,"vndr"],[1,"vndr-lg",3,"src","alt"],["ngFor","",3,"ngIf","ngForOf"],[1,"hvr-inf"],[1,"v-a"],[1,"crd-nm"],[1,"display-block"],["class","display-block",4,"ngIf"],[1,"new"],[1,"popular"],["class","new new-tags",4,"ngIf"],[1,"new","new-tags"],[1,"hour"],[1,"material-icons","pg-icons","left"],[1,"rpt-rw"],[1,"lmt-txt"],[1,"currency-symbol"],["href","javascript:;",1,"btn","real",3,"click"],["type","info","content","MESSAGES.NO_VENDOR_LIMIT"],["href","javascript:;",1,"btn","free",3,"click"],["alt","",1,"vndr-lg",3,"src"],[1,"gm-list-view"],["class","pg-grd-5 flex-container",4,"ngFor","ngForOf"],[1,"pg-grd-5","flex-container"],["href","javascript:;",3,"title","click"],["alt","","align","left",3,"src"],[1,"truncate"],["class","col s6",3,"ngClass",4,"ngIf"],[1,"col","s6",3,"ngClass"],["id","show-less-btn",1,"btn","sw-mr",3,"click"],["id","show-more-btn",1,"btn","sw-mr","btn-show-more",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"tckn-verification",1),e.NdJ("closeTcknVerificationModalEvent",function(){return t.closeTcknVerificationModal()}),e.qZA()(),e.TgZ(2,"div",2),e._UZ(3,"slider"),e.YNc(4,Nt,3,0,"ng-container",3),e.YNc(5,Ut,3,0,"ng-container",3),e._UZ(6,"app-static-inner-content",4),e.YNc(7,Ot,2,1,"ng-container",3),e.YNc(8,wi,42,43,"ng-container",3),e.qZA()),2&i&&(e.Q6J("materializeActions",t.TcknVerificationModal)("materializeParams",e.VKq(7,Gi,e.DdM(6,ki))),e.xp6(4),e.Q6J("ngIf",t.pageData.properties.inProgress),e.xp6(1),e.Q6J("ngIf","1"!==t.pageData.properties.isOpen&&!t.pageData.properties.inProgress||t.isUnderMaintenance),e.xp6(2),e.Q6J("ngIf","1"===t.pageData.properties.isOpen&&!t.gamesData&&!t.pageData.properties.inProgress&&!t.isUnderMaintenance),e.xp6(1),e.Q6J("ngIf","1"===t.pageData.properties.isOpen&&!t.pageData.properties.inProgress&&!t.isUnderMaintenance))},dependencies:[_.mk,_.sg,_.O5,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.On,ge.S,_e.$,E.M,F.n,N.W,M.J,q.J,oe.P,me.f,de.w,V,H,_.Ov,_.JJ,v.X$],encapsulation:2});x.N.map.games;class j{constructor(){}ngOnInit(){}}j.\u0275fac=function(i){return new(i||j)},j.\u0275cmp=e.Xpm({type:j,selectors:[["app-games"]],decls:1,vars:0,template:function(i,t){1&i&&e._UZ(0,"router-outlet")},dependencies:[h.lC],encapsulation:2});var Ce=m(98723),Z=m(11481),xe=m(6719),z=m(56852);function Ni(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"message-box",5),e.qZA())}function Ui(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e._UZ(3,"message-box",10),e.qZA(),e.TgZ(4,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openModal())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"FIELDS.SEND")))}const Oi=function(n){return{param0:n}};function Mi(n,i){if(1&n&&(e._UZ(0,"message-box",30),e.ALo(1,"translate"),e.ALo(2,"async")),2&n){const t=e.oxw(3);e.s9C("content",e.xi3(1,1,"MESSAGES.MAX_BET_LIMIT",e.VKq(6,Oi,e.lcZ(2,4,t.userService.maxBetLimit))))}}function Ei(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",31),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.gameDetail.name," ")}}function Ji(n,i){if(1&n&&(e.TgZ(0,"span",32),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.timerString," ")}}function qi(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-favorite",33),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("type",t.favoriteType)("id",t.gameDetail.id)}}function Qi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.closeGame())}),e.TgZ(1,"i",21),e._uU(2,"close"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("routerLink","/"+t.currentLang+"/games/custom-categories")}}function Yi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.closeGame())}),e.TgZ(1,"i",21),e._uU(2,"close"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("routerLink","/"+t.currentLang+"/games/casino")}}function Pi(n,i){if(1&n&&e._UZ(0,"message-box",35),2&n){const t=e.oxw(3);e.Q6J("content",t.errorMessage)}}function Fi(n,i){if(1&n&&(e._UZ(0,"iframe",41),e.ALo(1,"safeUrl")),2&n){const t=e.oxw(4);e.Q6J("width",t.game.width||1024)("height",t.game.height||768)("src",e.lcZ(1,3,t.game.gameUrl),e.uOi)}}function Vi(n,i){1&n&&(e.TgZ(0,"div",42)(1,"div",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",44)(5,"div",45)(6,"div",46),e._UZ(7,"div",47),e.qZA(),e.TgZ(8,"div",48),e._UZ(9,"div",47),e.qZA(),e.TgZ(10,"div",49),e._UZ(11,"div",47),e.qZA()(),e.TgZ(12,"div",50)(13,"div",46),e._UZ(14,"div",47),e.qZA(),e.TgZ(15,"div",48),e._UZ(16,"div",47),e.qZA(),e.TgZ(17,"div",49),e._UZ(18,"div",47),e.qZA()(),e.TgZ(19,"div",51)(20,"div",46),e._UZ(21,"div",47),e.qZA(),e.TgZ(22,"div",48),e._UZ(23,"div",47),e.qZA(),e.TgZ(24,"div",49),e._UZ(25,"div",47),e.qZA()(),e.TgZ(26,"div",52)(27,"div",46),e._UZ(28,"div",47),e.qZA(),e.TgZ(29,"div",48),e._UZ(30,"div",47),e.qZA(),e.TgZ(31,"div",49),e._UZ(32,"div",47),e.qZA()()()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"TEXTS.LOADING"),"!"))}function Hi(n,i){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,Fi,2,5,"iframe",37),e._UZ(2,"div",38)(3,"payments-widget",39),e.YNc(4,Vi,33,3,"div",40),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("ngStyle",t.containerProps),e.xp6(1),e.Q6J("ngIf",!t.inProgress),e.xp6(1),e.Q6J("innerHTML",t.gameContent,e.oJD),e.xp6(1),e.Q6J("type","modal"),e.xp6(1),e.Q6J("ngIf",t.inProgress)}}function Bi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.YNc(1,Mi,3,8,"message-box",13),e.ALo(2,"async"),e.TgZ(3,"div",14)(4,"div",15)(5,"div",16)(6,"span",17),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,Ei,3,1,"ng-container",3),e.qZA(),e.TgZ(10,"div",18),e.YNc(11,Ji,2,1,"span",19),e.TgZ(12,"a",20)(13,"i",21),e._uU(14,"account_balance"),e.qZA()(),e.TgZ(15,"a",22),e._UZ(16,"i",23),e.qZA(),e.TgZ(17,"a",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleWindow())}),e._UZ(18,"i",25),e.qZA(),e.TgZ(19,"a",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.callGame())}),e._UZ(20,"i",27),e.qZA(),e.YNc(21,qi,2,2,"ng-container",3),e.YNc(22,Qi,3,1,"a",28),e.YNc(23,Yi,3,1,"a",28),e.qZA()(),e.YNc(24,Pi,1,1,"message-box",29),e.YNc(25,Hi,5,5,"ng-template",6),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngStyle",t.lgProps),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,12,t.userService.maxBetLimit)),e.xp6(6),e.hij(" ",e.lcZ(8,14,"LINKS.CASINO")," "),e.xp6(2),e.Q6J("ngIf",t.gameDetail),e.xp6(2),e.Q6J("ngIf",t.timerString&&t.trader.realityCheck||t.timerString&&t.trader.enableRealityCheckNew),e.xp6(1),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/deposit-money"),e.xp6(3),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/transfer"),e.xp6(6),e.Q6J("ngIf",null==t.gameDetail?null:t.gameDetail.id),e.xp6(1),e.Q6J("ngIf",t.disabledCasinoGames),e.xp6(1),e.Q6J("ngIf",!t.disabledCasinoGames),e.xp6(1),e.Q6J("ngIf",!t.inProgress&&t.errorMessage),e.xp6(1),e.Q6J("ngIf",t.game)}}function Ri(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",31),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.gameDetail.name," ")}}function Ki(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openNormalPlayMode())}),e._UZ(1,"i",55),e.qZA()}}function $i(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openGame())}),e._UZ(1,"i",27),e.qZA()}}function ji(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openDemoGame())}),e._UZ(1,"i",27),e.qZA()}}function zi(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-favorite",33),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("type",t.favoriteType)("id",t.gameDetail.id)}}function Xi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.closeGame())}),e.TgZ(1,"i",21),e._uU(2,"close"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("routerLink","/"+t.currentLang+"/games/custom-categories")}}function Wi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.closeGame())}),e.TgZ(1,"i",21),e._uU(2,"close"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("routerLink","/"+t.currentLang+"/games/casino")}}function en(n,i){if(1&n&&e._UZ(0,"message-box",35),2&n){const t=e.oxw(3);e.Q6J("content",t.errorMessage)}}function tn(n,i){if(1&n&&(e._UZ(0,"iframe",57),e.ALo(1,"safeUrl")),2&n){const t=e.oxw(4);e.Q6J("width",t.game.width||1024)("height",t.game.height||768)("src",e.lcZ(1,3,t.game.gameUrl),e.uOi)}}function nn(n,i){1&n&&(e.TgZ(0,"div",42)(1,"div",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",44)(5,"div",45)(6,"div",46),e._UZ(7,"div",47),e.qZA(),e.TgZ(8,"div",48),e._UZ(9,"div",47),e.qZA(),e.TgZ(10,"div",49),e._UZ(11,"div",47),e.qZA()(),e.TgZ(12,"div",50)(13,"div",46),e._UZ(14,"div",47),e.qZA(),e.TgZ(15,"div",48),e._UZ(16,"div",47),e.qZA(),e.TgZ(17,"div",49),e._UZ(18,"div",47),e.qZA()(),e.TgZ(19,"div",51)(20,"div",46),e._UZ(21,"div",47),e.qZA(),e.TgZ(22,"div",48),e._UZ(23,"div",47),e.qZA(),e.TgZ(24,"div",49),e._UZ(25,"div",47),e.qZA()(),e.TgZ(26,"div",52)(27,"div",46),e._UZ(28,"div",47),e.qZA(),e.TgZ(29,"div",48),e._UZ(30,"div",47),e.qZA(),e.TgZ(31,"div",49),e._UZ(32,"div",47),e.qZA()()()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"TEXTS.LOADING"),"!"))}function an(n,i){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,tn,2,5,"iframe",56),e._UZ(2,"div",38),e.YNc(3,nn,33,3,"div",40),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("ngStyle",t.containerProps),e.xp6(1),e.Q6J("ngIf",!t.inProgress),e.xp6(1),e.Q6J("innerHTML",t.gameContent,e.oJD),e.xp6(1),e.Q6J("ngIf",t.inProgress)}}function sn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",14)(2,"div",15)(3,"div",16)(4,"span",17),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Ri,3,1,"ng-container",3),e.qZA(),e.TgZ(8,"div",18),e.YNc(9,Ki,2,0,"a",53),e.TgZ(10,"a",20)(11,"i",21),e._uU(12,"account_balance"),e.qZA()(),e.TgZ(13,"a",22),e._UZ(14,"i",23),e.qZA(),e.TgZ(15,"a",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleWindow())}),e._UZ(16,"i",25),e.qZA(),e.YNc(17,$i,2,0,"a",54),e.YNc(18,ji,2,0,"a",54),e.YNc(19,zi,2,2,"ng-container",3),e.YNc(20,Xi,3,1,"a",28),e.YNc(21,Wi,3,1,"a",28),e.qZA()(),e.YNc(22,en,1,1,"message-box",29),e.YNc(23,an,4,4,"ng-template",6),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngStyle",t.lgProps),e.xp6(5),e.hij(" ",e.lcZ(6,13,"LINKS.CASINO")," "),e.xp6(2),e.Q6J("ngIf",t.gameDetail),e.xp6(2),e.Q6J("ngIf","demo"===t.playType),e.xp6(1),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/deposit-money"),e.xp6(3),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/transfer"),e.xp6(4),e.Q6J("ngIf","normal"===t.playType),e.xp6(1),e.Q6J("ngIf","demo"===t.playType),e.xp6(1),e.Q6J("ngIf",null==t.gameDetail?null:t.gameDetail.id),e.xp6(1),e.Q6J("ngIf",t.disabledCasinoGames),e.xp6(1),e.Q6J("ngIf",!t.disabledCasinoGames),e.xp6(1),e.Q6J("ngIf",!t.inProgress&&t.errorMessage),e.xp6(1),e.Q6J("ngIf",t.game)}}function on(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div"),e.YNc(2,Ui,7,3,"ng-template",6),e.YNc(3,Bi,26,16,"ng-template",6),e.YNc(4,sn,24,15,"ng-template",6),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Gre("casino-detail-bg game-id-",t.gameDetail.id,""),e.xp6(1),e.Q6J("ngIf",!t.isLoggedIn&&"normal"===t.playType),e.xp6(1),e.Q6J("ngIf","normal"===t.playType&&t.isLoggedIn&&!1===t.tcknOpenGameRequired),e.xp6(1),e.Q6J("ngIf","demo"===t.playType)}}const rn=function(){return{dismissible:!0}},cn=function(n){return[n]};x.N.map.casinoDetail;class B{constructor(i,t,s,a,o,c,p,l,f,S,y,A,L,D,u,T,C,g,w){this.toastFactory=i,this.route=t,this.gamesService=s,this.applicationService=a,this.translateService=o,this.userService=c,this.router=p,this.translateFactory=l,this.sanitizer=f,this.rootService=S,this.title=y,this.meta=A,this.realityCheckService=L,this.limitSettingsService=D,this.traderService=u,this.navigationService=T,this.tcknVerificationService=C,this.modalService=g,this.trackingService=w,this.inProgress=!1,this.modalActions=new e.vpe,this.disabledCasinoGames=x.N.trader.disabledCasinoGames,this.routeSubscribe=null,this.stop$=new P.xQ,this.TcknVerificationModal=new e.vpe,this.tcknOpenGameSubs=null,this.trader=this.traderService.trader,this.initRealityCheckListeners(),this.wasSessionLockedSubs=this.userService.wasSessionLocked.subscribe(I=>{if(I[0]){this.sessionDurationType=this.userService.sessionDurationTypes[I[1]];const b=document.getElementById("gm-frm");b&&b.parentNode.removeChild(b),this.setOpenedGame(null),this.translateService.get(`MESSAGES.${this.sessionDurationType}_SESSION_LIMIT_REACHED`,{}).subscribe(U=>{this.errorMessage=U})}})}initRealityCheckListeners(){(this.trader.realityCheck||this.trader.enableRealityCheckNew)&&(this.startGameSubs$=this.realityCheckService.listenGameStart().subscribe(()=>{this.startRealityCheckTimer()}),this.resumeGameSubs$=this.realityCheckService.listenGameResume().subscribe(()=>{this.startRealityCheckTimer(!0)}),this.closeGameSubs$=this.realityCheckService.listenGameClose().subscribe(()=>{this.clearRealityCheckTimer()}),this.pauseGameSubs$=this.realityCheckService.listenGamePause().subscribe(()=>{this.pauseRealityCheckTimer()}))}ngOnInit(){this.sessionDurationType=this.userService.user&&this.userService.user.sessionDurationTypeIndex?this.userService.sessionDurationTypes[this.userService.user.sessionDurationTypeIndex]:"DAILY",this.isOpen=this.applicationService.settingList.find(i=>"is-casino-api-open"===i.parameter).value,this.subscripter=this.userService.isLoggedIn.subscribe(i=>{this.sessionDurationType=this.userService.sessionDurationTypes[this.userService.user.sessionDurationTypeIndex],this.isLoggedIn=i.username,this.isLoggedIn&&this.tcknVerificationService.checkTcknParams("openGame")}),this.playType=this.route.snapshot.params.playType,this.gameId=this.route.snapshot.params.id,this.route.params.subscribe(i=>{this.gameId=i.id,this.tcknVerificationRequired()}),this.initialize()}tcknVerificationRequired(){this.tcknOpenGameSubs=this.tcknVerificationService.getTcknOpenGame().subscribe(i=>{this.tcknOpenGameRequired=i,!1===this.tcknOpenGameRequired?"1"===this.isOpen&&(this.errorMessage="","normal"===this.playType?(this.isLoggedIn||this.userService.isAuth())&&setTimeout(()=>{this.findGameObj(r.h_f.CAS).then(t=>{this.openGame().then(s=>{this.lgProps={width:"90%"}})})}):setTimeout(()=>{this.findGameObj(r.h_f.CAS).then(t=>{this.openDemoGame().then(s=>{this.lgProps={width:"90%"}}).catch(s=>{this.translateService.get("MESSAGES.EXCEPTION",{}).subscribe(a=>{this.errorMessage=a})})})})):setTimeout(t=>{this.TcknVerificationModal.emit({action:"modal",params:["open"]})},200)}),this.tcknVerificationService.checkTcknParams("openGame")}closeTcknVerificationModal(){this.TcknVerificationModal.emit({action:"modal",params:["close"]})}initialize(){this.favoriteType=1,this.host=location.host,this.currentLang=this.translateFactory.currentLang.code,this.isLoggedIn=this.userService.isAuth(),!this.isLoggedIn&&"demo"!==this.playType&&this.router.navigate([this.currentLang,"authentication","signin"],{queryParams:{return:this.router.url}}),this.isLoggedIn&&this.userService.refreshBalance(),this.isOpen=this.applicationService.settingList.find(i=>"is-casino-api-open"===i.parameter).value,"normal"===this.playType?this.showContainer=this.isLoggedIn:this.showContainer=!0,x.N.trader.subMenu&&this.setSubNavItems()}setMeta(){this.rootService.setPageMetaData("casinoDetail")}openDemoGame(){return new Promise((i,t)=>{if(!this.inProgress){this.inProgress=!0;const s={gameId:this.gameId,channel:"web",vendorId:this._gameDetail.vendorId};this.gamesService.openDemoGame(this.gameId,s).then(a=>{this._game=a,this.gamesService.clearProtocol(this._game),this.trackingService.openCasinoGame(this._gameDetail.name,this.gameId,!1,!1,!0),this.setOpenedGame(this._game),typeof this._game.gameContent<"u"&&(this.gameContent=this.sanitizer.bypassSecurityTrustHtml(this._game.gameContent)),typeof this._game.height<"u"?this.containerProps={height:this._game.height+"px"}:this.containerProps={height:"768px"},this.inProgress=!1,i(this._game)}).catch(a=>{a&&!a.ok&&(this.inProgress=!1,this.translateService.get("MESSAGES."+a.error.responseCodes[0].responseKey,{}).subscribe(o=>{this.errorMessage=o}),t(this.errorMessage))})}})}openGame(){return new Promise((i,t)=>{if(this.isLoggedIn&&!this.inProgress){this.inProgress=!0;const s={gameId:this.gameId,channel:"web",vendorId:this._gameDetail.vendorId};!this._playedAmountObs$&&!this._timerObs$&&this.trader.realityCheck&&this.startRealityCheckTimer(),this.gamesService.openGame(this.gameId,s).then(a=>{this.inProgress=!1,this._game=a,this.gamesService.clearProtocol(this._game),this.trackingService.openCasinoGame(this._gameDetail.name,this.gameId),this.setOpenedGame(this._game),typeof this._game.gameContent<"u"&&(this.gameContent=this.sanitizer.bypassSecurityTrustHtml(this._game.gameContent)),typeof this._game.height<"u"?this.containerProps={height:this._game.height+"px"}:this.containerProps={height:"768px"},i(this._game)}).catch(a=>{this.inProgress=!1,this.errorMessage=a[0]})}})}openModal(){switch(this.userService.loginStep){case"ga":const i=new r.u_l("ga-modal","ga-mdl",null,0);this.modalService.modalObserver.next(i);break;case"sms":const t={loginRequestModel:this.userService.userLoginDetails.requestBody},s=new r.u_l("sms-modal","sms-mdl",null,0,null,null,!0,t);this.modalService.modalObserver.next(s);break;default:const a=new r.u_l("app-login","sgn-mdl",null,0);this.modalService.modalObserver.next(a),this.modalService.emitModalActions({action:"modal",params:["open"]})}}findGameObj(i){return new Promise((t,s)=>{const a=this.gameId;this.gamesService.getGames(i).then(o=>{this._gameDetail=o.find(c=>c.id===Number(a)),this.setGameDetail(this._gameDetail),this.gamesService.setPlayedGame(this._gameDetail.id,r.h_f.sCAS),t(this._gameDetail)}).catch(o=>{})})}openNewWindow(){if(typeof this.game<"u"){const i=(window.innerWidth-Number(this.game.width))/2,t=(window.innerHeight-Number(this.game.height))/2;let s=1024,a=768;this.game.width&&(s=Number(this.game.width)),this.game.height&&(a=Number(this.game.height)),window.open(this.game.gameUrl,`CasinoDetail${this.gameDetail.id}`,"height="+a+", width = "+s+", top="+t+", left="+i+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no, fullscreen=yes"),this.trackingService.openCasinoGame(this._gameDetail.name,this.gameId,!1,!1,"normal"!==this.playType),this.router.navigate(["/en/games/casino"])}}toggleWindow(){this.fullScreen=!this.fullScreen,this.fullScreen?this.lgProps={width:"100%",height:"100%",position:"absolute",top:"0","z-index":"9999",margin:"0","border-radius":"0"}:this.lgProps={position:"relative",top:null,"z-index":null,margin:"20px auto"}}callGame(){this.errorMessage=null,this.isLoggedIn?this.userService.user.isSessionLock?this.translateService.get(`MESSAGES.${this.sessionDurationType}_SESSION_LIMIT_REACHED`,{}).subscribe(i=>{this.errorMessage=i}):this.openGame():this.openDemoGame()}closeGame(){this.pauseRealityCheckTimer()}startRealityCheckTimer(i=!1){this.limitSettingsService.getCasinoLimitInfo().then(t=>{const s=this.realityCheckService.chooseSessionLimit(this.traderService.trader.realityCheck,this.traderService.trader.enableRealityCheckNew,this.realityCheckService.defaultSessionLimit,t.sessionPlayLimit,this.traderService.trader.realityCheckInactivityPeriod,!0);let a=this.realityCheckService.getPlayedAmount();i&&(a+=1),this._timerObs$=(0,Ce.H)(1e3,1e3),this._playedAmountObs$=this._timerObs$.pipe((0,k.R)(this.stop$)).subscribe(o=>{this._playedAmount=a+o,this.timerString=this.realityCheckService.secondsToTime(this._playedAmount),this.realityCheckService.savePlayedAmount(this._playedAmount),this._playedAmount&&this._playedAmount%s==0&&(this.pauseRealityCheckTimer(),this.realityCheckService.prepareRealityCheckModal())})}).catch(t=>{})}pauseRealityCheckTimer(){this._timerObs$=null,this._playedAmountObs$&&this._playedAmountObs$.unsubscribe()}clearRealityCheckTimer(){this.realityCheckService.clearTimer()}stop(){this.stop$.next(),this.stop$.complete(),this.stop$.unsubscribe()}setSubNavItems(){this.gamesService.getCategories(r.h_f.CAS).then(i=>{if((0,se.Z)(i,{webCount:0}),i){let t=i.filter(s=>s.id>0).slice(0,10).forEach(s=>{s.url="/"+this.currentLang+"/games/"+r.h_f.sCAS.toLowerCase()+"/category/"+s.id});this.navigationService.setSubNavItems(t)}}).catch(i=>{})}openNormalPlayMode(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate([this.currentLang+"/games/casino/detail/normal/"+this.gameId]))}ngOnDestroy(){this.pauseRealityCheckTimer(),this.stop(),this.subscripter&&this.subscripter.unsubscribe(),this.tcknOpenGameSubs&&this.tcknOpenGameSubs.unsubscribe(),this.wasSessionLockedSubs&&this.wasSessionLockedSubs.unsubscribe()}get game(){return this._game}setOpenedGame(i){this._game=i}get gameDetail(){return this._gameDetail}setGameDetail(i){this._gameDetail=i}}function pn(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"message-box",5),e.qZA())}function ln(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",6),e._UZ(2,"div",7),e.qZA(),e.BQk())}function gn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._UZ(3,"message-box",13),e.qZA(),e.TgZ(4,"button",14),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openModal())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"FIELDS.SEND")))}B.\u0275fac=function(i){return new(i||B)(e.Y36(r.Uwl),e.Y36(h.gz),e.Y36(r.e80),e.Y36(r.Wd0),e.Y36(v.sK),e.Y36(r.Ye3),e.Y36(h.F0),e.Y36(r.chr),e.Y36(Z.H7),e.Y36(r.U$c),e.Y36(Z.Dx),e.Y36(Z.h_),e.Y36(r.ivm),e.Y36(r.zgE),e.Y36(r._W6),e.Y36(O.f),e.Y36(r.yQZ),e.Y36(r.F$_),e.Y36(r.zVL))},B.\u0275cmp=e.Xpm({type:B,selectors:[["app-casino-detail"]],features:[e._Bn([])],decls:4,vars:7,consts:[["materialize","modal",1,"modal",3,"materializeActions","materializeParams"],["type","openGame",3,"closeTcknVerificationModalEvent"],["class","container casino-cntr",4,"ngIf"],[4,"ngIf"],[1,"container","casino-cntr"],["type","error","content","MESSAGES.CASINO_SERVICE_UNAVAILABLE_DESCRIPTION"],[3,"ngIf"],[1,"casino-detail-cntr"],[1,"flex-container","signin-msg-csn"],[1,"flex-item"],["type","info","content","MESSAGES.LOGIN_TO_PLAY_CASINO"],[1,"btn","t1",3,"click"],[1,"casino-detail-cntr",3,"ngStyle"],["type","warning","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],[1,"gm-bx-l"],[1,"title","flex-container"],[1,"flex-item","txt"],[1,"ctry-n"],[1,"gm-acn"],["class","white-text",4,"ngIf"],[1,"btn","popup",3,"routerLink"],[1,"material-icons","pg-icons"],[1,"btn","refresh",3,"routerLink"],[1,"fa","fa-exchange","pg-icons"],["href","javascript:;",1,"btn","popup",3,"click"],[1,"fa","fa-external-link","pg-icons"],["href","javascript:;",1,"btn","refresh",3,"click"],[1,"fa","fa-refresh","pg-icons"],["class","btn close",3,"routerLink","click",4,"ngIf"],["type","error",3,"content",4,"ngIf"],["type","warning","icon","fa fa-exclamation-circle",3,"content"],[1,"gm-n"],[1,"white-text"],["classes","btn fvrt-add",3,"type","id"],[1,"btn","close",3,"routerLink","click"],["type","error",3,"content"],[1,"gm-bx",3,"ngStyle"],["id","gm-frm","frameborder","0","allowfullscreen","true","class","iframeDefaultSize",3,"width","height","src",4,"ngIf"],[3,"innerHTML"],[3,"type"],["class","ldng-cntr",4,"ngIf"],["id","gm-frm","frameborder","0","allowfullscreen","true",1,"iframeDefaultSize",3,"width","height","src"],[1,"ldng-cntr"],[1,"ldng"],[1,"preloader-wrapper","big","active"],[1,"spinner-layer","spinner-blue"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"],[1,"spinner-layer","spinner-red"],[1,"spinner-layer","spinner-yellow"],[1,"spinner-layer","spinner-green"],["href","javascript:;","class","btn popup",3,"click",4,"ngIf"],["href","javascript:;","class","btn refresh",3,"click",4,"ngIf"],[1,"fa","fa-usd","pg-icons"],["frameborder","0","allowfullscreen","true","class","iframeDefaultSize",3,"width","height","src",4,"ngIf"],["frameborder","0","allowfullscreen","true",1,"iframeDefaultSize",3,"width","height","src"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"tckn-verification",1),e.NdJ("closeTcknVerificationModalEvent",function(){return t.closeTcknVerificationModal()}),e.qZA()(),e.YNc(2,Ni,2,0,"div",2),e.YNc(3,on,5,6,"ng-container",3)),2&i&&(e.Q6J("materializeActions",t.TcknVerificationModal)("materializeParams",e.VKq(5,cn,e.DdM(4,rn))),e.xp6(2),e.Q6J("ngIf","0"===t.isOpen),e.xp6(1),e.Q6J("ngIf","1"===t.isOpen&&t.gameDetail))},dependencies:[_.O5,_.PC,h.rH,E.M,N.W,M.J,q.J,xe.G,_.Ov,v.X$,z.Q],encapsulation:2});const _n=function(n){return{param0:n}};function mn(n,i){if(1&n&&(e._UZ(0,"message-box",33),e.ALo(1,"translate"),e.ALo(2,"async")),2&n){const t=e.oxw(3);e.s9C("content",e.xi3(1,1,"MESSAGES.MAX_BET_LIMIT",e.VKq(6,_n,e.lcZ(2,4,t.userService.maxBetLimit))))}}function dn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",34),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.gameDetail.name," ")}}function hn(n,i){if(1&n&&(e.TgZ(0,"span",35),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.timerString," ")}}function un(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-user-favorite",36),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("type",t.favoriteType)("id",t.gameDetail.id)}}function fn(n,i){if(1&n&&e._UZ(0,"message-box",37),2&n){const t=e.oxw(3);e.Q6J("content",t.errorMessage)}}function vn(n,i){if(1&n&&(e._UZ(0,"iframe",43),e.ALo(1,"safeUrl")),2&n){const t=e.oxw(4);e.Udp("max-width",100,"%"),e.Q6J("width",t.game.width||1024)("height",t.game.height||768)("src",e.lcZ(1,5,t.game.gameUrl),e.uOi)}}function Cn(n,i){1&n&&(e.TgZ(0,"div",44)(1,"div",45),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",46)(5,"div",47)(6,"div",48),e._UZ(7,"div",49),e.qZA(),e.TgZ(8,"div",50),e._UZ(9,"div",49),e.qZA(),e.TgZ(10,"div",51),e._UZ(11,"div",49),e.qZA()(),e.TgZ(12,"div",52)(13,"div",48),e._UZ(14,"div",49),e.qZA(),e.TgZ(15,"div",50),e._UZ(16,"div",49),e.qZA(),e.TgZ(17,"div",51),e._UZ(18,"div",49),e.qZA()(),e.TgZ(19,"div",53)(20,"div",48),e._UZ(21,"div",49),e.qZA(),e.TgZ(22,"div",50),e._UZ(23,"div",49),e.qZA(),e.TgZ(24,"div",51),e._UZ(25,"div",49),e.qZA()(),e.TgZ(26,"div",54)(27,"div",48),e._UZ(28,"div",49),e.qZA(),e.TgZ(29,"div",50),e._UZ(30,"div",49),e.qZA(),e.TgZ(31,"div",51),e._UZ(32,"div",49),e.qZA()()()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"TEXTS.LOADING"),"!"))}function xn(n,i){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,vn,2,7,"iframe",39),e._UZ(2,"div",40)(3,"payments-widget",41),e.YNc(4,Cn,33,3,"div",42),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("ngStyle",t.containerProps),e.xp6(1),e.Q6J("ngIf",!t.inProgress),e.xp6(1),e.Q6J("innerHTML",t.gameContent,e.oJD),e.xp6(1),e.Q6J("type","modal"),e.xp6(1),e.Q6J("ngIf",t.inProgress)}}function Tn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.YNc(1,mn,3,8,"message-box",16),e.ALo(2,"async"),e.TgZ(3,"div",17)(4,"div",18)(5,"div",19)(6,"span",20),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,dn,3,1,"ng-container",1),e.qZA(),e.TgZ(10,"div",21),e.YNc(11,hn,2,1,"span",22),e.TgZ(12,"a",23)(13,"i",24),e._uU(14,"account_balance"),e.qZA()(),e.TgZ(15,"a",25),e._UZ(16,"i",26),e.qZA(),e.TgZ(17,"a",27),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleWindow())}),e._UZ(18,"i",28),e.qZA(),e.TgZ(19,"a",29),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.callGame())}),e._UZ(20,"i",30),e.qZA(),e.YNc(21,un,2,2,"ng-container",1),e.TgZ(22,"a",31)(23,"i",24),e._uU(24,"close"),e.qZA()()()(),e.YNc(25,fn,1,1,"message-box",32),e.YNc(26,xn,5,5,"ng-template",9),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngStyle",t.lgProps),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,11,t.userService.maxBetLimit)),e.xp6(6),e.hij(" ",e.lcZ(8,13,"LINKS.LIVE_CASINO")," "),e.xp6(2),e.Q6J("ngIf",t.gameDetail&&t.gameDetail.name),e.xp6(2),e.Q6J("ngIf",t.timerString&&t.trader.realityCheck||t.timerString&&t.trader.enableRealityCheckNew),e.xp6(1),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/deposit-money"),e.xp6(3),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/transfer"),e.xp6(6),e.Q6J("ngIf",null==t.gameDetail?null:t.gameDetail.id),e.xp6(1),e.Q6J("routerLink","/"+t.currentLang+"/games/livecasino"),e.xp6(3),e.Q6J("ngIf",t.errorMessage),e.xp6(1),e.Q6J("ngIf",t.game)}}function Sn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8),e.YNc(2,gn,7,3,"ng-template",9),e.YNc(3,Tn,27,15,"ng-template",9),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.isLoggedIn&&"normal"===t.playType),e.xp6(1),e.Q6J("ngIf",t.isLoggedIn&&!1===t.tcknOpenGameRequired||"demo"===t.playType)}}const Dn=function(){return{dismissible:!0}},Zn=function(n){return[n]};x.N.map.liveCasinoDetail;class R{constructor(i,t,s,a,o,c,p,l,f,S,y,A,L,D,u,T,C,g,w){this.toastFactory=i,this.gamesService=t,this.route=s,this.applicationService=a,this.translateService=o,this.userService=c,this.router=p,this.translateFactory=l,this.sanitizer=f,this.rootService=S,this.title=y,this.meta=A,this.traderService=L,this.realityCheckService=D,this.limitSettingsService=u,this.tcknVerificationService=T,this.navigationService=C,this.modalService=g,this.trackingService=w,this.inProgress=!1,this.loginProgress=!1,this.subscripter=null,this.stop$=new P.xQ,this.TcknVerificationModal=new e.vpe,this.tcknOpenGameSubs=null,this.trader=this.traderService.trader,this.initRealityCheckListeners(),this.wasSessionLockedSubs=this.userService.wasSessionLocked.subscribe(I=>{if(I[0]){this.sessionDurationType=this.userService.sessionDurationTypes[I[1]];const b=document.getElementById("gm-frm");b&&b.parentNode.removeChild(b),this.setOpenedGame(null),this.translateService.get(`MESSAGES.${this.sessionDurationType}_SESSION_LIMIT_REACHED`,{}).subscribe(U=>{this.errorMessage=U})}})}initRealityCheckListeners(){(this.trader.realityCheck||this.trader.enableRealityCheckNew)&&(this.startGameSubs$=this.realityCheckService.listenGameStart().subscribe(()=>{this.startRealityCheckTimer()}),this.resumeGameSubs$=this.realityCheckService.listenGameResume().subscribe(()=>{this.startRealityCheckTimer(!0)}),this.closeGameSubs$=this.realityCheckService.listenGameClose().subscribe(()=>{this.clearRealityCheckTimer()}),this.pauseGameSubs$=this.realityCheckService.listenGamePause().subscribe(()=>{this.pauseRealityCheckTimer()}))}ngOnInit(){this.sessionDurationType=this.userService.user&&this.userService.user.sessionDurationTypeIndex?this.userService.sessionDurationTypes[this.userService.user.sessionDurationTypeIndex]:"DAILY",this.playType=this.route.snapshot.params.playType,this.favoriteType=2,this.host=location.host,this.currentLang=this.translateFactory.currentLang.code,this.isLoggedIn=this.userService.isAuth,this.isLoggedIn&&this.userService.refreshBalance(),this.isOpen=this.applicationService.settingList.find(i=>"is-casino-api-open"===i.parameter).value,this.tcknVerificationRequired(),this.subscripter=this.userService.isLoggedIn.subscribe(i=>{this.isLoggedIn=i.username,this.isLoggedIn&&this.tcknVerificationService.checkTcknParams("openGame")}),x.N.trader.subMenu&&this.setSubNavItems()}tcknVerificationRequired(){this.tcknOpenGameSubs=this.tcknVerificationService.getTcknOpenGame().subscribe(i=>{this.tcknOpenGameRequired=i,!1===this.tcknOpenGameRequired?"1"===this.isOpen&&("normal"===this.playType?this.isLoggedIn?(this.loginProgress=!0,setTimeout(()=>{this.findGameObj(r.h_f.LCAS).then(t=>{this.openGame().then(s=>{this.lgProps={width:"90%"}}),this.loginProgress=!1},t=>{this.loginProgress=!1})})):this.openModal():setTimeout(()=>{this.findGameObj(r.h_f.LCAS).then(t=>{this.openDemoGame().then(s=>{this.lgProps={width:"90%"}})})})):setTimeout(t=>{this.TcknVerificationModal.emit({action:"modal",params:["open"]})},200)}),this.tcknVerificationService.checkTcknParams("openGame")}closeTcknVerificationModal(){this.TcknVerificationModal.emit({action:"modal",params:["close"]})}openGame(){return new Promise((i,t)=>{if(!this.inProgress){this.inProgress=!0;const s={gameId:this.route.snapshot.params.id,channel:"web",vendorLimitId:this.route.snapshot.params.limitId,vendorId:this._gameDetail.vendorId};!this._playedAmountObs$&&!this._timerObs$&&this.trader.realityCheck&&this.startRealityCheckTimer(),this.gamesService.openGame(Number(this.route.snapshot.params.id),s).then(a=>{this.inProgress=!1,this._game=a,this.gamesService.clearProtocol(this._game),typeof this._game.height<"u"?this.containerProps={height:this._game.height+"px"}:this.containerProps={height:"768px"},this.trackingService.openCasinoGame(this._gameDetail.name,s.gameId,!0),this.setOpenedGame(this._game),typeof this._game.gameContent<"u"&&(this.gameContent=this.sanitizer.bypassSecurityTrustHtml(this._game.gameContent)),i(this._game)}).catch(a=>{this.inProgress=!1,this.errorMessage=a[0],t(this.errorMessage)})}})}openDemoGame(){return new Promise((i,t)=>{if(!this.inProgress){this.inProgress=!0;const s={gameId:this.route.snapshot.params.id,channel:"web",vendorId:this._gameDetail.vendorId};this.gamesService.openDemoGame(Number(this.route.snapshot.params.id),s).then(a=>{this.inProgress=!1,this._game=a,this.gamesService.clearProtocol(this._game),typeof this._game.height<"u"?this.containerProps={height:this._game.height+"px"}:this.containerProps={height:"768px"},this.trackingService.openCasinoGame(this._gameDetail.name,s.gameId,!0),this.setOpenedGame(this._game),typeof this._game.gameContent<"u"&&(this.gameContent=this.sanitizer.bypassSecurityTrustHtml(this._game.gameContent)),i(this._game)}).catch(a=>{this.inProgress=!1,this.translateService.get("MESSAGES.EXCEPTION",{}).subscribe(o=>{this.errorMessage=o}),t(this.errorMessage)})}})}findGameObj(i){return new Promise((t,s)=>{const a=this.route.snapshot.params.id;this.gamesService.getGames(i).then(o=>{this._gameDetail=o.find(c=>c.id===Number(a)),this.setGameDetail(this._gameDetail),this.gamesService.setPlayedGame(this._gameDetail.id,r.h_f.sLCAS),t(this._gameDetail)}).catch(o=>{})})}callGame(){this.errorMessage=null,this.openGame()}openModal(){switch(this.userService.loginStep){case"ga":const i=new r.u_l("ga-modal","ga-mdl",null,0);this.modalService.modalObserver.next(i);break;case"sms":const t={loginRequestModel:this.userService.userLoginDetails.requestBody},s=new r.u_l("sms-modal","sms-mdl",null,0,null,null,!0,t);this.modalService.modalObserver.next(s);break;default:const a=new r.u_l("app-login","sgn-mdl",null,0);this.modalService.modalObserver.next(a),this.modalService.emitModalActions({action:"modal",params:["open"]})}}openNewWindow(){if(typeof this.game<"u"){const i=(window.innerWidth-Number(this.game.width))/2,t=(window.innerHeight-Number(this.game.height))/2;let s=1024,a=768;this.game.width&&(s=Number(this.game.width)),this.game.height&&(a=Number(this.game.height)),window.open(this.game.gameUrl,`CasinoDetail${this.gameDetail.id}`,"height="+a+", width = "+s+", top="+t+", left="+i+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no"),this.trackingService.openCasinoGame(this._gameDetail.name,this.route.snapshot.params.id,!0,!0,"normal"!==this.playType),this.router.navigate(["/"+this.currentLang+"/games/liveCasino","all"])}}toggleWindow(){this.fullScreen=!this.fullScreen,this.fullScreen?this.lgProps={width:"100%",height:"100%",position:"absolute",top:"0","z-index":"9999",margin:"0","border-radius":"0"}:this.lgProps={position:"relative",top:null,"z-index":null,margin:"20px auto"}}closeGame(){this.pauseRealityCheckTimer()}startRealityCheckTimer(i=!1){this.limitSettingsService.getCasinoLimitInfo().then(t=>{const s=this.realityCheckService.chooseSessionLimit(this.traderService.trader.realityCheck,this.traderService.trader.enableRealityCheckNew,this.realityCheckService.defaultSessionLimit,t.sessionPlayLimit,this.traderService.trader.realityCheckInactivityPeriod,!0);let a=this.realityCheckService.getPlayedAmount();i&&(a+=1),this._timerObs$=(0,Ce.H)(1e3,1e3),this._playedAmountObs$=this._timerObs$.pipe((0,k.R)(this.stop$)).subscribe(o=>{this._playedAmount=a+o,this.timerString=this.realityCheckService.secondsToTime(this._playedAmount),this.realityCheckService.savePlayedAmount(this._playedAmount),this._playedAmount&&this._playedAmount%s==0&&(this.pauseRealityCheckTimer(),this.realityCheckService.prepareRealityCheckModal())})}).catch(t=>{})}pauseRealityCheckTimer(){this._timerObs$=null,this._playedAmountObs$&&this._playedAmountObs$.unsubscribe()}clearRealityCheckTimer(){this.realityCheckService.clearTimer()}setSubNavItems(){this.gamesService.getCategories(r.h_f.LCAS).then(i=>{if((0,se.Z)(i,{webCount:0}),i){let t=i.filter(s=>s.id>0).slice(0,10).map(s=>(s.url="/"+this.currentLang+"/games/"+r.h_f.sLCAS.toLowerCase()+"/category/"+s.id,s));this.navigationService.setSubNavItems(t)}}).catch(i=>{})}stop(){this.stop$.next(),this.stop$.complete(),this.stop$.unsubscribe()}ngOnDestroy(){this.pauseRealityCheckTimer(),this.stop(),this.subscripter&&this.subscripter.unsubscribe(),this.tcknOpenGameSubs&&this.tcknOpenGameSubs.unsubscribe(),this.wasSessionLockedSubs&&this.wasSessionLockedSubs.unsubscribe()}get game(){return this._game}setOpenedGame(i){this._game=i}get gameDetail(){return this._gameDetail}setGameDetail(i){this._gameDetail=i}}R.\u0275fac=function(i){return new(i||R)(e.Y36(r.Uwl),e.Y36(r.e80),e.Y36(h.gz),e.Y36(r.Wd0),e.Y36(v.sK),e.Y36(r.Ye3),e.Y36(h.F0),e.Y36(r.chr),e.Y36(Z.H7),e.Y36(r.U$c),e.Y36(Z.Dx),e.Y36(Z.h_),e.Y36(r._W6),e.Y36(r.ivm),e.Y36(r.zgE),e.Y36(r.yQZ),e.Y36(O.f),e.Y36(r.F$_),e.Y36(r.zVL))},R.\u0275cmp=e.Xpm({type:R,selectors:[["app-live-casino-detail"]],features:[e._Bn([])],decls:5,vars:8,consts:[["class","container casino-cntr",4,"ngIf"],[4,"ngIf"],["materialize","modal",1,"modal",3,"materializeActions","materializeParams"],["type","openGame",3,"closeTcknVerificationModalEvent"],[1,"container","casino-cntr"],["type","error","content","MESSAGES.CASINO_SERVICE_UNAVAILABLE_DESCRIPTION"],[1,"progress"],[1,"indeterminate"],[1,"casino-detail-bg","game-id"],[3,"ngIf"],[1,"casino-detail-cntr"],[1,"flex-container","signin-msg-csn"],[1,"flex-item"],["type","info","content","MESSAGES.LOGIN_TO_PLAY_CASINO"],[1,"btn","t1",3,"click"],[1,"casino-detail-cntr",3,"ngStyle"],["type","warning","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],[1,"gm-bx-l"],[1,"title","flex-container"],[1,"flex-item","txt"],[1,"ctry-n"],[1,"gm-acn"],["class","white-text",4,"ngIf"],[1,"btn","popup",3,"routerLink"],[1,"material-icons","pg-icons"],[1,"btn","refresh",3,"routerLink"],[1,"fa","fa-exchange","pg-icons"],["href","javascript:;",1,"btn","popup",3,"click"],[1,"fa","fa-external-link","pg-icons"],["href","javascript:;",1,"btn","refresh",3,"click"],[1,"fa","fa-refresh","pg-icons"],[1,"btn","close",3,"routerLink"],["type","error",3,"content",4,"ngIf"],["type","warning","icon","fa fa-exclamation-circle",3,"content"],[1,"gm-n"],[1,"white-text"],["classes","btn fvrt-add",3,"type","id"],["type","error",3,"content"],[1,"gm-bx",3,"ngStyle"],["id","gm-frm","frameborder","0","allowfullscreen","true",3,"maxWidth","width","height","src",4,"ngIf"],[3,"innerHTML"],[3,"type"],["class","ldng-cntr",4,"ngIf"],["id","gm-frm","frameborder","0","allowfullscreen","true",3,"width","height","src"],[1,"ldng-cntr"],[1,"ldng"],[1,"preloader-wrapper","big","active"],[1,"spinner-layer","spinner-blue"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"],[1,"spinner-layer","spinner-red"],[1,"spinner-layer","spinner-yellow"],[1,"spinner-layer","spinner-green"]],template:function(i,t){1&i&&(e.YNc(0,pn,2,0,"div",0),e.YNc(1,ln,3,0,"ng-container",1),e.TgZ(2,"div",2)(3,"tckn-verification",3),e.NdJ("closeTcknVerificationModalEvent",function(){return t.closeTcknVerificationModal()}),e.qZA()(),e.YNc(4,Sn,4,2,"ng-container",1)),2&i&&(e.Q6J("ngIf","0"===t.isOpen),e.xp6(1),e.Q6J("ngIf",t.loginProgress),e.xp6(1),e.Q6J("materializeActions",t.TcknVerificationModal)("materializeParams",e.VKq(6,Zn,e.DdM(5,Dn))),e.xp6(2),e.Q6J("ngIf","1"===t.isOpen))},dependencies:[_.O5,_.PC,h.rH,E.M,N.W,M.J,q.J,xe.G,_.Ov,v.X$,z.Q],encapsulation:2});var G=m(5020);function bn(n,i){1&n&&(e.TgZ(0,"div",3),e._UZ(1,"message-box",4),e.qZA())}function yn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._UZ(2,"message-box",25),e.qZA(),e.TgZ(3,"button",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openModal())}),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"FIELDS.SEND")))}function An(n,i){if(1&n&&e._UZ(0,"message-box",27),2&n){const t=e.oxw(2);e.Q6J("content",t.errorMessage)}}function In(n,i){1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",30)(5,"div",31)(6,"div",32),e._UZ(7,"div",33),e.qZA(),e.TgZ(8,"div",34),e._UZ(9,"div",33),e.qZA(),e.TgZ(10,"div",35),e._UZ(11,"div",33),e.qZA()(),e.TgZ(12,"div",36)(13,"div",32),e._UZ(14,"div",33),e.qZA(),e.TgZ(15,"div",34),e._UZ(16,"div",33),e.qZA(),e.TgZ(17,"div",35),e._UZ(18,"div",33),e.qZA()(),e.TgZ(19,"div",37)(20,"div",32),e._UZ(21,"div",33),e.qZA(),e.TgZ(22,"div",34),e._UZ(23,"div",33),e.qZA(),e.TgZ(24,"div",35),e._UZ(25,"div",33),e.qZA()(),e.TgZ(26,"div",38)(27,"div",32),e._UZ(28,"div",33),e.qZA(),e.TgZ(29,"div",34),e._UZ(30,"div",33),e.qZA(),e.TgZ(31,"div",35),e._UZ(32,"div",33),e.qZA()()()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"TEXTS.LOADING"),"!"))}function Ln(n,i){if(1&n&&(e._UZ(0,"iframe",41),e.ALo(1,"safeUrl")),2&n){const t=e.oxw(3);e.Q6J("width",t.game.width||1024)("height",t.game.height||768)("src",e.lcZ(1,3,t.game.gameUrl),e.uOi)}}function wn(n,i){if(1&n&&(e.TgZ(0,"div",39),e.YNc(1,Ln,2,5,"iframe",40),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.inProgress)}}function kn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"app-static-inner-content",5),e.TgZ(2,"div",6),e.YNc(3,yn,6,3,"ng-template",0),e.TgZ(4,"div",7)(5,"div",8)(6,"div",9)(7,"span",10),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",11)(11,"a",12)(12,"i",13),e._uU(13,"account_balance"),e.qZA()(),e.TgZ(14,"a",14),e._UZ(15,"i",15),e.qZA(),e.TgZ(16,"a",16),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.callGame())}),e._UZ(17,"i",17),e.qZA(),e._UZ(18,"app-user-favorite",18),e.TgZ(19,"a",19)(20,"i",13),e._uU(21,"close"),e.qZA()()()(),e.YNc(22,An,1,1,"message-box",20),e.YNc(23,In,33,3,"div",21),e.YNc(24,wn,2,1,"ng-template",0),e.qZA()(),e._UZ(25,"app-static-inner-content",22),e.qZA()}if(2&n){const t=e.oxw();e.Gre("casino-detail-bg game-id-",t.gameDetail.id,""),e.xp6(3),e.Q6J("ngIf",!t.isLoggedIn),e.xp6(5),e.hij(" ",e.lcZ(9,13,"LINKS.BINGO")," "),e.xp6(3),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/deposit-money"),e.xp6(3),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/transfer"),e.xp6(4),e.Q6J("id",t.gameDetail.id)("type",t.favoriteType),e.xp6(1),e.Q6J("routerLink","/"+t.currentLang+"/games/livecasino"),e.xp6(3),e.Q6J("ngIf",!t.inProgress&&t.errorMessage),e.xp6(1),e.Q6J("ngIf",t.inProgress),e.xp6(1),e.Q6J("ngIf",t.game&&!t.inProgress)}}const Gn=function(){return{dismissible:!0}},Nn=function(n){return[n]};x.N.map.bingo;class X{constructor(i,t,s,a,o,c,p,l,f,S,y,A,L,D,u,T){this.route=i,this.applicationService=t,this.gamesService=s,this.translateService=a,this.userService=o,this.headerComponent=c,this.router=p,this.translateFactory=l,this.rootService=f,this.title=S,this.meta=y,this.sportsBetMainWidgetService=A,this.navigationService=L,this.tcknVerificationService=D,this.traderService=u,this.trackingService=T,this.modalActions=new e.vpe,this.TcknVerificationModal=new e.vpe,this.tcknOpenGameSubs=null,this.wasSessionLockedSubs=this.userService.wasSessionLocked.subscribe(C=>{C[0]&&(this.sessionDurationType=this.userService.sessionDurationTypes[C[1]],this.setGame(null),this.translateService.get(`MESSAGES.${this.sessionDurationType}_SESSION_LIMIT_REACHED`,{}).subscribe(g=>{this.errorMessage=g}))})}ngOnInit(){this.sessionDurationType=this.userService.user&&this.userService.user.sessionDurationTypeIndex?this.userService.sessionDurationTypes[this.userService.user.sessionDurationTypeIndex]:"DAILY",this.favoriteType=2,this.host=location.host,this.currentLang=this.translateFactory.currentLang.code,this.isLoggedIn=this.userService.isAuth(),this.user=this.userService.user,this.isOpen=this.applicationService.settingList.find(i=>"is-casino-api-open"===i.parameter).value,x.N.trader.subMenu&&setTimeout(()=>{this.setSubNavItems()},100),this.tcknVerificationRequired(),this.subscripter=this.userService.isLoggedIn.subscribe(i=>{this.user=i,this.errorMessage="",(!this.isLoggedIn||!this.user.username)&&(this.isLoggedIn=!!this.user.username,this.tcknVerificationService.checkTcknParams("openGame"))}),this.traderService.trader.tSM&&setTimeout(()=>{this.setSubNavItems()},100)}tcknVerificationRequired(){this.tcknOpenGameSubs=this.tcknVerificationService.getTcknOpenGame().subscribe(i=>{this.tcknOpenGameRequired=i,!1===this.tcknOpenGameRequired?"1"===this.isOpen&&this.findGameObj(r.h_f.LCAS).then(()=>{this.isLoggedIn||this.user&&this.user.username?this.openGame():this.openDemoGame()}):setTimeout(t=>{this.TcknVerificationModal.emit({action:"modal",params:["open"]})},200)}),this.tcknVerificationService.checkTcknParams("openGame")}closeTcknVerificationModal(){this.TcknVerificationModal.emit({action:"modal",params:["close"]})}openDemoGame(){return new Promise((i,t)=>{this.inProgress=!0;const s={gameId:this.route.snapshot.params.id,channel:"web",vendorId:this._gameDetail.vendorId};this.gamesService.openDemoGame(Number(this.route.snapshot.params.id),s).then(a=>{this._game=a,this.setGame(this._game),this.inProgress=!1,this.trackingService.openBingoGame(s,!0),i(this._game)}).catch(a=>{if(a&&!a.ok){this.inProgress=!1;const o=a.error.responseCodes&&a.error.responseCodes[0].responseKey||"EXCEPTION";this.translateService.get("MESSAGES."+o,{}).subscribe(c=>{this.errorMessage=c}),t(this.errorMessage)}})})}openGame(){return new Promise((i,t)=>{this.inProgress=!0;const s={gameId:this.route.snapshot.params.id,channel:"web",vendorId:this._gameDetail.vendorId};this.gamesService.openGame(Number(this.route.snapshot.params.id),s).then(a=>{this._game=a,this.setGame(this._game),this.inProgress=!1,this.trackingService.openBingoGame(s,!0),i(this._game)}).catch(a=>{this.inProgress=!1,this.errorMessage=a[0],t(this.errorMessage)})})}openModal(){this.headerComponent.openModal()}findGameObj(i){return new Promise((t,s)=>{const a=this.route.snapshot.params.id;this.gamesService.getGames(i).then(o=>{this._gameDetail=o.find(c=>c.id===Number(a)),this.setGameDetail(this._gameDetail),t(this._gameDetail)}).catch(o=>{})})}openNewWindow(){const i=(window.innerWidth-Number(this.game.width))/2,t=(window.innerHeight-Number(this.game.height))/2;let s=1024,a=768;this.game.width&&(s=Number(this.game.width)),this.game.height&&(a=Number(this.game.height)),window.open(this.game.gameUrl,`LiveCasinoDetail${this.gameDetail.id}`,"height="+a+", width = "+s+", top="+t+", left="+i+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no"),this.router.navigate(["/"+this.currentLang+"/games/livecasino"])}callGame(){this.isLoggedIn&&!1===this.tcknOpenGameRequired?this.openGame():this.openDemoGame()}ngOnDestroy(){this.subscripter&&this.subscripter.unsubscribe(),this.tcknOpenGameSubs&&this.tcknOpenGameSubs.unsubscribe(),document.querySelector("#bingoScript")&&document.querySelector("#bingoScript").remove(),this.wasSessionLockedSubs&&this.wasSessionLockedSubs.unsubscribe()}setGame(i){this._game=i}get game(){return this._game}setGameDetail(i){this._gameDetail=i}get gameDetail(){return this._gameDetail}setSubNavItems(){let i=location.pathname;-1==i.indexOf("bet/esports")&&-1==i.indexOf("bet/virtuals")&&-1==i.indexOf("bet/live")&&this.navigationService.setSubNavItems([])}}function Un(n,i){1&n&&(e.TgZ(0,"div",3),e._UZ(1,"div",4),e.qZA())}function On(n,i){1&n&&(e.TgZ(0,"div",8),e._UZ(1,"message-box",15),e.qZA())}function Mn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"span",29),e._uU(2),e.ALo(3,"number"),e.ALo(4,"number"),e.TgZ(5,"span",30),e._uU(6),e.qZA()(),e.TgZ(7,"a",31),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(2).$implicit,p=e.oxw(3);return e.KtG(p.goGameDetail(c.id,o.vendorLimitId))}),e._uU(8),e.ALo(9,"translate"),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",e.lcZ(3,4,t.limits.minBet)," - ",e.lcZ(4,6,t.limits.maxBet)," "),e.xp6(4),e.Oqu(t.limits.currencyCode),e.xp6(2),e.hij(" ",e.lcZ(9,8,"TEXTS.PLAY_NOW")," ")}}function En(n,i){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"message-box",32),e.qZA())}function Jn(n,i){if(1&n&&(e.YNc(0,Mn,10,10,"ng-template",17),e.YNc(1,En,2,0,"ng-template",25)),2&n){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.matchedList),e.xp6(1),e.Q6J("ngIf",!t.matchedList)}}function qn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"a",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.goGameDetail(a.id))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TEXTS.PLAY_NOW")," "))}function Qn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("mouseenter",function(a){const c=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.filterLimit(c,p._currency,a))}),e.TgZ(1,"div",19)(2,"div",20),e._UZ(3,"img",21)(4,"img",22),e.TgZ(5,"div",23)(6,"div",24),e.YNc(7,Jn,2,2,"ng-template",25),e.YNc(8,qn,4,3,"ng-template",25),e.qZA()()(),e.TgZ(9,"div",26),e._UZ(10,"app-user-favorite",27),e._uU(11),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(3),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/livecasino/300x200/"+t.id+".jpg",e.LSH),e.xp6(1),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(3),e.Q6J("ngIf",t.vendorLimitGroups&&s.pageData.properties.showLimits),e.xp6(1),e.Q6J("ngIf",!t.vendorLimitGroups),e.xp6(2),e.Q6J("id",t.id)("type",s.favoriteType),e.xp6(1),e.hij(" ",t.name," ")}}function Yn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",16)(2,"div",9),e.YNc(3,Qn,12,7,"ng-template",17),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.betOnGamesList)}}function Pn(n,i){if(1&n&&(e.TgZ(0,"div",5),e._UZ(1,"app-static-inner-content",6)(2,"app-static-inner-content",7),e.TgZ(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"h4",12),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.YNc(10,On,2,0,"div",13),e.YNc(11,Yn,4,1,"ng-container",14),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(8),e.hij(" ",e.lcZ(9,3,"LINKS.BETONGAMES")," "),e.xp6(2),e.Q6J("ngIf","0"===t.pageData.properties.isOpen),e.xp6(1),e.Q6J("ngIf",t.betOnGamesList&&"1"===t.pageData.properties.isOpen)}}X.\u0275fac=function(i){return new(i||X)(e.Y36(h.gz),e.Y36(r.Wd0),e.Y36(r.e80),e.Y36(v.sK),e.Y36(r.Ye3),e.Y36(G.G),e.Y36(h.F0),e.Y36(r.chr),e.Y36(r.U$c),e.Y36(Z.Dx),e.Y36(Z.h_),e.Y36(r.Orl),e.Y36(O.f),e.Y36(r.yQZ),e.Y36(r._W6),e.Y36(r.zVL))},X.\u0275cmp=e.Xpm({type:X,selectors:[["app-bingo"]],features:[e._Bn([G.G])],decls:4,vars:7,consts:[[3,"ngIf"],["materialize","modal",1,"modal",3,"materializeActions","materializeParams"],["type","openGame",3,"closeTcknVerificationModalEvent"],[1,"container","casino-cntr"],["type","error","content","MESSAGES.CASINO_SERVICE_UNAVAILABLE_DESCRIPTION"],["contentCode","bingo-top"],[1,"casino-detail-cntr"],[1,"gm-bx-l"],[1,"title","flex-container"],[1,"flex-item","txt"],[1,"ctry-n"],[1,"gm-acn"],[1,"btn","popup",3,"routerLink"],[1,"material-icons","pg-icons"],[1,"btn","refresh",3,"routerLink"],[1,"fa","fa-exchange","pg-icons"],["href","javascript:;",1,"btn","refresh",3,"click"],[1,"fa","fa-refresh","pg-icons"],["classes","btn fvrt-lnk",3,"id","type"],[1,"btn","close",3,"routerLink"],["type","error",3,"content",4,"ngIf"],["class","ldng-cntr",4,"ngIf"],["contentCode","bingo-bottom"],[1,"flex-container","signin-msg-csn","mar-bottom-10"],[1,"flex-item"],["type","info","content","MESSAGES.LOGIN_TO_PLAY_CASINO"],[1,"btn","t1",3,"click"],["type","error",3,"content"],[1,"ldng-cntr"],[1,"ldng"],[1,"preloader-wrapper","big","active"],[1,"spinner-layer","spinner-blue"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"],[1,"spinner-layer","spinner-red"],[1,"spinner-layer","spinner-yellow"],[1,"spinner-layer","spinner-green"],[1,"gm-bx"],["id","gm-frm","frameborder","0","allowfullscreen","true","class","iframeDefaultSize",3,"width","height","src",4,"ngIf"],["id","gm-frm","frameborder","0","allowfullscreen","true",1,"iframeDefaultSize",3,"width","height","src"]],template:function(i,t){1&i&&(e.YNc(0,bn,2,0,"ng-template",0),e.TgZ(1,"div",1)(2,"tckn-verification",2),e.NdJ("closeTcknVerificationModalEvent",function(){return t.closeTcknVerificationModal()}),e.qZA()(),e.YNc(3,kn,26,15,"ng-template",0)),2&i&&(e.Q6J("ngIf","0"===t.isOpen),e.xp6(1),e.Q6J("materializeActions",t.TcknVerificationModal)("materializeParams",e.VKq(5,Nn,e.DdM(4,Gn))),e.xp6(2),e.Q6J("ngIf","1"===t.isOpen&&t.gameDetail))},dependencies:[_.O5,h.rH,E.M,F.n,N.W,M.J,q.J,v.X$,z.Q],encapsulation:2});x.N.map.betOnGames;class W{constructor(i,t,s,a,o,c,p,l,f,S,y,A,L){this.gamesService=i,this.traderService=t,this.applicationService=s,this.route=a,this.userService=o,this.router=c,this.headerComponent=p,this.translateService=l,this.translateFactory=f,this.rootService=S,this.title=y,this.meta=A,this.navigationService=L,this.pageData=new r.ZwM,this.pageData.properties.isLoggedIn=this.userService.user,this.pageData.properties.isOpen=this.applicationService.settingList.find(D=>"is-casino-api-open"===D.parameter).value,this.navigationService.getObservableGameIdToInitGame().subscribe(D=>{this.goGameDetail(D.gameId)})}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.favoriteType=2,"1"===this.pageData.properties.isOpen&&(this.pageData.properties.cdnUrl=this.traderService.trader.tCDNU,this.pageData.properties.inProgress=!0,this.gamesService.getBetOnGames().then(i=>{this._betOnGames=i,this.setBetOnGames(this._betOnGames),this.setCurrency(),this.pageData.properties.inProgress=!1})),this.loginSubs=this.userService.isLoggedIn.subscribe(i=>{this.pageData.properties.isLoggedIn=i,"1"===this.pageData.properties.isOpen&&(this.pageData.properties.cdnUrl=this.traderService.trader.tCDNU,this.pageData.properties.inProgress=!0,this.gamesService.getBetOnGames().then(t=>{this._betOnGames=t,this.setBetOnGames(this._betOnGames),this.setCurrency(),this.pageData.properties.inProgress=!1}))})}setBetOnGames(i){this._betOnGames=i}get betOnGamesList(){return this._betOnGames}setCurrency(){this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?this.userService.getCustomerCurrency().then(i=>{this._currency=i}):this.traderService.getTraderCurrencyList().then(i=>{this.traderService.setCurrency(this.traderService.trader.dCI),this._currency=this.traderService.currentCurrency}),this.pageData.properties.inProgress=!1}filterLimit(i,t,s){s.preventDefault(),s.stopPropagation();const a=[];i&&i.vendorLimitGroups&&i.vendorLimitGroups.length&&(this.pageData.properties.showLimits=!0,i.vendorLimitGroups.forEach(o=>{o.limits.forEach(function(c){(!c.currencyCode||t.currencyCode&&c.currencyCode===t.currencyCode)&&(a.push({limits:c,vendorLimitId:o.vendorLimitId}),i.matchedList=a)})}))}goGameDetail(i,t){this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?this.router.navigate([this.currentLang+"/games/detail/betongames/"+i+"/"+t]):this.headerComponent.openModal()}setSubNavItems(i){i&&this.navigationService.setSubNavItems(i)}ngOnDestroy(){this.loginSubs.unsubscribe()}}function Fn(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"message-box",5),e.qZA())}function Vn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"div",10),e._UZ(3,"message-box",11),e.qZA(),e.TgZ(4,"button",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openModal())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"FIELDS.SEND")))}function Hn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",27),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.gameDetail.name," ")}}function Bn(n,i){if(1&n&&e._UZ(0,"message-box",28),2&n){const t=e.oxw(3);e.Q6J("content",t.errorMessage)}}function Rn(n,i){if(1&n&&(e._UZ(0,"iframe",33),e.ALo(1,"safeUrl")),2&n){const t=e.oxw(4);e.Q6J("width",t.game.width||1024)("height",t.game.height||768)("src",e.lcZ(1,3,t.game.gameUrl),e.uOi)}}function Kn(n,i){1&n&&(e.TgZ(0,"div",34)(1,"div",35),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",36)(5,"div",37)(6,"div",38),e._UZ(7,"div",39),e.qZA(),e.TgZ(8,"div",40),e._UZ(9,"div",39),e.qZA(),e.TgZ(10,"div",41),e._UZ(11,"div",39),e.qZA()(),e.TgZ(12,"div",42)(13,"div",38),e._UZ(14,"div",39),e.qZA(),e.TgZ(15,"div",40),e._UZ(16,"div",39),e.qZA(),e.TgZ(17,"div",41),e._UZ(18,"div",39),e.qZA()(),e.TgZ(19,"div",43)(20,"div",38),e._UZ(21,"div",39),e.qZA(),e.TgZ(22,"div",40),e._UZ(23,"div",39),e.qZA(),e.TgZ(24,"div",41),e._UZ(25,"div",39),e.qZA()(),e.TgZ(26,"div",44)(27,"div",38),e._UZ(28,"div",39),e.qZA(),e.TgZ(29,"div",40),e._UZ(30,"div",39),e.qZA(),e.TgZ(31,"div",41),e._UZ(32,"div",39),e.qZA()()()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"TEXTS.LOADING"),"!"))}function $n(n,i){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,Rn,2,5,"iframe",30),e._UZ(2,"div",31),e.YNc(3,Kn,33,3,"div",32),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("ngStyle",t.containerProps),e.xp6(1),e.Q6J("ngIf",!t.inProgress),e.xp6(1),e.Q6J("innerHTML",t.gameContent,e.oJD),e.xp6(1),e.Q6J("ngIf",t.inProgress)}}function jn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",13)(2,"div",14)(3,"div",15)(4,"span",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Hn,3,1,"ng-container",3),e.qZA(),e.TgZ(8,"div",17)(9,"a",18)(10,"i",19),e._uU(11,"account_balance"),e.qZA()(),e.TgZ(12,"a",20),e._UZ(13,"i",21),e.qZA(),e.TgZ(14,"a",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.callGame())}),e._UZ(15,"i",23),e.qZA(),e._UZ(16,"app-user-favorite",24),e.TgZ(17,"a",25)(18,"i",19),e._uU(19,"close"),e.qZA()()()(),e.YNc(20,Bn,1,1,"message-box",26),e.YNc(21,$n,4,4,"ng-template",7),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,9,"LINKS.BETONGAMES")," "),e.xp6(2),e.Q6J("ngIf",t.gameDetail&&t.gameDetail.name),e.xp6(2),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/deposit-money"),e.xp6(3),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/transfer"),e.xp6(4),e.Q6J("type",t.favoriteType)("id",t.gameDetail.id),e.xp6(1),e.Q6J("routerLink","/"+t.currentLang+"/games/betongames"),e.xp6(3),e.Q6J("ngIf",!t.inProgress&&t.errorMessage),e.xp6(1),e.Q6J("ngIf",t.game)}}function zn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,Vn,7,3,"ng-template",7),e.YNc(3,jn,22,11,"ng-template",7),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.pageData.properties.isLoggedIn),e.xp6(1),e.Q6J("ngIf",t.pageData.properties.isLoggedIn&&t.gameDetail&&!1===t.tcknOpenGameRequired)}}W.\u0275fac=function(i){return new(i||W)(e.Y36(r.e80),e.Y36(r._W6),e.Y36(r.Wd0),e.Y36(h.gz),e.Y36(r.Ye3),e.Y36(h.F0),e.Y36(G.G),e.Y36(v.sK),e.Y36(r.chr),e.Y36(r.U$c),e.Y36(Z.Dx),e.Y36(Z.h_),e.Y36(O.f))},W.\u0275cmp=e.Xpm({type:W,selectors:[["app-betongames"]],features:[e._Bn([G.G])],decls:3,vars:2,consts:[["class","progress",4,"ngIf"],["class","betongames-bg",4,"ngIf"],["contentCode","betongames-bottom"],[1,"progress"],[1,"indeterminate"],[1,"betongames-bg"],["contentCode","betongames-content"],["contentCode","betongames-top"],[1,"container","casino-cntr"],[1,"row"],[1,"col","s12","right-content"],[1,"flex-container","clear"],[1,"rtitle","flex-item"],["class","container casino-cntr",4,"ngIf"],[4,"ngIf"],["type","error","content","MESSAGES.CASINO_SERVICE_UNAVAILABLE_DESCRIPTION"],[1,"gm-cntr"],["ngFor","",3,"ngForOf"],[1,"col","pg-grd-6","csn-crd-col",3,"mouseenter"],[1,"csn-crd"],[1,"crd-img"],["alt","",1,"gm-img",3,"src"],["alt","",1,"gm-img","loading",3,"src"],[1,"hvr-inf"],[1,"v-a"],[3,"ngIf"],[1,"crd-nm"],["classes","fvrt-lnk",3,"id","type"],[1,"rpt-rw"],[1,"lmt-txt"],[1,"currency-symbol"],["href","javascript:;",1,"btn","real",3,"click"],["type","info","content","MESSAGES.NO_VENDOR_LIMIT"]],template:function(i,t){1&i&&(e.YNc(0,Un,2,0,"div",0),e.YNc(1,Pn,12,5,"div",1),e._UZ(2,"app-static-inner-content",2)),2&i&&(e.Q6J("ngIf",t.pageData.properties.inProgress),e.xp6(1),e.Q6J("ngIf",!t.pageData.properties.inProgress))},dependencies:[_.sg,_.O5,F.n,N.W,M.J,_.JJ,v.X$],encapsulation:2});const Xn=function(){return{dismissible:!0}},Wn=function(n){return[n]};x.N.map.betOnGamesDetail;class ee{constructor(i,t,s,a,o,c,p,l,f,S,y,A,L,D,u){this.gamesService=i,this.route=t,this.applicationService=s,this.userService=a,this.router=o,this.handler=c,this.translateService=p,this.translateFactory=l,this.headerComponent=f,this.sanitizer=S,this.rootService=y,this.title=A,this.meta=L,this.tcknVerificationService=D,this.trackingService=u,this.inProgress=!1,this.modalActions=new e.vpe,this.pageData=new r.ZwM,this.TcknVerificationModal=new e.vpe,this.tcknOpenGameSubs=null,this.wasSessionLockedSubs=this.userService.wasSessionLocked.subscribe(T=>{if(T[0]){this.sessionDurationType=this.userService.sessionDurationTypes[T[1]];const C=document.getElementById("gm-frm");C&&C.parentNode.removeChild(C),this.setGame(null),this.translateService.get(`MESSAGES.${this.sessionDurationType}_SESSION_LIMIT_REACHED`,{}).subscribe(g=>{this.errorMessage=g})}})}ngOnInit(){this.sessionDurationType=this.userService.user&&this.userService.user.sessionDurationTypeIndex?this.userService.sessionDurationTypes[this.userService.user.sessionDurationTypeIndex]:"DAILY",this.favoriteType=2,this.currentLang=this.translateFactory.currentLang.code,this.pageData.properties.isLoggedIn=this.userService.user,this.pageData.properties.isOpen=this.applicationService.settingList.find(i=>"is-casino-api-open"===i.parameter).value,this.findGameObj(r.h_f.LCAS).then(i=>{}),this.tcknVerificationRequired(),this.loginSubs=this.userService.isLoggedIn.subscribe(i=>{this.sessionDurationType=this.userService.sessionDurationTypes[this.userService.user.sessionDurationTypeIndex],this.pageData.properties.isLoggedIn=i.username,this.pageData.properties.isLoggedIn&&this.tcknVerificationService.checkTcknParams("openGame")})}tcknVerificationRequired(){this.tcknOpenGameSubs=this.tcknVerificationService.getTcknOpenGame().subscribe(i=>{this.tcknOpenGameRequired=i,!1===this.tcknOpenGameRequired?"1"===this.pageData.properties.isOpen&&this.pageData.properties.isLoggedIn&&this.findGameObj(r.h_f.LCAS).then(t=>{this.openGame().then(s=>{})}):setTimeout(t=>{this.TcknVerificationModal.emit({action:"modal",params:["open"]})},200)}),this.tcknVerificationService.checkTcknParams("openGame")}closeTcknVerificationModal(){this.TcknVerificationModal.emit({action:"modal",params:["close"]})}openGame(){return new Promise((i,t)=>{if(!this.inProgress){this.inProgress=!0;const s={gameId:this.route.snapshot.params.id,channel:"web",vendorId:this._gameDetail.vendorId};this.gamesService.openGame(Number(this.route.snapshot.params.id),s).then(a=>{this.inProgress=!1,this._game=a,typeof this._game.gameContent<"u"&&(this.gameContent=this.sanitizer.bypassSecurityTrustHtml(this._game.gameContent)),this.setGame(this._game),typeof this._game.height<"u"?this.containerProps={height:this._game.height+"px"}:this.containerProps={height:"768px"},this.trackingService.openBetOnGamesGame(s),i(this._game)}).catch(a=>{this.inProgress=!1,this.errorMessage=a[0],t(this.errorMessage)})}})}callGame(){this.openGame()}findGameObj(i){return new Promise((t,s)=>{const a=this.route.snapshot.params.id;this.gamesService.getGames(i).then(o=>{this._gameDetail=o.find(c=>c.id===Number(a)),this.setGameDetail(this._gameDetail),t(this._gameDetail)}).catch(o=>{})})}openModal(){this.headerComponent.openModal()}setGame(i){this._game=i}get game(){return this._game}setGameDetail(i){this._gameDetail=i}get gameDetail(){return this._gameDetail}ngOnDestroy(){this.loginSubs&&this.loginSubs.unsubscribe(),this.tcknOpenGameSubs&&this.tcknOpenGameSubs.unsubscribe(),this.wasSessionLockedSubs&&this.wasSessionLockedSubs.unsubscribe()}}function ea(n,i){if(1&n&&e._UZ(0,"message-box",34),2&n){const t=e.oxw();e.Q6J("content",t.messageData)}}function ta(n,i){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"div",36),e.qZA())}function ia(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1," required "),e.qZA())}function na(n,i){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,ia,2,0,"div",38),e.qZA()),2&n){e.oxw();const t=e.MAs(82);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function aa(n,i){if(1&n&&e._UZ(0,"message-box",34),2&n){const t=e.oxw();e.Q6J("content",t.message)}}ee.\u0275fac=function(i){return new(i||ee)(e.Y36(r.e80),e.Y36(h.gz),e.Y36(r.Wd0),e.Y36(r.Ye3),e.Y36(h.F0),e.Y36(r.t8Z),e.Y36(v.sK),e.Y36(r.chr),e.Y36(G.G),e.Y36(Z.H7),e.Y36(r.U$c),e.Y36(Z.Dx),e.Y36(Z.h_),e.Y36(r.yQZ),e.Y36(r.zVL))},ee.\u0275cmp=e.Xpm({type:ee,selectors:[["app-betongames-detail"]],features:[e._Bn([G.G])],decls:4,vars:7,consts:[["class","container casino-cntr",4,"ngIf"],["materialize","modal",1,"modal",3,"materializeActions","materializeParams"],["type","openGame",3,"closeTcknVerificationModalEvent"],[4,"ngIf"],[1,"container","casino-cntr"],["type","error","content","MESSAGES.CASINO_SERVICE_UNAVAILABLE_DESCRIPTION"],[1,"casino-detail-bg"],[3,"ngIf"],[1,"casino-detail-cntr"],[1,"flex-container","signin-msg-csn"],[1,"flex-item"],["type","info","content","MESSAGES.LOGIN_TO_PLAY_CASINO"],[1,"btn","t1",3,"click"],[1,"gm-bx-l"],[1,"title","flex-container"],[1,"flex-item","txt"],[1,"ctry-n"],[1,"gm-acn"],[1,"btn","popup",3,"routerLink"],[1,"material-icons","pg-icons"],[1,"btn","refresh",3,"routerLink"],[1,"fa","fa-exchange","pg-icons"],["href","javascript:;",1,"btn","refresh",3,"click"],[1,"fa","fa-refresh","pg-icons"],["classes","btn fvrt-lnk",3,"type","id"],[1,"btn","close",3,"routerLink"],["type","error",3,"content",4,"ngIf"],[1,"gm-n"],["type","error",3,"content"],[1,"gm-bx",3,"ngStyle"],["id","gm-frm","frameborder","0","class","iframeDefaultSize",3,"width","height","src",4,"ngIf"],[3,"innerHTML"],["class","ldng-cntr",4,"ngIf"],["id","gm-frm","frameborder","0",1,"iframeDefaultSize",3,"width","height","src"],[1,"ldng-cntr"],[1,"ldng"],[1,"preloader-wrapper","big","active"],[1,"spinner-layer","spinner-blue"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"],[1,"spinner-layer","spinner-red"],[1,"spinner-layer","spinner-yellow"],[1,"spinner-layer","spinner-green"]],template:function(i,t){1&i&&(e.YNc(0,Fn,2,0,"div",0),e.TgZ(1,"div",1)(2,"tckn-verification",2),e.NdJ("closeTcknVerificationModalEvent",function(){return t.closeTcknVerificationModal()}),e.qZA()(),e.YNc(3,zn,4,2,"ng-container",3)),2&i&&(e.Q6J("ngIf","0"===t.pageData.properties.isOpen),e.xp6(1),e.Q6J("materializeActions",t.TcknVerificationModal)("materializeParams",e.VKq(5,Wn,e.DdM(4,Xn))),e.xp6(2),e.Q6J("ngIf","1"===t.pageData.properties.isOpen))},dependencies:[_.O5,_.PC,h.rH,E.M,N.W,M.J,q.J,v.X$,z.Q],encapsulation:2});const sa=function(){return{dismissible:!0}},oa=function(n){return[n]};x.N.map.poker;class te{constructor(i,t,s,a,o,c,p,l,f,S,y,A){this.traderService=i,this.userService=t,this.translateService=s,this.headerComponent=a,this.gamesService=o,this.handler=c,this.formBuilder=p,this.trackingService=l,this.rootService=f,this.title=S,this.meta=y,this.navigationService=A,this.goGameSub=null,this.createUserModal=new e.vpe,this.subscripter=null,this.pageData=new r.ZwM,this.goGameSub=this.navigationService.getObservableGameIdToInitGame().subscribe(L=>{this.playGame()})}ngOnInit(){this.traderService.trader.tSM&&setTimeout(()=>{this.setSubNavItems()},100),this.loader=!1,this.pokerUserForm=this.formBuilder.group({userName:["",d.kI.required]}),this.pageData.properties.isLoggedIn=this.userService.user,this.pageData.properties.isOpen=this.traderService.trader.tKGO,this.pageData.properties.cdnUrl=this.traderService.trader.tCDNU,this.windowsUrl=this.traderService.trader.kGWU,this.macUrl=this.traderService.trader.kGMU,this.subscripter=this.userService.isLoggedIn.subscribe(i=>{this.pageData.properties.isLoggedIn=i})}playGame(){this.messageData=null,this.loader||(this.loader=!0,this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?this.gamesService.connectPokerLobby().then(i=>{if(this.loader=!1,"failed"===i.status)return this.translateService.get("MESSAGES.UNKNOWN_ERROR").subscribe(t=>{this.messageData={message:t,status:!1}}),!1;window.open(i.url,"Poker","height=600, width=1200, top=50, left=100,toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no")}).catch(i=>{this.loader=!1,i&&i.error&&i.error.responseCodes&&59===i.error.responseCodes[0].responseCode&&this.openCreateUserModal(),this.handler.handle(i.error||"")}):(this.loader=!1,this.headerComponent.openModal()))}createUser(i){i.valid&&(this.userLoader=!0,this.gamesService.createPokerUser(i.value.userName).then(t=>{this.userLoader=!1}).catch(t=>{this.userLoader=!1,t&&t.error&&this.translateService.get("MESSAGES."+t.error.responseCodes[0].responseKey).subscribe(s=>{this.message={message:s,status:!1}})}))}openCreateUserModal(){this.createUserModal.emit({action:"modal",params:["open"]})}closeModal(){this.createUserModal.emit({action:"modal",params:["close"]})}setSubNavItems(){this.navigationService.setSubNavItems([{name:"TEXAS_HOLDEM",gameType:"poker"},{name:"OMAHA_HOLDEM",gameType:"poker"},{name:"TURKISH_POKER",gameType:"poker"},{name:"KLAS_TAVLA",gameType:"poker"}])}download(i){this.trackingService.downloadPoker(i)}ngOnDestroy(){this.goGameSub.unsubscribe(),this.subscripter.unsubscribe()}}function ra(n,i){1&n&&(e.TgZ(0,"div",3),e._UZ(1,"div",4),e.qZA())}function ca(n,i){1&n&&(e.TgZ(0,"div",8),e._UZ(1,"message-box",15),e.qZA())}function pa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"span",28),e._uU(2),e.ALo(3,"number"),e.ALo(4,"number"),e.TgZ(5,"span",29),e._uU(6),e.qZA()(),e.TgZ(7,"a",30),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3).$implicit,p=e.oxw(3);return e.KtG(p.goGameDetail(c.id,o.vendorLimitId))}),e._uU(8),e.ALo(9,"translate"),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",e.lcZ(3,4,t.limits.minBet)," - ",e.lcZ(4,6,t.limits.maxBet)," "),e.xp6(4),e.Oqu(t.limits.currencyCode),e.xp6(2),e.hij(" ",e.lcZ(9,8,"TEXTS.PLAY_NOW")," ")}}function la(n,i){1&n&&(e.TgZ(0,"div",27),e._UZ(1,"message-box",31),e.qZA())}function ga(n,i){if(1&n&&(e.YNc(0,pa,10,10,"ng-template",17),e.YNc(1,la,2,0,"ng-template",21)),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngForOf",t.matchedList),e.xp6(1),e.Q6J("ngIf",!t.matchedList)}}function _a(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.goGameDetail(a.id))}),e._UZ(1,"img",25)(2,"img",26),e.YNc(3,ga,2,2,"ng-template",21),e.qZA()}if(2&n){const t=e.oxw().$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/livecasino/300x200/"+t.id+".jpg",e.LSH),e.xp6(1),e.Q6J("src",s.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(1),e.Q6J("ngIf",t.vendorLimitGroups&&s.pageData.properties.showLimits)}}function ma(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("mouseenter",function(a){const c=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.filterLimit(c,p._currency,a))}),e.TgZ(1,"div",19)(2,"div",20),e.YNc(3,_a,4,3,"ng-template",21),e.qZA(),e.TgZ(4,"div",22),e._UZ(5,"app-user-favorite",23),e._uU(6),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.vendorLimitGroups),e.xp6(2),e.Q6J("id",t.id)("type",s.favoriteType),e.xp6(1),e.hij(" ",t.name," ")}}function da(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",16)(2,"div",9),e.YNc(3,ma,7,4,"ng-template",17),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.tvGamesList)}}function ha(n,i){if(1&n&&(e.TgZ(0,"div",5),e._UZ(1,"app-static-inner-content",6)(2,"app-static-inner-content",7),e.TgZ(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"h4",12),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.YNc(10,ca,2,0,"div",13),e.YNc(11,da,4,1,"ng-container",14),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(8),e.hij(" ",e.lcZ(9,3,"LINKS.TV_GAMES")," "),e.xp6(2),e.Q6J("ngIf","0"===t.pageData.properties.isOpen),e.xp6(1),e.Q6J("ngIf",t.tvGamesList&&"1"===t.pageData.properties.isOpen)}}te.\u0275fac=function(i){return new(i||te)(e.Y36(r._W6),e.Y36(r.Ye3),e.Y36(v.sK),e.Y36(G.G),e.Y36(r.e80),e.Y36(r.t8Z),e.Y36(d.qu),e.Y36(r.zVL),e.Y36(r.U$c),e.Y36(Z.Dx),e.Y36(Z.h_),e.Y36(O.f))},te.\u0275cmp=e.Xpm({type:te,selectors:[["app-poker"]],features:[e._Bn([G.G])],decls:89,vars:64,consts:[[1,"poker-bg"],[1,"container","casino-cntr"],[1,"row"],["contentCode","poker"],[1,"col","s12","right-content"],[1,"flex-container","clear"],[1,"rtitle","flex-item"],[1,"gm-cntr"],[1,"col","s12"],["type","error",3,"content",4,"ngIf"],[1,"col","s3","csn-crd-col"],["href","javascript:;",1,"csn-crd",3,"title","click"],[1,"crd-img"],["alt","",1,"gm-img",3,"src"],["alt","",1,"gm-img","loading",3,"src"],[1,"crd-nm"],[1,"col","s6"],["target","_blank",1,"btn","dwnld-lnk",3,"href","click"],[1,"fa","fa-windows","fa-fw"],[1,"fa","fa-apple","fa-fw"],[1,"card-panel","message-box","info"],["contentCode","poker-bottom"],["id","create-user-modal","materialize","modal",1,"modal","valign-center",3,"materializeActions","materializeParams"],["href","javascript:;",1,"modal-action","modal-close",3,"click"],[1,"material-icons","pg-icons"],[1,"txt"],["class","progress",4,"ngIf"],["novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"input-field"],["name","userName","ngModel","","required","","type","text",1,"browser-default",3,"placeholder"],["userNameModel","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"btn","btn-submit"],["type","error",3,"content"],[1,"progress"],[1,"indeterminate"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(i,t){if(1&i){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"slider"),e.TgZ(3,"div",2),e._UZ(4,"app-static-inner-content",3),e.qZA(),e.TgZ(5,"div",2)(6,"div",4)(7,"div",5)(8,"h4",6),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",7)(12,"div",2)(13,"div",8),e.YNc(14,ea,1,1,"message-box",9),e.qZA()(),e.TgZ(15,"div",2)(16,"div",10)(17,"a",11),e.NdJ("click",function(){return t.playGame()}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"img",13)(21,"img",14),e.qZA(),e.TgZ(22,"div",15),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"div",10)(26,"a",11),e.NdJ("click",function(){return t.playGame()}),e.ALo(27,"translate"),e.TgZ(28,"div",12),e._UZ(29,"img",13)(30,"img",14),e.qZA(),e.TgZ(31,"div",15),e._uU(32),e.ALo(33,"translate"),e.qZA()()(),e.TgZ(34,"div",10)(35,"a",11),e.NdJ("click",function(){return t.playGame()}),e.ALo(36,"translate"),e.TgZ(37,"div",12),e._UZ(38,"img",13)(39,"img",14),e.qZA(),e.TgZ(40,"div",15),e._uU(41),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"div",10)(44,"a",11),e.NdJ("click",function(){return t.playGame()}),e.ALo(45,"translate"),e.TgZ(46,"div",12),e._UZ(47,"img",13)(48,"img",14),e.qZA(),e.TgZ(49,"div",15),e._uU(50),e.ALo(51,"translate"),e.qZA()()()()(),e.TgZ(52,"div",2)(53,"div",16)(54,"a",17),e.NdJ("click",function(){return t.download("windows")}),e._UZ(55,"i",18),e._uU(56),e.ALo(57,"translate"),e.qZA()(),e.TgZ(58,"div",16)(59,"a",17),e.NdJ("click",function(){return t.download("mac")}),e._UZ(60,"i",19),e._uU(61),e.ALo(62,"translate"),e.qZA()()(),e.TgZ(63,"div",2)(64,"div",8)(65,"div",20),e._uU(66),e.ALo(67,"translate"),e.qZA()()()()(),e.TgZ(68,"div",2),e._UZ(69,"app-static-inner-content",21),e.qZA()()(),e.TgZ(70,"div",22)(71,"a",23),e.NdJ("click",function(){return t.closeModal()}),e.TgZ(72,"i",24),e._uU(73,"close"),e.qZA()(),e.TgZ(74,"div",25),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.YNc(77,ta,2,0,"div",26),e.TgZ(78,"form",27,28),e.NdJ("ngSubmit",function(){e.CHM(s);const o=e.MAs(79);return e.KtG(t.createUser(o))}),e.TgZ(80,"div",29),e._UZ(81,"input",30,31),e.ALo(83,"translate"),e.YNc(84,na,2,1,"div",32),e.qZA(),e.TgZ(85,"button",33),e._uU(86),e.ALo(87,"translate"),e.qZA()(),e.YNc(88,aa,1,1,"message-box",9),e.qZA()}if(2&i){const s=e.MAs(79),a=e.MAs(82);e.xp6(9),e.hij(" ",e.lcZ(10,31,"LINKS.POKER")," "),e.xp6(5),e.Q6J("ngIf",t.messageData),e.xp6(3),e.s9C("title",e.lcZ(18,33,"TEXTS.TEXAS_HOLDEM")),e.xp6(3),e.Q6J("src",t.pageData.properties.cdnUrl+"common/assets/images/poker/texas-holdem.jpg",e.LSH),e.xp6(1),e.Q6J("src",t.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(2),e.hij(" ",e.lcZ(24,35,"TEXTS.TEXAS_HOLDEM")," "),e.xp6(3),e.s9C("title",e.lcZ(27,37,"TEXTS.OMAHA_HOLDEM")),e.xp6(3),e.Q6J("src",t.pageData.properties.cdnUrl+"common/assets/images/poker/omaha.jpg",e.LSH),e.xp6(1),e.Q6J("src",t.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(2),e.hij(" ",e.lcZ(33,39,"TEXTS.OMAHA_HOLDEM")," "),e.xp6(3),e.s9C("title",e.lcZ(36,41,"TEXTS.TURKISH_POKER")),e.xp6(3),e.Q6J("src",t.pageData.properties.cdnUrl+"common/assets/images/poker/turkishpoker.jpg",e.LSH),e.xp6(1),e.Q6J("src",t.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(2),e.hij(" ",e.lcZ(42,43,"TEXTS.TURKISH_POKER")," "),e.xp6(3),e.s9C("title",e.lcZ(45,45,"TEXTS.KLAS_TAVLA")),e.xp6(3),e.Q6J("src",t.pageData.properties.cdnUrl+"common/assets/images/poker/tavla.jpg",e.LSH),e.xp6(1),e.Q6J("src",t.pageData.properties.cdnUrl+"common/assets/images/loading.gif",e.LSH),e.xp6(2),e.hij(" ",e.lcZ(51,47,"TEXTS.KLAS_TAVLA")," "),e.xp6(4),e.s9C("href",t.windowsUrl,e.LSH),e.xp6(2),e.hij(" ",e.lcZ(57,49,"TEXTS.DOWNLOAD_FOR_WINDOWS")," "),e.xp6(3),e.s9C("href",t.macUrl,e.LSH),e.xp6(2),e.hij(" ",e.lcZ(62,51,"TEXTS.DOWNLOAD_FOR_MAC")," "),e.xp6(5),e.hij(" ",e.lcZ(67,53,"MESSAGES.CLASS_POKER_INSTALL_WARN")," "),e.xp6(4),e.Q6J("materializeActions",t.createUserModal)("materializeParams",e.VKq(62,oa,e.DdM(61,sa))),e.xp6(5),e.Oqu(e.lcZ(76,55,"MESSAGES.POKER_NO_USERNAME_DESCRIPTION")),e.xp6(2),e.Q6J("ngIf",t.userLoader),e.xp6(4),e.s9C("placeholder",e.lcZ(83,57,"FIELDS.BENEFICIARY_NAME")),e.xp6(3),e.Q6J("ngIf",s.invalid&&(a.dirty||a.touched)),e.xp6(2),e.Oqu(e.lcZ(87,59,"LINKS.FINISH_TRANSACTION")),e.xp6(2),e.Q6J("ngIf",t.message)}},dependencies:[_.O5,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.On,d.F,E.M,F.n,N.W,oe.P,v.X$],encapsulation:2});x.N.map.tvGames;class ie{constructor(i,t,s,a,o,c,p,l,f,S,y,A,L){this.gamesService=i,this.traderService=t,this.applicationService=s,this.route=a,this.userService=o,this.router=c,this.headerComponent=p,this.translateService=l,this.translateFactory=f,this.rootService=S,this.title=y,this.meta=A,this.navigationService=L,this.pageData=new r.ZwM,this.pageData.properties.isLoggedIn=this.userService.user,this.pageData.properties.isOpen=this.applicationService.settingList.find(D=>"is-casino-api-open"===D.parameter).value,this.navigationService.getObservableGameIdToInitGame().subscribe(D=>{this.goGameDetail(D.gameId)})}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.favoriteType=2,"1"===this.pageData.properties.isOpen&&(this.pageData.properties.cdnUrl=this.traderService.trader.tCDNU,this.pageData.properties.inProgress=!0,this.gamesService.getTvGames().then(i=>{this._tvGames=i,this.setTvGames(this._tvGames),this.setCurrency(),this.pageData.properties.inProgress=!1})),this.loginSubs=this.userService.isLoggedIn.subscribe(i=>{this.pageData.properties.isLoggedIn=i,"1"===this.pageData.properties.isOpen&&(this.pageData.properties.cdnUrl=this.traderService.trader.tCDNU,this.pageData.properties.inProgress=!0,this.gamesService.getTvGames().then(t=>{this._tvGames=t,this.setTvGames(this._tvGames),this.setCurrency(),this.pageData.properties.inProgress=!1}))})}setTvGames(i){this._tvGames=i}get tvGamesList(){return this._tvGames}setCurrency(){this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?this.userService.getCustomerCurrency().then(i=>{this._currency=i}):this.traderService.getTraderCurrencyList().then(i=>{this.traderService.setCurrency(this.traderService.trader.dCI),this._currency=this.traderService.currentCurrency}),this.pageData.properties.inProgress=!1}filterLimit(i,t,s){s.preventDefault(),s.stopPropagation();const a=[];i&&i.vendorLimitGroups&&i.vendorLimitGroups.length&&(this.pageData.properties.showLimits=!0,i.vendorLimitGroups.forEach(o=>{o.limits.forEach(function(c){(!c.currencyCode||t.currencyCode&&c.currencyCode===t.currencyCode)&&(a.push({limits:c,vendorLimitId:o.vendorLimitId}),i.matchedList=a)})}))}goGameDetail(i,t){this.pageData.properties.isLoggedIn&&null!==this.pageData.properties.isLoggedIn.username?this.router.navigate([this.currentLang+"/games/detail/tv-games/"+i+"/"+t]):this.headerComponent.openModal()}setSubNavItems(i){i&&this.navigationService.setSubNavItems(i)}ngOnDestroy(){this.loginSubs.unsubscribe()}}function ua(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"message-box",5),e.qZA())}function fa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"div",10),e._UZ(3,"message-box",11),e.qZA(),e.TgZ(4,"button",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openModal())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"FIELDS.SEND")))}function va(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",27),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.gameDetail.name," ")}}function Ca(n,i){if(1&n&&e._UZ(0,"message-box",28),2&n){const t=e.oxw(3);e.Q6J("content",t.errorMessage)}}function xa(n,i){if(1&n&&(e._UZ(0,"iframe",33),e.ALo(1,"safeUrl")),2&n){const t=e.oxw(4);e.Udp("max-width",100,"%"),e.Q6J("width",t.game.width||1024)("height",t.game.height||768)("src",e.lcZ(1,5,t.game.gameUrl),e.uOi)}}function Ta(n,i){1&n&&(e.TgZ(0,"div",34)(1,"div",35),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",36)(5,"div",37)(6,"div",38),e._UZ(7,"div",39),e.qZA(),e.TgZ(8,"div",40),e._UZ(9,"div",39),e.qZA(),e.TgZ(10,"div",41),e._UZ(11,"div",39),e.qZA()(),e.TgZ(12,"div",42)(13,"div",38),e._UZ(14,"div",39),e.qZA(),e.TgZ(15,"div",40),e._UZ(16,"div",39),e.qZA(),e.TgZ(17,"div",41),e._UZ(18,"div",39),e.qZA()(),e.TgZ(19,"div",43)(20,"div",38),e._UZ(21,"div",39),e.qZA(),e.TgZ(22,"div",40),e._UZ(23,"div",39),e.qZA(),e.TgZ(24,"div",41),e._UZ(25,"div",39),e.qZA()(),e.TgZ(26,"div",44)(27,"div",38),e._UZ(28,"div",39),e.qZA(),e.TgZ(29,"div",40),e._UZ(30,"div",39),e.qZA(),e.TgZ(31,"div",41),e._UZ(32,"div",39),e.qZA()()()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"TEXTS.LOADING"),"!"))}function Sa(n,i){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,xa,2,7,"iframe",30),e._UZ(2,"div",31),e.YNc(3,Ta,33,3,"div",32),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("ngStyle",t.containerProps),e.xp6(1),e.Q6J("ngIf",!t.inProgress),e.xp6(1),e.Q6J("innerHTML",t.gameContent,e.oJD),e.xp6(1),e.Q6J("ngIf",t.inProgress)}}function Da(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",13)(2,"div",14)(3,"div",15)(4,"span",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,va,3,1,"ng-container",3),e.qZA(),e.TgZ(8,"div",17)(9,"a",18)(10,"i",19),e._uU(11,"account_balance"),e.qZA()(),e.TgZ(12,"a",20),e._UZ(13,"i",21),e.qZA(),e.TgZ(14,"a",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openGame())}),e._UZ(15,"i",23),e.qZA(),e._UZ(16,"app-user-favorite",24),e.TgZ(17,"a",25)(18,"i",19),e._uU(19,"close"),e.qZA()()()(),e.YNc(20,Ca,1,1,"message-box",26),e.YNc(21,Sa,4,4,"ng-template",7),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,9,"LINKS.TV_GAMES")," "),e.xp6(2),e.Q6J("ngIf",t.gameDetail&&t.gameDetail.name),e.xp6(2),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/deposit-money"),e.xp6(3),e.Q6J("routerLink","/"+t.currentLang+"/dashboard/payments/transfer"),e.xp6(4),e.Q6J("type",t.favoriteType)("id",t.gameDetail.id),e.xp6(1),e.Q6J("routerLink","/"+t.currentLang+"/games/tv-games"),e.xp6(3),e.Q6J("ngIf",!t.inProgress&&t.errorMessage),e.xp6(1),e.Q6J("ngIf",t.game)}}function Za(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,fa,7,3,"ng-template",7),e.YNc(3,Da,22,11,"ng-template",7),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.pageData.properties.isLoggedIn),e.xp6(1),e.Q6J("ngIf",t.pageData.properties.isLoggedIn&&t.gameDetail&&!1===t.tcknOpenGameRequired)}}ie.\u0275fac=function(i){return new(i||ie)(e.Y36(r.e80),e.Y36(r._W6),e.Y36(r.Wd0),e.Y36(h.gz),e.Y36(r.Ye3),e.Y36(h.F0),e.Y36(G.G),e.Y36(v.sK),e.Y36(r.chr),e.Y36(r.U$c),e.Y36(Z.Dx),e.Y36(Z.h_),e.Y36(O.f))},ie.\u0275cmp=e.Xpm({type:ie,selectors:[["app-tv-games"]],features:[e._Bn([G.G])],decls:3,vars:2,consts:[["class","progress",4,"ngIf"],["class","betongames-bg",4,"ngIf"],["contentCode","tvgames-bottom"],[1,"progress"],[1,"indeterminate"],[1,"betongames-bg"],["contentCode","betongames-content"],["contentCode","betongames-top"],[1,"container","casino-cntr"],[1,"row"],[1,"col","s12","right-content"],[1,"flex-container","clear"],[1,"rtitle","flex-item"],["class","container casino-cntr",4,"ngIf"],[4,"ngIf"],["type","error","content","MESSAGES.CASINO_SERVICE_UNAVAILABLE_DESCRIPTION"],[1,"gm-cntr"],["ngFor","",3,"ngForOf"],[1,"col","pg-grd-6","csn-crd-col",3,"mouseenter"],[1,"csn-crd"],[1,"crd-img"],[3,"ngIf"],[1,"crd-nm"],["classes","fvrt-lnk left",3,"id","type"],["href","javascript:;",1,"csn-crd",3,"click"],["alt","",1,"gm-img",3,"src"],["alt","",1,"gm-img","loading",3,"src"],[1,"rpt-rw"],[1,"lmt-txt"],[1,"currency-symbol"],["href","javascript:;",1,"btn","real",3,"click"],["type","info","content","MESSAGES.NO_VENDOR_LIMIT"]],template:function(i,t){1&i&&(e.YNc(0,ra,2,0,"div",0),e.YNc(1,ha,12,5,"div",1),e._UZ(2,"app-static-inner-content",2)),2&i&&(e.Q6J("ngIf",t.pageData.properties.inProgress),e.xp6(1),e.Q6J("ngIf",!t.pageData.properties.inProgress))},dependencies:[_.sg,_.O5,F.n,N.W,M.J,_.JJ,v.X$],encapsulation:2});const ba=function(){return{dismissible:!0}},ya=function(n){return[n]};x.N.map.tvGamesDetail;class ne{constructor(i,t,s,a,o,c,p,l,f,S,y,A,L,D){this.gamesService=i,this.route=t,this.applicationService=s,this.userService=a,this.router=o,this.handler=c,this.translateService=p,this.translateFactory=l,this.headerComponent=f,this.sanitizer=S,this.rootService=y,this.title=A,this.meta=L,this.tcknVerificationService=D,this.inProgress=!1,this.modalActions=new e.vpe,this.pageData=new r.ZwM,this.TcknVerificationModal=new e.vpe,this.tcknOpenGameSubs=null,this.wasSessionLockedSubs=this.userService.wasSessionLocked.subscribe(u=>{if(u[0]){this.sessionDurationType=this.userService.sessionDurationTypes[u[1]];const T=document.getElementById("gm-frm");T&&T.parentNode.removeChild(T),this.setGame(null),this.translateService.get(`MESSAGES.${this.sessionDurationType}_SESSION_LIMIT_REACHED`,{}).subscribe(C=>{this.errorMessage=C})}})}ngOnInit(){this.sessionDurationType=this.userService.user&&this.userService.user.sessionDurationTypeIndex?this.userService.sessionDurationTypes[this.userService.user.sessionDurationTypeIndex]:"DAILY",this.favoriteType=2,this.currentLang=this.translateFactory.currentLang.code,this.pageData.properties.isLoggedIn=this.userService.user,this.pageData.properties.isOpen=this.applicationService.settingList.find(i=>"is-casino-api-open"===i.parameter).value,this.findGameObj(r.h_f.LCAS).then(i=>{}),this.tcknVerificationRequired(),this.loginSubs=this.userService.isLoggedIn.subscribe(i=>{this.sessionDurationType=this.userService.sessionDurationTypes[this.userService.user.sessionDurationTypeIndex],this.userService.user.isSessionLock?this.translateService.get(`MESSAGES.${this.sessionDurationType}_SESSION_LIMIT_REACHED`,{}).subscribe(t=>{this.errorMessage=t}):(this.pageData.properties.isLoggedIn=i.username,this.pageData.properties.isLoggedIn&&this.tcknVerificationService.checkTcknParams("openGame"))})}tcknVerificationRequired(){this.tcknOpenGameSubs=this.tcknVerificationService.getTcknOpenGame().subscribe(i=>{this.tcknOpenGameRequired=i,!1===this.tcknOpenGameRequired?"1"===this.pageData.properties.isOpen&&this.pageData.properties.isLoggedIn&&this.findGameObj(r.h_f.LCAS).then(t=>{this.openGame().then(s=>{})}):setTimeout(t=>{this.TcknVerificationModal.emit({action:"modal",params:["open"]})},200)}),this.tcknVerificationService.checkTcknParams("openGame")}closeTcknVerificationModal(){this.TcknVerificationModal.emit({action:"modal",params:["close"]})}openGame(){return new Promise((i,t)=>{if(!this.inProgress){this.inProgress=!0;const s={gameId:this.route.snapshot.params.id,channel:"web",vendorId:this._gameDetail.vendorId};this.gamesService.openGame(Number(this.route.snapshot.params.id),s).then(a=>{this.inProgress=!1,this._game=a,typeof this._game.gameContent<"u"&&(this.gameContent=this.sanitizer.bypassSecurityTrustHtml(this._game.gameContent)),this.setGame(this._game),typeof this._game.height<"u"?this.containerProps={height:this._game.height+"px"}:this.containerProps={height:"768px"},i(this._game)}).catch(a=>{this.inProgress=!1,this.errorMessage=a[0],t(this.errorMessage)})}})}findGameObj(i){return new Promise((t,s)=>{const a=this.route.snapshot.params.id;this.gamesService.getGames(i).then(o=>{this._gameDetail=o.find(c=>c.id===Number(a)),this.setGameDetail(this._gameDetail),t(this._gameDetail)}).catch(o=>{})})}openModal(){this.headerComponent.openModal()}setGame(i){this._game=i}get game(){return this._game}setGameDetail(i){this._gameDetail=i}get gameDetail(){return this._gameDetail}ngOnDestroy(){this.loginSubs&&this.loginSubs.unsubscribe(),this.tcknOpenGameSubs&&this.tcknOpenGameSubs.unsubscribe(),this.wasSessionLockedSubs&&this.wasSessionLockedSubs.unsubscribe()}}function Aa(n,i){if(1&n&&e._UZ(0,"message-box",6),2&n){const t=e.oxw(2);e.Q6J("content",t.message)}}function Ia(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Aa,1,1,"message-box",5),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.message)}}function La(n,i){1&n&&(e.ynx(0),e._UZ(1,"message-box",7),e.BQk())}function wa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"select",16),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(3);return e.KtG(o.viewType=a)}),e.TgZ(2,"option",17),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"option",18),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModel",t.viewType),e.xp6(1),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(4,5,"TEXTS.INLINE")),e.xp6(2),e.Q6J("value",2),e.xp6(1),e.Oqu(e.lcZ(7,7,"TEXTS.POPUP"))}}function ka(n,i){1&n&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.NEW")))}function Ga(n,i){1&n&&(e.TgZ(0,"div",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.POPULAR")))}function Na(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",38),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.goGameDetail(a,"demo"))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TEXTS.FREE_PLAY")," "))}function Ua(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",19)(2,"div",20)(3,"div",21),e._UZ(4,"img",22)(5,"img",23),e.TgZ(6,"div",24),e.YNc(7,ka,3,3,"div",25),e.YNc(8,Ga,3,3,"div",26),e.qZA(),e._UZ(9,"app-user-favorite",27),e.TgZ(10,"div",28),e._UZ(11,"img",29),e.qZA(),e.TgZ(12,"div",30)(13,"div",31)(14,"a",32),e.NdJ("click",function(){const o=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.goGameDetail(o,"normal"))}),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,Na,3,3,"a",33),e.qZA()()(),e.TgZ(18,"div",34)(19,"span",35),e._uU(20),e.qZA()()()(),e.BQk()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(4),e.s9C("alt",t.name),e.Q6J("src",s.traderDefaults.tCDNU+"common/assets/images/"+(t.isLiveCasino?"livecasino":"casino")+"/300x200/"+t.id+".jpg",e.LSH),e.xp6(1),e.Q6J("src",s.traderDefaults.tCDNU+"common/assets/images/loading.gif",e.LSH),e.xp6(2),e.Q6J("ngIf",t.newGame),e.xp6(1),e.Q6J("ngIf",t.popular),e.xp6(1),e.Q6J("id",t.id)("type",s.favoriteType),e.xp6(2),e.Q6J("src",s.traderDefaults.tCDNU+"common/assets/images/"+(t.isLiveCasino?"livecasino":"casino")+"/32x32/"+t.vendorCode+".png",e.LSH),e.xp6(4),e.hij(" ",e.lcZ(16,11,"TEXTS.PLAY_NOW")," "),e.xp6(2),e.Q6J("ngIf",t.freePlay),e.xp6(3),e.Oqu(t.name)}}function Oa(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",9)(2,"div",10)(3,"h4",11),e._uU(4),e.qZA(),e.YNc(5,wa,8,9,"div",12),e.qZA(),e.TgZ(6,"div",13)(7,"div",8),e.YNc(8,Ua,21,13,"ng-container",14),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(),s=t.$implicit,a=t.index;e.xp6(4),e.hij(" ",s.name," "),e.xp6(1),e.Q6J("ngIf",0===a),e.xp6(3),e.Q6J("ngForOf",s.games)}}function Ma(n,i){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,Oa,9,3,"ng-container",3),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",null==t||null==t.games?null:t.games.length)}}ne.\u0275fac=function(i){return new(i||ne)(e.Y36(r.e80),e.Y36(h.gz),e.Y36(r.Wd0),e.Y36(r.Ye3),e.Y36(h.F0),e.Y36(r.t8Z),e.Y36(v.sK),e.Y36(r.chr),e.Y36(G.G),e.Y36(Z.H7),e.Y36(r.U$c),e.Y36(Z.Dx),e.Y36(Z.h_),e.Y36(r.yQZ))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["app-tv-games-detail"]],features:[e._Bn([G.G])],decls:4,vars:7,consts:[["class","container casino-cntr",4,"ngIf"],["materialize","modal",1,"modal",3,"materializeActions","materializeParams"],["type","openGame",3,"closeTcknVerificationModalEvent"],[4,"ngIf"],[1,"container","casino-cntr"],["type","error","content","MESSAGES.CASINO_SERVICE_UNAVAILABLE_DESCRIPTION"],[1,"casino-detail-bg"],[3,"ngIf"],[1,"casino-detail-cntr"],[1,"flex-container","signin-msg-csn"],[1,"flex-item"],["type","info","content","MESSAGES.LOGIN_TO_PLAY_CASINO"],[1,"btn","t1",3,"click"],[1,"gm-bx-l"],[1,"title","flex-container"],[1,"flex-item","txt"],[1,"ctry-n"],[1,"gm-acn","flex-container"],[1,"btn","popup",3,"routerLink"],[1,"material-icons","pg-icons"],[1,"btn","refresh",3,"routerLink"],[1,"fa","fa-exchange","pg-icons"],["href","javascript:;",1,"btn","refresh",3,"click"],[1,"fa","fa-refresh","pg-icons"],["classes","btn fvrt-lnk",3,"type","id"],[1,"btn","close",3,"routerLink"],["type","error",3,"content",4,"ngIf"],[1,"gm-n"],["type","error",3,"content"],[1,"gm-bx",3,"ngStyle"],["id","gm-frm","frameborder","0","allowfullscreen","true",3,"maxWidth","width","height","src",4,"ngIf"],[3,"innerHTML"],["class","ldng-cntr",4,"ngIf"],["id","gm-frm","frameborder","0","allowfullscreen","true",3,"width","height","src"],[1,"ldng-cntr"],[1,"ldng"],[1,"preloader-wrapper","big","active"],[1,"spinner-layer","spinner-blue"],[1,"circle-clipper","left"],[1,"circle"],[1,"gap-patch"],[1,"circle-clipper","right"],[1,"spinner-layer","spinner-red"],[1,"spinner-layer","spinner-yellow"],[1,"spinner-layer","spinner-green"]],template:function(i,t){1&i&&(e.YNc(0,ua,2,0,"div",0),e.TgZ(1,"div",1)(2,"tckn-verification",2),e.NdJ("closeTcknVerificationModalEvent",function(){return t.closeTcknVerificationModal()}),e.qZA()(),e.YNc(3,Za,4,2,"ng-container",3)),2&i&&(e.Q6J("ngIf","0"===t.pageData.properties.isOpen),e.xp6(1),e.Q6J("materializeActions",t.TcknVerificationModal)("materializeParams",e.VKq(5,ya,e.DdM(4,ba))),e.xp6(2),e.Q6J("ngIf","1"===t.pageData.properties.isOpen))},dependencies:[_.O5,_.PC,h.rH,E.M,N.W,M.J,q.J,v.X$,z.Q],encapsulation:2});const Ea=function(){return{dismissible:!0}},Ja=function(n){return[n]};x.N.map.customCategories;class ae{constructor(i,t,s,a,o,c,p,l,f,S){this.traderService=i,this.gamesService=t,this.translateService=s,this.router=a,this.trackingService=o,this.translateFactory=c,this.userService=p,this.modalService=l,this.tcknVerificationService=f,this.navigationService=S,this.categories=[],this.inProgress=!0,this.TcknVerificationModal=new e.vpe,this.hasGames=!1,this.destroyed$=new P.xQ}ngOnInit(){this.viewType=this.traderService.trader.ocgnw?2:1,this.favoriteType=1,this.traderDefaults=this.traderService.trader,this.currentLang=this.translateFactory.currentLang.code,this.gamesService.checkStore().then(i=>{i&&this.gamesService.getCustomCategoriesData().then(t=>{this.categories=t,this.setSubNavItems(t),this.hasGames=this.categories.some(s=>!!s.games),this.inProgress=!1})}).catch(i=>{this.translateService.get(`MESSAGES.${i.error.responseCodes[0].responseKey}`).pipe((0,k.R)(this.destroyed$)).subscribe(t=>{this.message=t}),this.inProgress=!1}),this.tcknVerificationRequired(),this.userService.isLoggedIn.pipe((0,k.R)(this.destroyed$)).subscribe(i=>{null!==i.username&&this.tcknVerificationService.checkTcknParams("openGame")})}goGameDetail(i,t){if(1===Number(this.viewType))"demo"===t?this.router.navigate([this.currentLang+"/games/casino/detail/demo/"+i.id]):this.userService.user?!0===this.tcknOpenGameRequired?this.TcknVerificationModal.emit({action:"modal",params:["open"]}):this.router.navigate([this.currentLang+"/games/casino/detail/normal/"+i.id]):this.openModal();else{const s={gameId:i.id,channel:"web",vendorId:i.vendorId};"demo"===t?this.gamesService.openDemoGame(Number(i.id),s).then(a=>{const o=(window.innerWidth-Number(a.width))/2,c=(window.innerHeight-Number(a.height))/2,p=a.width?Number(a.width):1024,l=a.height?Number(a.height):768;window.open(a.gameUrl,`CasinoDetail${i.id}`,"height="+l+", width = "+p+", top="+c+", left="+o+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no"),this.trackingService.openCasinoGame(i.name,i.id,!1,!0,!0)}).catch(a=>{}):this.userService.user?!0===this.tcknOpenGameRequired?this.TcknVerificationModal.emit({action:"modal",params:["open"]}):this.gamesService.openGame(Number(i.id),s).then(a=>{const o=(window.innerWidth-Number(a.width))/2,c=(window.innerHeight-Number(a.height))/2,p=a.width?Number(a.width):1024,l=a.height?Number(a.height):768;window.open(a.gameUrl,`CasinoDetail${i.id}`,"height="+l+", width = "+p+", top="+c+", left="+o+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=yes, status=no"),this.trackingService.openCasinoGame(i.name,i.id,!1,!0)}).catch(a=>{this.translateService.get("MESSAGES."+a.error.responseCodes[0].responseKey,{}).pipe((0,k.R)(this.destroyed$)).subscribe(o=>{this.message=o})}):this.openModal()}}openModal(){switch(this.userService.loginStep){case"ga":const i=new r.u_l("ga-modal","ga-mdl",null,0);this.modalService.modalObserver.next(i);break;case"sms":const t={loginRequestModel:this.userService.userLoginDetails.requestBody},s=new r.u_l("sms-modal","sms-mdl",null,0,null,null,!0,t);this.modalService.modalObserver.next(s);break;default:const a=new r.u_l("app-login","sgn-mdl",null,0);this.modalService.modalObserver.next(a),this.modalService.emitModalActions({action:"modal",params:["open"]})}}tcknVerificationRequired(){this.tcknVerificationService.getTcknOpenGame().pipe((0,k.R)(this.destroyed$)).subscribe(i=>{this.tcknOpenGameRequired=i}),this.tcknVerificationService.checkTcknParams("openGame")}closeTcknVerificationModal(){this.TcknVerificationModal.emit({action:"modal",params:["close"]})}ngOnDestroy(){this.destroyed$.next()}setSubNavItems(i){const t=i.slice(0,6).map(s=>(s.url="/"+this.currentLang+"/games/"+r.h_f.sCAS.toLowerCase()+"/category/"+s.id,s));this.navigationService.setSubNavItems(t)}}ae.\u0275fac=function(i){return new(i||ae)(e.Y36(r._W6),e.Y36(r.e80),e.Y36(v.sK),e.Y36(h.F0),e.Y36(r.zVL),e.Y36(r.chr),e.Y36(r.Ye3),e.Y36(r.F$_),e.Y36(r.yQZ),e.Y36(O.f))},ae.\u0275cmp=e.Xpm({type:ae,selectors:[["app-custom-categories"]],decls:6,vars:8,consts:[["materialize","modal",1,"tckn-verification-modal","modal","modal-md","open",3,"materializeActions","materializeParams"],["type","openGame",3,"closeTcknVerificationModalEvent"],[1,"container","casino-cntr"],[4,"ngIf"],["class","row",4,"ngFor","ngForOf"],["type","error",3,"content",4,"ngIf"],["type","error",3,"content"],["content","MESSAGES.NO_GAMES_IN_CUSTOM_CATEGORIES","type","error"],[1,"row"],[1,"col","s12","right-content"],[1,"flex-container","clear"],[1,"rtitle","flex-item"],["class","casino-filters",4,"ngIf"],[1,"gm-cntr"],[4,"ngFor","ngForOf"],[1,"casino-filters"],[1,"browser-default","method","left",3,"ngModel","ngModelChange"],["selected","selected",3,"value"],[3,"value"],[1,"col","pg-grd-6","csn-crd-col"],[1,"csn-crd"],[1,"crd-img"],[1,"gm-img",3,"src","alt"],["alt","",1,"gm-img","loading",3,"src"],[1,"inf"],["class","new",4,"ngIf"],["class","popular",4,"ngIf"],["classes","fvrt-lnk left",3,"id","type"],[1,"vndr"],["alt","",1,"vndr-lg",3,"src"],[1,"hvr-inf"],[1,"v-a"],["href","javascript:;",1,"btn","real",3,"click"],["href","javascript:;","class","btn free",3,"click",4,"ngIf"],[1,"crd-nm"],[1,"display-block"],[1,"new"],[1,"popular"],["href","javascript:;",1,"btn","free",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"tckn-verification",1),e.NdJ("closeTcknVerificationModalEvent",function(){return t.closeTcknVerificationModal()}),e.qZA()(),e.TgZ(2,"div",2),e.YNc(3,Ia,2,1,"ng-container",3),e.YNc(4,La,2,0,"ng-container",3),e.YNc(5,Ma,2,1,"div",4),e.qZA()),2&i&&(e.Q6J("materializeActions",t.TcknVerificationModal)("materializeParams",e.VKq(6,Ja,e.DdM(5,Ea))),e.xp6(3),e.Q6J("ngIf",!t.categories&&!t.inProgress),e.xp6(1),e.Q6J("ngIf",!(t.categories.length&&t.hasGames||t.inProgress)),e.xp6(1),e.Q6J("ngForOf",t.categories))},dependencies:[_.sg,_.O5,d.YN,d.Kr,d.EJ,d.JJ,d.On,E.M,N.W,M.J,q.J,v.X$],encapsulation:2});const qa=[{path:"",pathMatch:"full",redirectTo:"casino"},{path:"",component:j,children:[{path:"poker",component:te,data:{name:"poker",meta:"poker"}},{path:"casino",pathMatch:"full",component:Q,data:{name:"casino",meta:"casino"}},{path:"custom-categories",pathMatch:"full",component:ae,data:{name:"custom-categories",meta:"customCategories"}},{path:"casino/:vendorName",component:Q,data:{name:"casino-vendor",meta:"casino"}},{path:"casino/category/:categoryId",component:Q,data:{name:"casino",meta:"casino"}},{path:"bingo/:id",component:X,data:{name:"bingo",meta:"bingo"}},{path:"betongames",component:W,data:{name:"betongames",meta:"betongames"}},{path:"detail/betongames/:id/:limitId",component:ee,data:{name:"betongames-detail",meta:"betongamesDetail"}},{path:"livecasino",pathMatch:"full",component:Y,data:{name:"live-casino",meta:"liveCasino"}},{path:"livecasino/:vendorName",component:Y,data:{name:"live-casino-vendor",meta:"liveCasino"}},{path:"livecasino/category/:categoryId",component:Y,data:{name:"live-casino",meta:"liveCasino"}},{path:"casino/detail/:playType/:id",component:B,data:{name:"casino-detail",meta:"casinoDetail"}},{path:"livecasino/detail/:playType/:id/:limitId",component:R,data:{name:"live-casino-detail",meta:"liveCasinoDetail"}},{path:"detail/casino/:playType/:id",component:B,data:{name:"casino-detail",meta:"casinoDetail"}},{path:"detail/livecasino/:playType/:id/:limitId",component:R,data:{name:"live-casino-detail",meta:"liveCasinoDetail"}},{path:"tv-games",component:ie,data:{name:"tv-games",meta:"tvGames"}},{path:"detail/tv-games/:id/:limitId",component:ne,data:{name:"tv-games-detail",meta:"tvGamesDetails"}}]}];class K{}K.\u0275fac=function(i){return new(i||K)},K.\u0275mod=e.oAB({type:K}),K.\u0275inj=e.cJS({imports:[h.Bz.forChild(qa),h.Bz]});var Qa=m(55028),Ya=m(63413);class ${}$.\u0275fac=function(i){return new(i||$)},$.\u0275mod=e.oAB({type:$}),$.\u0275inj=e.cJS({imports:[_.ez,K,Qa.m,Ya.g]})}}]);