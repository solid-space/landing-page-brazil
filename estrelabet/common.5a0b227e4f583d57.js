"use strict";(self.webpackChunkdesktop=self.webpackChunkdesktop||[]).push([[592],{91417:(D,v,c)=>{c.d(v,{M:()=>m});var u=c(13313),a=c(7226),e=c(94650),T=c(32925),h=c(34793),I=c(36895),E=c(73548),N=c(70564),S=function(n,r,t,s){return new(t||(t=Promise))(function(o,i){function f(l){try{_(s.next(l))}catch(p){i(p)}}function y(l){try{_(s.throw(l))}catch(p){i(p)}}function _(l){l.done?o(l.value):function d(o){return o instanceof t?o:new t(function(i){i(o)})}(l.value).then(f,y)}_((s=s.apply(n,r||[])).next())})};function O(n,r){if(1&n&&(e.TgZ(0,"a",19),e._UZ(1,"i"),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){const t=e.oxw().$implicit,s=e.oxw(3);e.hYB("routerLink","/",s.currentLang,"/",t.url,""),e.uIk("data-test","dashboard-menu-link-"+t.name),e.xp6(1),e.Gre("fa ",t.icon,""),e.xp6(1),e.hij(" ",e.lcZ(3,7,t.name),"")}}function A(n,r){if(1&n&&(e.TgZ(0,"a",20),e._UZ(1,"i"),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n){const t=e.oxw().$implicit;e.s9C("href",t.staticUrl,e.LSH),e.uIk("data-test","dashboard-menu-link-"+t.name),e.xp6(1),e.Gre("fa ",t.icon,""),e.xp6(1),e.hij(" ",e.lcZ(3,6,t.name),"")}}function g(n,r){if(1&n&&(e.TgZ(0,"li",16),e.YNc(1,O,4,9,"a",17),e.YNc(2,A,4,8,"a",18),e.qZA()),2&n){const t=r.$implicit;e.Q6J("hidden",!t.active),e.xp6(1),e.Q6J("ngIf",!!t.url),e.xp6(1),e.Q6J("ngIf",!!t.staticUrl)}}function C(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",12),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",13)(5,"ul",14),e.YNc(6,g,3,3,"li",15),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.name)),e.xp6(4),e.Q6J("ngForOf",t.menuItems)}}function b(n,r){if(1&n&&(e.TgZ(0,"li",10),e.YNc(1,C,7,4,"ng-container",11),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.active)}}a.N.map.dashboard;class m{constructor(r,t,s,d,o,i,f){this.userService=r,this.traderService=t,this.translate=s,this.translateX=d,this.userResolverService=o,this.staticContentService=i,this.iframeReportsService=f,this.menuGroups=[],this.dynamicMenuGroups=[],this.collapseMenu={},this.onlyCasino=!1,this.onlySportsbook=!1,this.isCommonBalance=!1,this.isKlasPokerOpen=!1,this.isTransferDisabled=!1}ngOnInit(){this.traderDefaults=this.traderService.trader,this.onlyCasino=a.N.trader.onlyCasino,this.userService.getCurrentCustomer().then(r=>{this.currentUser=this.userService.user}).catch(r=>{}),typeof a.N.trader.freeSpinDetailPage>"u"&&(a.N.trader.freeSpinDetailPage=!0),typeof a.N.trader.userSettingsPage>"u"&&(a.N.trader.userSettingsPage=!0),this.currentLang=this.translate.currentLang.code,this.host=location.host,this.isCommonBalance=!!this.traderService.trader.tCB,this.isKlasPokerOpen="1"===this.traderService.trader.tKGO,this.isTransferDisabled=a.N.trader.isTransferDisabled||this.isCommonBalance&&a.N.trader.isSportingTechTrader||this.isCommonBalance&&!this.isKlasPokerOpen,this.beforeAction()}beforeAction(){return S(this,void 0,void 0,function*(){yield this.setMenuItems(),this.menuGroups[1].menuItems.forEach(r=>{"ultraplay"===r.code&&(r.name=`${this.translateX.instant("LINKS.ULTRAPLAY_ESPORTS")} ${this.translateX.instant("LINKS.TRANSACTION_REPORT")}`)}),this.getDynamicMenuItems()})}collapseMenuOnClick(r){this.collapseMenu[r]=!this.collapseMenu[r]}setMenuItems(){return S(this,void 0,void 0,function*(){return this.menuGroups=[{name:"TEXTS.MY_ACCOUNT",order:1,group:1,active:!a.N.trader.IsIframe,menuItems:[{name:"TEXTS.DEPOSIT",url:"/dashboard/payments/deposit-money",order:1,icon:"fa-money",active:!0},{name:"TEXTS.WITHDRAW",url:"/dashboard/payments/withdraw-money",order:2,icon:"fa-money",active:!0},{name:"TEXTS.TRANSFER",url:"/dashboard/payments/transfer",order:3,icon:"fa-exchange",active:!this.isTransferDisabled},{name:"TEXTS.PROMOTIONS",url:"/dashboard/payments/promotions",order:4,icon:"fa-gift",active:!0},{name:"LINKS.COMPLAINTS_SUGGESTIONS",staticUrl:"//"+this.host+"/contents/promotions",order:4,icon:"fa-calendar-plus-o",active:!1}]},{name:"TEXTS.TRANSACTIONS",order:2,group:2,active:!0,menuItems:[{name:"TEXTS.BET_HISTORY_HEADER",url:"/dashboard/account-activity/bet-history",order:1,icon:"fa-history",active:!this.onlyCasino},{name:"LINKS.JACKPOT_HISTORY",url:"/dashboard/account-activity/jackpot-history",order:1,icon:"fa-history",active:this.traderDefaults.jpOpen},{name:"LINKS.FINANCIAL_TRANSACTIONS",url:"/dashboard/account-activity/financial-transactions",order:2,icon:"fa-pie-chart",active:!a.N.trader.IsIframe&&!this.onlySportsbook},{name:"LINKS.BONUS_ACTIVITIES",url:"/dashboard/account-activity/bonus-activities",order:3,icon:"fa-gift",active:!a.N.trader.IsIframe},{name:"TEXTS.CASINOPRO_HISTORY",url:"/dashboard/account-activity/casino-pro-history",order:4,icon:"fa-history",active:!this.onlySportsbook&&!a.N.trader.IsIframe},{name:"LINKS.FREESPIN_DETAILS",url:"/dashboard/account-activity/free-spin",order:5,icon:"fa-history",active:!this.onlySportsbook&&!a.N.trader.IsIframe&&a.N.trader.freeSpinDetailPage}]},{name:"TEXTS.USER_ACTIONS",order:3,group:3,active:!0,menuItems:[{name:"TEXTS.PERSONAL_AND_ACCOUNT_INFORMATION",url:"/dashboard/user-info/personal-and-account-detail",order:1,icon:"fa-user",active:!a.N.trader.IsIframe},{name:"TEXTS.PERSONAL_INFORMATION",url:"/dashboard/user-info/user-details",order:1,icon:"fa-user-plus",active:!1},{name:"TEXTS.ACCOUNT_INFORMATION",url:"/dashboard/user-info/account-details",order:2,icon:"fa-user-plus",active:!1},{name:"TEXTS.CHANGE_PASSWORD",url:"/dashboard/user-info/change-password",order:3,icon:"fa-unlock-alt",active:!a.N.trader.IsIframe},{name:"TEXTS.LIMIT_SETTINGS",url:"/dashboard/user-info/limit-settings",order:4,icon:"fa-clock-o",active:!0},{name:"TEXTS.USER_SETTINGS",url:"/dashboard/user-info/user-settings",order:5,icon:"fa-user-plus",active:!a.N.trader.IsIframe&&a.N.trader.userSettingsPage},{name:"TEXTS.DOCUMENTS",url:"/dashboard/user-info/documents",order:6,icon:"fa-id-card-o",active:!a.N.trader.IsIframe&&!!this.traderDefaults.tKYCON},{name:"TEXTS.TWO_STEP_VERIFICATION",url:"/dashboard/user-info/user-security",order:7,icon:"fa-check-square-o",active:!a.N.trader.IsIframe&&!this.traderDefaults.hideTwoStepVerification},{name:"TEXTS.FRIEND_REFERRAL",url:"/dashboard/user-info/friend-referral",order:2,icon:"fa-users",active:!a.N.trader.IsIframe&&!!this.traderDefaults.friendReferralWithReferenceCode}]}],this.iframeReportsService.getIframeProviders(this.menuGroups)})}getDynamicMenuItems(){const r=new u.qPv("dashboard-sidebar-items");this.staticContentService.getStaticContent(r).then(t=>{if(t){const s=JSON.parse(t[0].moduleContent);this.dynamicMenuGroups=s,this.dynamicMenuGroups.forEach(d=>{const o=this.menuGroups.find(i=>i.name===d.name);if(o){const i=this.menuGroups.indexOf(o);this.menuGroups[i].menuItems.push(...d.menuItems),this.menuGroups[i].menuItems.sort(this.compare)}else this.menuGroups.push(d),this.menuGroups.sort(this.compare)})}})}compare(r,t){return r.order<t.order?-1:r.order>t.order?1:0}}m.\u0275fac=function(r){return new(r||m)(e.Y36(u.Ye3),e.Y36(u._W6),e.Y36(u.chr),e.Y36(T.sK),e.Y36(u.Gg1),e.Y36(u.KV5),e.Y36(u.G34))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-dashboard"]],decls:16,vars:9,consts:[[1,"container","dshbrd-cntr"],[1,"row"],[1,"col","s3","lft-cntnt"],[1,"u-info"],[1,"u-name"],[1,"u-number"],[1,"dshbrd-sdbr"],["materialize","collapsible","data-collapsible","expandable",1,"collapsible"],["class","active",4,"ngFor","ngForOf"],[1,"col","s9","rght-cntnt"],[1,"active"],[4,"ngIf"],[1,"collapsible-header","active"],[1,"collapsible-body",2,"display","block"],[1,"collection"],["class","collection-item",3,"hidden",4,"ngFor","ngForOf"],[1,"collection-item",3,"hidden"],["routerLinkActive","active",3,"routerLink",4,"ngIf"],["routerLinkActive","active",3,"href",4,"ngIf"],["routerLinkActive","active",3,"routerLink"],["routerLinkActive","active",3,"href"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e.ynx(5),e._uU(6),e.BQk(),e.qZA(),e.TgZ(7,"h5",5),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",6)(11,"ul",7),e.YNc(12,b,2,1,"li",8),e.ALo(13,"sort"),e.qZA()()(),e.TgZ(14,"div",9),e._UZ(15,"router-outlet"),e.qZA()()()),2&r&&(e.xp6(6),e.Oqu(null==t.currentUser?null:t.currentUser.username),e.xp6(2),e.AsE("",e.lcZ(9,4,"TEXTS.CUSTOMER_NUMBER")," : ",null==t.currentUser?null:t.currentUser.code,""),e.xp6(4),e.Q6J("ngForOf",e.xi3(13,6,t.menuGroups,"order")))},dependencies:[h.lC,h.rH,h.Od,I.sg,I.O5,E.M,T.X$,N.U],encapsulation:2})}}]);