"use strict";(self.webpackChunkdesktop=self.webpackChunkdesktop||[]).push([[111],{39111:(qi,G,d)=>{d.r(G),d.d(G,{VirtualsModule:()=>E});var tt=d(55028),f=d(36895),l=d(13313),x=d(7226),m=d(7625),C=d(8929),t=d(94650),h=d(32925),T=d(34793),L=d(13783),A=d(86719),y=d(93307),U=d(78387),j=d(86377),et=d(33683);x.N.map.virtualNavbar;class Z{constructor(n,e,o){this.translateFactory=n,this.navigationService=e,this.traderService=o}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.menuItems=new l.vJe(x.N.trader.name,"d",x.N.trader.isSportingTechTrader,this.traderService.trader).items,this.menuItems=(0,j.Z)(this.menuItems,["orderBy","ordering"],["asc","asc"]),this.traderService.trader.tSM&&this.setSubNavItems(this.menuItems)}setSubNavItems(n){const e=[];n.forEach(o=>{if(o.isActive&&o.isDesktop){const r="/bet/virtuals/betradar/"+o.url,s={name:o.name,url:r,icon:o.iconClass,gameType:"custom"};e.push(s)}}),this.navigationService.setSubNavItems(e)}}Z.\u0275fac=function(n){return new(n||Z)(t.Y36(l.chr),t.Y36(et.f),t.Y36(l._W6))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["virtual-navbar"]],decls:0,vars:0,template:function(n,e){},encapsulation:2});var Q=d(98732),q=d(56852);function it(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",9),t._UZ(3,"iframe",10),t.ALo(4,"safeUrl"),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,1,e.iframeUrl),t.uOi)}}function nt(i,n){1&i&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}function ot(i,n){if(1&i&&t._UZ(0,"message-box",13),2&i){const e=t.oxw();t.Q6J("content",e.errors.message)}}function rt(i,n){if(1&i&&(t.TgZ(0,"div",39),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.btgNO)}}function st(i,n){if(1&i&&(t.TgZ(0,"div",37),t._UZ(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",23)(5,"div",24)(6,"div",25),t.YNc(7,rt,2,1,"div",38),t._UZ(8,"div",27)(9,"div",30),t.qZA()),2&i){const e=t.oxw(3);t.xp6(7),t.Q6J("ngForOf",e.fixtures[0].btgs2)}}function at(i,n){if(1&i&&(t.TgZ(0,"span",43),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).index,o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.fos[e+1].hSh)}}function ct(i,n){if(1&i&&(t.TgZ(0,"span",43),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).index,o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.fos[e+2].hSh)}}function lt(i,n){if(1&i&&(t.TgZ(0,"span",43),t._uU(1),t.qZA(),t.YNc(2,at,2,1,"span",44),t.YNc(3,ct,2,1,"span",44)),2&i){const e=t.oxw(),o=e.$implicit,r=e.index,s=t.oxw().$implicit;t.xp6(1),t.Oqu(o.hSh),t.xp6(1),t.Q6J("ngIf",s.fos[r+1]),t.xp6(1),t.Q6J("ngIf",s.fos[r+2])}}function _t(i,n){if(1&i&&t.YNc(0,lt,4,3,"ng-template",42),2&i){const e=n.index;t.Q6J("ngIf",0===e)}}function pt(i,n){if(1&i&&(t.TgZ(0,"div",41),t.YNc(1,_t,1,1,"ng-template",16),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngForOf",e.fos)}}function ut(i,n){if(1&i&&(t.TgZ(0,"div",37),t._UZ(1,"div",19)(2,"div",20),t.TgZ(3,"div",21),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"div",23)(7,"div",24)(8,"div",25),t.YNc(9,pt,2,1,"div",40),t._UZ(10,"div",27),t.TgZ(11,"div",30),t._uU(12),t.ALo(13,"translate"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(t.lcZ(5,3,"TEXTS.MATCH")),t.xp6(5),t.Q6J("ngForOf",e.btgs2),t.xp6(3),t.Oqu(t.lcZ(13,5,"TEXTS.OTHER"))}}const S=function(i){return{active:i}},N=function(i,n,e){return{cI:0,sI:0,fI:i,bI:n,oI:e,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function mt(i,n){if(1&i&&(t.TgZ(0,"a",46),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2).index,o=t.oxw().$implicit,r=t.oxw().index,s=t.oxw(2);t.Q6J("ngClass",t.VKq(11,S,s.activeBetButtons[o.fos[e+1].foId+"-1"]))("sport-type",s.sport)("bet-map",t.kEZ(13,N,r,o.bI,e+1)),t.uIk("foId",o.fos[e+1].foId),t.xp6(1),t.Oqu(t.xi3(2,5,t.xi3(3,8,o.fos[e+1].hO,"1.2-2"),s.ofs.aOFI))}}function ft(i,n){if(1&i&&(t.TgZ(0,"a",46),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2).index,o=t.oxw().$implicit,r=t.oxw().index,s=t.oxw(2);t.Q6J("ngClass",t.VKq(11,S,s.activeBetButtons[o.fos[e+2].foId+"-1"]))("sport-type",s.sport)("bet-map",t.kEZ(13,N,r,o.bI,e+2)),t.uIk("foId",o.fos[e+2].foId),t.xp6(1),t.Oqu(t.xi3(2,5,t.xi3(3,8,o.fos[e+2].hO,"1.2-2"),s.ofs.aOFI))}}function dt(i,n){if(1&i&&(t.TgZ(0,"a",46),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA(),t.YNc(4,mt,4,17,"a",47),t.YNc(5,ft,4,17,"a",47)),2&i){const e=t.oxw(),o=e.$implicit,r=e.index,s=t.oxw().$implicit,c=t.oxw().index,a=t.oxw(2);t.Q6J("ngClass",t.VKq(13,S,a.activeBetButtons[o.foId+"-1"]))("sport-type",a.sport)("bet-map",t.kEZ(15,N,c,s.bI,r)),t.uIk("foId",o.foId),t.xp6(1),t.Oqu(t.xi3(2,7,t.xi3(3,10,o.hO,"1.2-2"),a.ofs.aOFI)),t.xp6(3),t.Q6J("ngIf",s.fos[r+1]),t.xp6(1),t.Q6J("ngIf",s.fos[r+2])}}function gt(i,n){if(1&i&&t.YNc(0,dt,6,19,"ng-template",42),2&i){const e=n.index;t.Q6J("ngIf",0===e)}}function ht(i,n){if(1&i&&(t.TgZ(0,"div",45),t.YNc(1,gt,1,1,"ng-template",16),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngForOf",e.fos)}}function xt(i,n){if(1&i&&(t.TgZ(0,"a",52)(1,"span",53),t._uU(2),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"oF"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw(2).index,o=t.oxw(),r=o.$implicit,s=o.index,c=t.oxw().index,a=t.oxw(2);t.s9C("title",r.fos[e+1].hSh),t.Q6J("ngClass",t.VKq(13,S,a.activeBetButtons[r.fos[e+1].foId+"-1"]))("sport-type",a.sport)("bet-map",t.kEZ(15,N,c,s,e+1)),t.uIk("foId",r.fos[e+1].foId),t.xp6(2),t.Oqu(r.fos[e+1].hSh),t.xp6(2),t.Oqu(t.xi3(5,7,t.xi3(6,10,r.fos[e+1].hO,"1.2-2"),a.ofs.aOFI))}}function vt(i,n){if(1&i&&(t.TgZ(0,"a",52)(1,"span",53),t._uU(2),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"oF"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw(2).index,o=t.oxw(),r=o.$implicit,s=o.index,c=t.oxw().index,a=t.oxw(2);t.s9C("title",r.fos[e+2].hSh),t.Q6J("ngClass",t.VKq(13,S,a.activeBetButtons[r.fos[e+2].foId+"-1"]))("sport-type",a.sport)("bet-map",t.kEZ(15,N,c,s,e+2)),t.uIk("foId",r.fos[e+2].foId),t.xp6(2),t.Oqu(r.fos[e+2].hSh),t.xp6(2),t.Oqu(t.xi3(5,7,t.xi3(6,10,r.fos[e+2].hO,"1.2-2"),a.ofs.aOFI))}}function bt(i,n){if(1&i&&(t.TgZ(0,"div",51)(1,"a",52)(2,"span",53),t._uU(3),t.qZA(),t.TgZ(4,"span",54),t._uU(5),t.ALo(6,"oF"),t.ALo(7,"number"),t.qZA()(),t.YNc(8,xt,7,19,"a",55),t.YNc(9,vt,7,19,"a",55),t.qZA()),2&i){const e=t.oxw(),o=e.$implicit,r=e.index,s=t.oxw(),c=s.index,a=s.$implicit,g=t.oxw().index,_=t.oxw(2);t.xp6(1),t.s9C("title",o.hSh),t.Q6J("ngClass",t.VKq(15,S,_.activeBetButtons[o.foId+"-1"]))("sport-type",_.sport)("bet-map",t.kEZ(17,N,g,c,r)),t.uIk("foId",o.foId),t.xp6(2),t.Oqu(o.hSh),t.xp6(2),t.Oqu(t.xi3(6,9,t.xi3(7,12,o.hO,"1.2-2"),_.ofs.aOFI)),t.xp6(3),t.Q6J("ngIf",a.dt[0]>1&&a.fos[r+1]),t.xp6(1),t.Q6J("ngIf",3===a.dt[0]&&a.fos[r+2])}}function Tt(i,n){if(1&i&&t.YNc(0,bt,10,21,"div",50),2&i){const e=n.index,o=t.oxw().$implicit;t.Q6J("ngIf",e%o.dt[0]==0)}}function Zt(i,n){if(1&i&&(t.TgZ(0,"tr")(1,"td")(2,"div",48)(3,"div",49),t._uU(4),t.qZA()(),t.YNc(5,Tt,1,1,"ng-template",16),t.qZA()()),2&i){const e=n.$implicit;t.xp6(4),t.Oqu(e.btgN),t.xp6(1),t.Q6J("ngForOf",e.fos)}}function It(i,n){if(1&i){const e=t.EpF();t.YNc(0,st,10,1,"div",17),t.YNc(1,ut,14,7,"div",17),t.TgZ(2,"div",18),t._UZ(3,"div",19),t.TgZ(4,"div",20),t._uU(5),t.qZA(),t.TgZ(6,"div",21)(7,"a",22),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"a",22),t._uU(11),t.qZA()(),t._UZ(12,"div",23)(13,"div",24)(14,"div",25),t.YNc(15,ht,2,1,"div",26),t.TgZ(16,"div",27)(17,"a",28),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.openStatistic(s))}),t.TgZ(18,"i",29),t._uU(19,"equalizer"),t.qZA()()(),t.TgZ(20,"div",30)(21,"a",31),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.active=!s.active)}),t._uU(22),t.qZA()()(),t.TgZ(23,"div",32)(24,"div",33)(25,"h6",34),t._uU(26),t.TgZ(27,"b"),t._uU(28,"VS"),t.qZA(),t._uU(29),t._UZ(30,"br"),t.qZA(),t.TgZ(31,"a",35),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.active=!1)}),t.TgZ(32,"i",29),t._uU(33,"close"),t.qZA()()(),t.TgZ(34,"table")(35,"tbody"),t.YNc(36,Zt,6,2,"tr",36),t.qZA()()()}if(2&i){const e=n.$implicit,o=n.index;t.Q6J("ngIf",0===o),t.xp6(1),t.Q6J("ngIf",0===o),t.xp6(4),t.Oqu(e.mCod),t.xp6(3),t.Oqu(e.hcN),t.xp6(3),t.Oqu(e.acN),t.xp6(4),t.Q6J("ngForOf",e.btgs2),t.xp6(7),t.hij("+",e.fDS,""),t.xp6(1),t.Q6J("ngClass",t.VKq(11,S,e.active)),t.xp6(3),t.hij(" ",e.hcN," "),t.xp6(3),t.hij(" ",e.acN," "),t.xp6(7),t.Q6J("ngForOf",e.btgs)}}function Ct(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"i",3),t.qZA(),t.TgZ(9,"div",8)(10,"div",15),t.YNc(11,It,37,13,"ng-template",16),t.qZA()()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.HOy(" ",t.lcZ(6,8,"TEXTS.VTO_TENNIS")," ",e.seasonInfo.Tournament," - ",t.lcZ(7,10,"TEXTS.MATCHDAY")," ",e.seasonInfo.Round," "),t.xp6(6),t.Q6J("ngForOf",e.fixtures)}}function St(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",21)(2,"a",22),t._uU(3),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"a",22),t._uU(6),t.qZA()(),t.TgZ(7,"div",30)(8,"span",56),t._uU(9),t.qZA(),t.TgZ(10,"a",28),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.openStatistic(s))}),t.TgZ(11,"i",29),t._uU(12,"equalizer"),t.qZA()()()()}if(2&i){const e=n.$implicit;t.xp6(3),t.Oqu(e.hcN),t.xp6(3),t.Oqu(e.acN),t.xp6(3),t.Oqu(e.cSc)}}function wt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"i",3),t.qZA(),t.TgZ(9,"div",8)(10,"div",15)(11,"div",37)(12,"div",21),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.YNc(15,St,13,3,"ng-template",16),t.qZA()()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.HOy("",t.lcZ(6,9,"TEXTS.VFEC_SEASON")," ",e.seasonInfo.season_name,"- ",t.lcZ(7,11,"TEXTS.MATCHDAY")," ",e.seasonInfo.match_day,""),t.xp6(8),t.Oqu(t.lcZ(14,13,"TEXTS.MATCH")),t.xp6(2),t.Q6J("ngForOf",e.oldFixtures)}}x.N.map.virtualTennis;class J{constructor(n,e,o,r,s,c,a,g){this.virtualService=n,this.rootService=e,this.traderService=o,this.applicationService=r,this.translateFactory=s,this.translate=c,this.ofs=a,this.route=g,this.inProgress=!0,this.oldMatches=null,this.seasonInfo=null,this.sport={cs:[{sns:[{fs:null}]}]},this.fixtureShow={oldF:!1,newF:!0},this.errors={show:!1,message:""},this.destroyed$=new C.xQ;const _=r.settingList.find(u=>"iframe-virtual-tennis"===u.parameter),p=new RegExp(/{lang}/,"g");this.iframeUrl=_.value.replace(p,s.currentLang.code),this.route.url.pipe((0,m.R)(this.destroyed$)).subscribe(u=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(u[1].path,"d"),this.beforeAction(this.virtualSportObj.sortName)})}get activeBetButtons(){return this.rootService.activeBetButtons}beforeAction(n){window.setVtoRound=e=>{const o={sportTypeId:42,seasonNumber:Number(e.Tournament),matchDay:Number(e.Round),urlParam:n};this.seasonInfo=e,this.pullvirtualTennisData(o)}}pullvirtualTennisData(n){const e=new l.qPv(n);this.inProgress=!0,this.virtualService.getVirtualSomeFixtures(e).then(o=>{try{typeof o.cScs<"u"?(this.oldFixtures=o.cScs,this.fixtureShow={oldF:!0,newF:!1}):(this.fixtures=o,this.fixtureShow={oldF:!1,newF:!0},this.sport.cs[0].sns[0].fs=this.fixtures),this.errors={show:!1,message:""}}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(s=>{this.errors={show:!0,message:s}})}this.inProgress=!1},o=>{this.oldFixtures=null,this.fixtures=null,this.inProgress=!1})}openStatistic(n){null!==document.getElementsByName("vto_iframe")[0]&&window.document.vto_iframe.openVtoStats(n.bId)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}function Ot(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",9),t._UZ(3,"iframe",10),t.ALo(4,"safeUrl"),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,1,e.iframeUrl),t.uOi)}}function At(i,n){1&i&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}function yt(i,n){if(1&i&&t._UZ(0,"message-box",13),2&i){const e=t.oxw();t.Q6J("content",e.errors.message)}}function Ut(i,n){if(1&i&&(t.TgZ(0,"div",41),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.btgNO)}}function qt(i,n){if(1&i&&(t.TgZ(0,"div",39),t._UZ(1,"div",20)(2,"div",21)(3,"div",22)(4,"div",24)(5,"div",25)(6,"div",26),t.YNc(7,Ut,2,1,"div",40),t._UZ(8,"div",28)(9,"div",31),t.qZA()),2&i){const e=t.oxw(4);t.xp6(7),t.Q6J("ngForOf",e.fixtures[0].btgs2)}}function Nt(i,n){1&i&&(t.TgZ(0,"div",39)(1,"div",22),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",31),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TEXTS.MATCH")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TEXTS.OTHER")))}J.\u0275fac=function(n){return new(n||J)(t.Y36(l.xZw),t.Y36(l.U$c),t.Y36(l._W6),t.Y36(l.Wd0),t.Y36(l.chr),t.Y36(h.sK),t.Y36(l.Wo4),t.Y36(T.gz))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-virtual-tennis"]],decls:14,vars:11,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],["contentCode","virtual-tennis"],[1,"modul-content"],[1,"virtual-view"],["name","vto_iframe","width","760px","height","420px",3,"src"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"fixture-container"],["ngFor","",3,"ngForOf"],["class","fixture-header flex-container",4,"ngIf"],[1,"fixture-body","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],["href","javascript:;"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[1,"element","statistic"],["href","javascript:;",1,"statistic","right",3,"click"],[1,"material-icons"],[1,"element","other"],["href","javascript:;",1,"btn","other-btn","waves-effect","waves-light","modal-trigger",3,"click"],[1,"caption-pg",3,"ngClass"],[1,"caption-pg-header","flex-container"],[1,"flex-item","title"],["href","javascript:;",1,"close-caption",3,"click"],[4,"ngFor","ngForOf"],[1,"fixture-header","flex-container"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],["class","element flex-item bet-type flex-container",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type","flex-container"],[3,"ngIf"],[1,"flex-item"],["class","flex-item",4,"ngIf"],[1,"element","flex-item","flex-container","bet-type"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],[1,"flex-container"],[1,"flex-item","center-align"],["class","flex-container bet-type-btn-group",4,"ngIf"],[1,"flex-container","bet-type-btn-group"],["href","javascript:;","bet-button","",1,"flex-container","btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map","title"],[1,"flex-item","bet-btn-text"],[1,"bet-btn-odd"],["href","javascript:;","class","flex-container btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map","title",4,"ngIf"],["href","javascript:;",1,"left","btn","other-btn","waves-effect","waves-light"]],template:function(n,e){1&n&&(t._UZ(0,"virtual-navbar"),t.TgZ(1,"div",0)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"i",3),t.qZA(),t.YNc(8,it,5,3,"ng-container",4),t.qZA(),t.YNc(9,nt,2,0,"div",5),t.YNc(10,ot,1,1,"message-box",6),t.YNc(11,Ct,12,12,"ng-container",4),t.YNc(12,wt,16,15,"ng-container",4),t._UZ(13,"app-static-inner-content",7)),2&n&&(t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.hij(" ",t.lcZ(6,9,"TEXTS.VIRTUAL_TENNIS")," "),t.xp6(3),t.Q6J("ngIf",e.iframeUrl),t.xp6(1),t.Q6J("ngIf",e.inProgress),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.errors.show),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.fixtures&&e.fixtures.length&&e.fixtureShow.newF&&!e.fixtureShow.oldF),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.oldFixtures&&e.oldFixtures.length&&!e.fixtureShow.newF&&e.fixtureShow.oldF))},dependencies:[f.mk,f.sg,f.O5,L.q,A.w,y.n,U.W,Z,f.JJ,h.X$,Q.z,q.Q],encapsulation:2});const w=function(i){return{active:i}},F=function(i,n,e){return{cI:0,sI:0,fI:i,bI:n,oI:e,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function Ft(i,n){if(1&i&&(t.TgZ(0,"a",44),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2).index,o=t.oxw().$implicit,r=t.oxw().index,s=t.oxw(3);t.Q6J("ngClass",t.VKq(11,w,s.activeBetButtons[o.fos[e+1].foId+"-1"]))("sport-type",s.sport)("bet-map",t.kEZ(13,F,r,o.bI,e+1)),t.uIk("foId",o.fos[e+1].foId),t.xp6(1),t.Oqu(t.xi3(2,5,t.xi3(3,8,o.fos[e+1].hO,"1.2-2"),s.ofs.aOFI))}}function Vt(i,n){if(1&i&&(t.TgZ(0,"a",44),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2).index,o=t.oxw().$implicit,r=t.oxw().index,s=t.oxw(3);t.Q6J("ngClass",t.VKq(11,w,s.activeBetButtons[o.fos[e+2].foId+"-1"]))("sport-type",s.sport)("bet-map",t.kEZ(13,F,r,o.bI,e+2)),t.uIk("foId",o.fos[e+2].foId),t.xp6(1),t.Oqu(t.xi3(2,5,t.xi3(3,8,o.fos[e+2].hO,"1.2-2"),s.ofs.aOFI))}}function Bt(i,n){if(1&i&&(t.TgZ(0,"a",44),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA(),t.YNc(4,Ft,4,17,"a",45),t.YNc(5,Vt,4,17,"a",45)),2&i){const e=t.oxw(),o=e.$implicit,r=e.index,s=t.oxw().$implicit,c=t.oxw().index,a=t.oxw(3);t.Q6J("ngClass",t.VKq(13,w,a.activeBetButtons[o.foId+"-1"]))("sport-type",a.sport)("bet-map",t.kEZ(15,F,c,s.bI,r)),t.uIk("foId",o.foId),t.xp6(1),t.Oqu(t.xi3(2,7,t.xi3(3,10,o.hO,"1.2-2"),a.ofs.aOFI)),t.xp6(3),t.Q6J("ngIf",s.fos[r+1]&&!s.fos[r+1].aO),t.xp6(1),t.Q6J("ngIf",s.fos[r+2]&&!s.fos[r+2].aO)}}function Et(i,n){if(1&i&&t.YNc(0,Bt,6,19,"ng-template",43),2&i){const e=n.index;t.Q6J("ngIf",0===e)}}function Lt(i,n){if(1&i&&(t.TgZ(0,"div",42),t.YNc(1,Et,1,1,"ng-template",17),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngForOf",e.fos)}}function Qt(i,n){if(1&i&&(t.TgZ(0,"a",50)(1,"span",51),t._uU(2),t.qZA(),t.TgZ(3,"span",52),t._uU(4),t.ALo(5,"oF"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw(2).index,o=t.oxw(),r=o.$implicit,s=o.index,c=t.oxw().index,a=t.oxw(3);t.s9C("title",r.fos[e+1].hSh),t.Q6J("ngClass",t.VKq(13,w,a.activeBetButtons[r.fos[e+1].foId+"-1"]))("sport-type",a.sport)("bet-map",t.kEZ(15,F,c,s,e+1)),t.uIk("foId",r.fos[e+1].foId),t.xp6(2),t.Oqu(r.fos[e+1].hSh),t.xp6(2),t.Oqu(t.xi3(5,7,t.xi3(6,10,r.fos[e+1].hO,"1.2-2"),a.ofs.aOFI))}}function Jt(i,n){if(1&i&&(t.TgZ(0,"a",50)(1,"span",51),t._uU(2),t.qZA(),t.TgZ(3,"span",52),t._uU(4),t.ALo(5,"oF"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw(2).index,o=t.oxw(),r=o.$implicit,s=o.index,c=t.oxw().index,a=t.oxw(3);t.s9C("title",r.fos[e+2].hSh),t.Q6J("ngClass",t.VKq(13,w,a.activeBetButtons[r.fos[e+2].foId+"-1"]))("sport-type",a.sport)("bet-map",t.kEZ(15,F,c,s,e+2)),t.uIk("foId",r.fos[e+2].foId),t.xp6(2),t.Oqu(r.fos[e+2].hSh),t.xp6(2),t.Oqu(t.xi3(5,7,t.xi3(6,10,r.fos[e+2].hO,"1.2-2"),a.ofs.aOFI))}}function Yt(i,n){if(1&i&&(t.TgZ(0,"div",49)(1,"a",50)(2,"span",51),t._uU(3),t.qZA(),t.TgZ(4,"span",52),t._uU(5),t.ALo(6,"oF"),t.ALo(7,"number"),t.qZA()(),t.YNc(8,Qt,7,19,"a",53),t.YNc(9,Jt,7,19,"a",53),t.qZA()),2&i){const e=t.oxw(),o=e.$implicit,r=e.index,s=t.oxw(),c=s.index,a=s.$implicit,g=t.oxw().index,_=t.oxw(3);t.xp6(1),t.s9C("title",o.hSh),t.Q6J("ngClass",t.VKq(15,w,_.activeBetButtons[o.foId+"-1"]))("sport-type",_.sport)("bet-map",t.kEZ(17,F,g,c,r)),t.uIk("foId",o.foId),t.xp6(2),t.Oqu(o.hSh),t.xp6(2),t.Oqu(t.xi3(6,9,t.xi3(7,12,o.hO,"1.2-2"),_.ofs.aOFI)),t.xp6(3),t.Q6J("ngIf",a.dt[0]>1&&a.fos[r+1]),t.xp6(1),t.Q6J("ngIf",3===a.dt[0]&&a.fos[r+2])}}function $t(i,n){if(1&i&&t.YNc(0,Yt,10,21,"div",48),2&i){const e=n.index,o=t.oxw().$implicit;t.Q6J("ngIf",e%o.dt[0]==0)}}function Pt(i,n){if(1&i&&(t.TgZ(0,"tr")(1,"td")(2,"div",46)(3,"div",47),t._uU(4),t.qZA()(),t.YNc(5,$t,1,1,"ng-template",17),t.qZA()()),2&i){const e=n.$implicit;t.xp6(4),t.Oqu(e.btgN),t.xp6(1),t.Q6J("ngForOf",e.fos)}}function Mt(i,n){if(1&i){const e=t.EpF();t.YNc(0,qt,10,1,"div",18),t.YNc(1,Nt,7,6,"div",18),t.TgZ(2,"div",19),t._UZ(3,"div",20),t.TgZ(4,"div",21),t._uU(5),t.qZA(),t.TgZ(6,"div",22)(7,"a",23),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"a",23),t._uU(11),t.qZA()(),t._UZ(12,"div",24)(13,"div",25)(14,"div",26),t.YNc(15,Lt,2,1,"div",27),t.TgZ(16,"div",28)(17,"a",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.openStatistic(s))}),t.TgZ(18,"i",30),t._uU(19,"equalizer"),t.qZA()()(),t.TgZ(20,"div",31)(21,"a",32),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.active=!s.active)}),t._uU(22),t.qZA()()(),t.TgZ(23,"div",33)(24,"div",34)(25,"h6",35),t._uU(26),t.TgZ(27,"b"),t._uU(28,"VS"),t.qZA(),t._uU(29),t._UZ(30,"br"),t.TgZ(31,"span",36),t._uU(32),t.qZA()(),t.TgZ(33,"a",37),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.active=!1)}),t.TgZ(34,"i",30),t._uU(35,"close"),t.qZA()()(),t.TgZ(36,"table")(37,"tbody"),t.YNc(38,Pt,6,2,"tr",38),t.qZA()()()}if(2&i){const e=n.$implicit,o=n.index;t.Q6J("ngIf",0===o),t.xp6(1),t.Q6J("ngIf",0===o),t.xp6(4),t.Oqu(e.mCod),t.xp6(3),t.Oqu(e.hcN),t.xp6(3),t.Oqu(e.acN),t.xp6(4),t.Q6J("ngForOf",e.btgs2),t.xp6(7),t.hij("+",e.fDS,""),t.xp6(1),t.Q6J("ngClass",t.VKq(12,w,e.active)),t.xp6(3),t.hij(" ",e.hcN," "),t.xp6(3),t.hij(" ",e.acN," "),t.xp6(3),t.Oqu(e.mCod),t.xp6(6),t.Q6J("ngForOf",e.btgs)}}function kt(i,n){if(1&i&&(t.TgZ(0,"div",15)(1,"div",1),t._UZ(2,"i"),t.TgZ(3,"span",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"i",3),t.qZA(),t.TgZ(7,"div",8)(8,"div",16),t.YNc(9,Mt,39,14,"ng-template",17),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(2),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.lnq("",e.seasonInfo.season_name," - ",t.lcZ(5,7,"TEXTS.MATCHDAY")," ",e.seasonInfo.match_day,""),t.xp6(5),t.Q6J("ngForOf",e.fixtures)}}function Ht(i,n){if(1&i&&(t.ynx(0),t.YNc(1,kt,10,9,"div",14),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.fixtures)}}function Dt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",22)(2,"a",23),t._uU(3),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"a",23),t._uU(6),t.qZA()(),t.TgZ(7,"div",31)(8,"span",54),t._uU(9),t.qZA(),t.TgZ(10,"a",29),t.NdJ("click",function(r){const c=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.openStatistic(c,r))}),t.TgZ(11,"i",30),t._uU(12,"equalizer"),t.qZA()()()()}if(2&i){const e=n.$implicit;t.xp6(3),t.Oqu(e.hcN),t.xp6(3),t.Oqu(e.acN),t.xp6(3),t.Oqu(e.cSc)}}function Gt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",15)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"i",3),t.qZA(),t.TgZ(9,"div",8)(10,"div",16)(11,"div",39)(12,"div",22),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.YNc(15,Dt,13,3,"ng-template",17),t.qZA()()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.HOy("",t.lcZ(6,9,"TEXTS.VFEC_SEASON")," ",e.seasonInfo.season_name,"- ",t.lcZ(7,11,"TEXTS.MATCHDAY")," ",e.seasonInfo.match_day,""),t.xp6(8),t.Oqu(t.lcZ(14,13,"TEXTS.MATCH")),t.xp6(2),t.Q6J("ngForOf",e.oldFixtures)}}x.N.map.virtualFootball;class Y{constructor(n,e,o,r,s,c,a,g){this.virtualService=n,this.rootService=e,this.traderService=o,this.applicationService=r,this.translateFactory=s,this.translate=c,this.ofs=a,this.route=g,this.inProgress=!0,this.oldMatches=null,this.seasonInfo=null,this.sport={cs:[{sns:[{fs:null}]}]},this.fixtureShow={oldF:!1,newF:!0},this.errors={show:!1,message:""},this.destroyed$=new C.xQ;const _=r.settingList.find(u=>"iframe-virtual-football"===u.parameter),p=new RegExp(/{lang}/,"g");this.iframeUrl=_.value.replace(p,s.currentLang.code),this.route.url.pipe((0,m.R)(this.destroyed$)).subscribe(u=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(u[1].path,"d"),this.beforeAction(this.virtualSportObj.sortName)})}ngOnInit(){}beforeAction(n){window.setVflMatchday=e=>{const o={sportTypeId:43,seasonNumber:Number(e.season_name.split(" ").pop()),matchDay:Number(e.match_day),urlParam:n};this.seasonInfo=e,this.pullFixtures(o)}}pullFixtures(n){const e=new l.qPv(n);this.inProgress=!0,this.virtualService.getVirtualSomeFixtures(e).then(o=>{try{typeof o.cScs<"u"?(this.oldFixtures=o.cScs,this.fixtureShow={oldF:!0,newF:!1}):(this.fixtures=o,this.fixtureShow={oldF:!1,newF:!0},this.sport.cs[0].sns[0].fs=this.fixtures),this.errors={show:!1,message:""}}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(s=>{this.errors={show:!0,message:s}}),this.oldFixtures=null,this.fixtures=null}this.inProgress=!1},o=>{try{this.translate.get(`MESSAGES.${o.responseCodes[0].responseKey}`).pipe((0,m.R)(this.destroyed$)).subscribe(r=>{this.errors={show:!0,message:r}})}catch{this.inProgress=!1,this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(s=>{this.errors={show:!0,message:s}})}this.inProgress=!1,this.oldFixtures=null,this.fixtures=null})}get activeBetButtons(){return this.rootService.activeBetButtons}openStatistic(n){null!==document.getElementsByName("vfl_iframe")[0]&&window.document.vfl_iframe.openVfecStats(n.hcBId,n.acBId)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}function jt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",9),t._UZ(3,"iframe",10),t.ALo(4,"safeUrl"),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,1,e.iframeUrl),t.uOi)}}function Rt(i,n){1&i&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}function Xt(i,n){if(1&i&&t._UZ(0,"message-box",13),2&i){const e=t.oxw();t.Q6J("content",e.errors.message)}}function Kt(i,n){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.seasonInfo.Race_number)}}Y.\u0275fac=function(n){return new(n||Y)(t.Y36(l.xZw),t.Y36(l.U$c),t.Y36(l._W6),t.Y36(l.Wd0),t.Y36(l.chr),t.Y36(h.sK),t.Y36(l.Wo4),t.Y36(T.gz))},Y.\u0275cmp=t.Xpm({type:Y,selectors:[["app-virtual-football"]],decls:14,vars:11,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],["contentCode","virtual-football"],[1,"modul-content"],[1,"virtual-view"],["name","vfl_iframe","width","766px","height","617px",3,"src"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["class","modul-accordion sport-type-detail","accordion","",4,"ngIf"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"fixture-container"],["ngFor","",3,"ngForOf"],["class","fixture-header flex-container",4,"ngIf"],[1,"fixture-body","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],["href","javascript:;"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[1,"element","statistic"],["href","javascript:;",1,"statistic","right",3,"click"],[1,"material-icons"],[1,"element","other"],["href","javascript:;",1,"btn","other-btn","waves-effect","waves-light","modal-trigger",3,"click"],[1,"caption-pg",3,"ngClass"],[1,"caption-pg-header","flex-container"],[1,"flex-item","title"],[1,"match-code"],["href","javascript:;",1,"close-caption",3,"click"],[4,"ngFor","ngForOf"],[1,"fixture-header","flex-container"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],[1,"element","flex-item","flex-container","bet-type"],[3,"ngIf"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],[1,"flex-container"],[1,"flex-item","center-align"],["class","flex-container bet-type-btn-group",4,"ngIf"],[1,"flex-container","bet-type-btn-group"],["href","javascript:;","bet-button","",1,"flex-container","btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map","title"],[1,"flex-item","bet-btn-text"],[1,"bet-btn-odd"],["href","javascript:;","class","flex-container btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map","title",4,"ngIf"],["href","javascript:;",1,"left","btn","other-btn","waves-effect","waves-light"]],template:function(n,e){1&n&&(t._UZ(0,"virtual-navbar"),t.TgZ(1,"div",0)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"i",3),t.qZA(),t.YNc(8,Ot,5,3,"ng-container",4),t.qZA(),t.YNc(9,At,2,0,"div",5),t.YNc(10,yt,1,1,"message-box",6),t.YNc(11,Ht,2,1,"ng-container",4),t.YNc(12,Gt,16,15,"ng-container",4),t._UZ(13,"app-static-inner-content",7)),2&n&&(t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.hij(" ",t.lcZ(6,9,"TEXTS.VIRTUAL_FOOTBALL")," "),t.xp6(3),t.Q6J("ngIf",e.iframeUrl),t.xp6(1),t.Q6J("ngIf",e.inProgress),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.errors.show),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.fixtures&&e.fixtures.length&&e.fixtureShow.newF&&!e.fixtureShow.oldF),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.oldFixtures&&e.oldFixtures.length&&!e.fixtureShow.newF&&e.fixtureShow.oldF))},dependencies:[f.mk,f.sg,f.O5,L.q,A.w,y.n,U.W,Z,f.JJ,h.X$,Q.z,q.Q],encapsulation:2});const H=function(i){return{active:i}};function Wt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"li",22)(1,"a",23),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.setBtgM(s))}),t._uU(2),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,H,o.activeBtgmOrd===e.btgMOrd)),t.xp6(1),t.Oqu(e.name)}}function zt(i,n){if(1&i&&(t.TgZ(0,"div",34),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.btgNO)}}function te(i,n){if(1&i&&t._UZ(0,"div",38),2&i){const e=t.oxw().$implicit;t.Q6J("id","sr:competitor:"+e.xid)}}const R=function(i,n){return{cI:0,sI:0,fI:0,bI:i,oI:n,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function ee(i,n){if(1&i&&(t.TgZ(0,"a",41),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(),o=e.$implicit,r=e.index,s=t.oxw().$implicit,c=t.oxw(4);t.Q6J("ngClass",t.VKq(11,H,c.activeBetButtons[o.foId+"-1"]))("sport-type",c.sport)("bet-map",t.WLB(13,R,s.bI,r)),t.uIk("foId",o.foId),t.xp6(1),t.hij(" ",t.xi3(2,5,t.xi3(3,8,o.hO,"1.2-2"),c.ofs.aOFI),"")}}function ie(i,n){if(1&i&&t.YNc(0,ee,4,16,"a",40),2&i){const e=n.$implicit,o=t.oxw(2).$implicit;t.Q6J("ngIf",e.mCId[0]===o.fCId)}}function ne(i,n){if(1&i&&(t.TgZ(0,"div",39),t.YNc(1,ie,1,1,"ng-template",21),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngForOf",e.fos)}}function oe(i,n){if(1&i&&(t.TgZ(0,"div",35),t._UZ(1,"div",26)(2,"div",27),t.TgZ(3,"div",28)(4,"span",36),t.YNc(5,te,1,1,"ng-template",20),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()(),t._UZ(10,"div",29)(11,"div",30)(12,"div",31),t.YNc(13,ne,2,1,"div",37),t.qZA()),2&i){const e=n.$implicit,o=t.oxw(3);t.xp6(5),t.Q6J("ngIf",o.isUof),t.xp6(1),t.Gre("box-",e.sB," box-main"),t.xp6(1),t.Oqu(e.sB),t.xp6(2),t.Oqu(e.fCN),t.xp6(4),t.Q6J("ngForOf",o.fixtures[0].fixtureBetTypeGroups[0].betTypeGroups)}}function re(i,n){if(1&i&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"div",26)(3,"div",27)(4,"div",28)(5,"div",29)(6,"div",30)(7,"div",31),t.YNc(8,zt,2,1,"div",32),t.qZA(),t.YNc(9,oe,14,7,"div",33),t.qZA()),2&i){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.fixtures[0].fixtureBetTypeGroups[0].betTypeGroups),t.xp6(1),t.Q6J("ngForOf",e.fixtures[0].fCs)}}const X=function(i,n){return{s12:i,s6:n}};function se(i,n){if(1&i&&(t.TgZ(0,"div",45)(1,"div",46),t._uU(2),t.qZA()()),2&i){const e=n.$implicit,o=t.oxw(4);t.Q6J("ngClass",t.WLB(2,X,o.triCastInd.length<2,o.triCastInd.length>1)),t.xp6(2),t.Oqu(e.btgN)}}function ae(i,n){if(1&i&&t._UZ(0,"div",50),2&i){const e=t.oxw().$implicit;t.Tol("sr:competitor:"+e.xid)}}function ce(i,n){if(1&i&&t.YNc(0,ae,1,2,"ng-template",20),2&i){const e=n.$implicit,o=t.oxw(2).$implicit;t.Q6J("ngIf",e.fCId===o)}}function le(i,n){if(1&i&&t.YNc(0,ce,1,1,"ng-template",21),2&i){const e=t.oxw(8);t.Q6J("ngForOf",e.fixtures[0].fCs)}}function _e(i,n){if(1&i&&(t.TgZ(0,"span",36),t.YNc(1,le,1,1,"ng-template",20),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()),2&i){const e=n.$implicit,o=t.oxw(7);t.xp6(1),t.Q6J("ngIf",o.isUof),t.xp6(1),t.Gre("box-",o.fixtures[0].numbers[e].sB," box-main"),t.xp6(1),t.Oqu(o.fixtures[0].numbers[e].sB),t.xp6(2),t.Oqu(o.fixtures[0].numbers[e].fCN)}}function pe(i,n){if(1&i&&t.YNc(0,_e,6,6,"span",49),2&i){const e=t.oxw().$implicit;t.Q6J("ngForOf",e.mCId)}}function ue(i,n){1&i&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TEXTS.OTHER")," "))}function me(i,n){if(1&i&&(t.TgZ(0,"div",35)(1,"div",28),t.YNc(2,pe,1,1,"ng-template",20),t.YNc(3,ue,3,3,"span",47),t.qZA(),t.TgZ(4,"div",48)(5,"a",41),t._uU(6),t.ALo(7,"oF"),t.ALo(8,"number"),t.qZA()()()),2&i){const e=n.$implicit,o=n.index,r=t.oxw().$implicit,s=t.oxw(4);t.xp6(2),t.Q6J("ngIf",e.mCId),t.xp6(1),t.Q6J("ngIf",!e.mCId),t.xp6(2),t.Q6J("ngClass",t.VKq(13,H,s.activeBetButtons[e.foId+"-1"]))("sport-type",s.sport)("bet-map",t.WLB(15,R,r.bI,o)),t.uIk("foId",e.foId),t.xp6(1),t.Oqu(t.xi3(7,7,t.xi3(8,10,e.hO,"1.2-2"),s.ofs.aOFI))}}function fe(i,n){if(1&i&&(t.TgZ(0,"div",45),t.YNc(1,me,9,18,"div",33),t.qZA()),2&i){const e=n.$implicit,o=t.oxw(4);t.Q6J("ngClass",t.WLB(2,X,o.triCastInd.length<2,o.triCastInd.length>1)),t.xp6(1),t.Q6J("ngForOf",e.fos)}}function de(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",51),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(4);return t.KtG(r.showMoreThreeFos())}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"TEXTS.MORE_BETS")," "))}function ge(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",42)(2,"div",24)(3,"div",25),t.YNc(4,se,3,5,"div",43),t.qZA(),t.YNc(5,fe,2,5,"div",43),t.qZA(),t.TgZ(6,"div",44),t.YNc(7,de,4,3,"ng-container",4),t.qZA()(),t.BQk()),2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.betTypeGroups),t.xp6(1),t.Q6J("ngForOf",e.betTypeGroups),t.xp6(2),t.Q6J("ngIf",o.fosIsSlice)}}function he(i,n){if(1&i&&t.YNc(0,ge,8,3,"ng-container",4),2&i){const e=n.$implicit,o=t.oxw(2);t.Q6J("ngIf",o.activeBtgmOrd!==o.fixtures[0].fixtureBetTypeGroups[0].btgMOrd&&o.activeBtgmOrd===e.btgMOrd)}}function xe(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),t._UZ(5,"i"),t.TgZ(6,"span",2),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"translate"),t.ALo(10,"translate"),t.YNc(11,Kt,2,1,"ng-container",4),t.qZA()(),t._UZ(12,"i",3),t.qZA()(),t.TgZ(13,"div",8)(14,"ul",18),t.YNc(15,Wt,3,4,"li",19),t.qZA(),t.YNc(16,re,10,2,"ng-template",20),t.YNc(17,he,1,1,"ng-template",21),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(5),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.HOy(" ",t.lcZ(8,11,"TEXTS.VIRTUAL_DOGS")," - ",t.lcZ(9,13,"TEXTS.DAY")," ",e.fixtures[0].seaN," - ",t.lcZ(10,15,"TEXTS.RACE")," "),t.xp6(4),t.Q6J("ngIf",e.seasonInfo),t.xp6(4),t.Q6J("ngForOf",e.fixtures[0].fixtureBetTypeGroups),t.xp6(1),t.Q6J("ngIf",e.activeBtgmOrd===e.fixtures[0].fixtureBetTypeGroups[0].btgMOrd),t.xp6(1),t.Q6J("ngForOf",e.fixtures[0].fixtureBetTypeGroups)}}x.N.map.virtualDogs;class ${constructor(n,e,o,r,s,c,a,g){this.virtualService=n,this.rootService=e,this.traderService=o,this.applicationService=r,this.translateFactory=s,this.translate=c,this.ofs=a,this.route=g,this.inProgress=!0,this.model={sportTypeId:84,seasonNumber:null,matchDay:null,urlParam:"vdr"},this.isUof=this.traderService.trader.uofEnabled,this.sliceLimit=20,this.mainTriCasts={},this.triCastInd={},this.errors={show:!1,message:""},this.iframeUrl=null,this.sport={cs:[{sns:[{fs:null}]}]},this.xids=[],this.svgTypes=["competitor","form","rating","lengthbehindwinner"],this.fixtures=null,this.destroyed$=new C.xQ;const _=r.settingList.find(u=>"iframe-virtual-dog"===u.parameter),p=new RegExp(/{lang}/,"g");this.iframeUrl=_.value.replace(p,s.currentLang.code),this.route.url.pipe((0,m.R)(this.destroyed$)).subscribe(u=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(u[1].path,"d"),this.traderService.trader.uofEnabled?this.beforeActionForUOF(this.virtualSportObj.sortName):this.beforeActionForLegacy(this.virtualSportObj.sortName)})}ngOnInit(){}beforeActionForLegacy(n){window.setVdrRace=e=>{this.inProgress=!0,this.model.seasonNumber=Number(e.Raceday_id),this.model.matchDay=Number(e.Race_number),this.model.urlParam=n,this.seasonInfo=e,this.pullVirtualDogsData()}}beforeActionForUOF(n){const e={urlParam:n,groupMatches:null};window.addEventListener("message",r=>{if(r){const s=document.getElementsByName("vdr_iframe")[0];let c=r.data;"string"==typeof c&&(c=JSON.parse(c));const a={type:c.messageType,data:c.messageData};switch(a.type){case"setHeight":s&&(document.getElementById("vdr_iframe").style.height=a.data.height+"px");break;case"svg:response":if(1===this.activeBtgmOrd){document.getElementById(a.data.competitor).innerHTML=a.data.svg}else{const _=document.getElementsByClassName(a.data.competitor);for(let p=0;p<=_.length;p++)_[p].innerHTML=a.data.svg}break;case"switchEvents":this.xids=[],this.raceName=a.data.unified_event_ids[0],e.groupMatches=[a.data.unified_event_ids[0].split(":")[2]],this.inProgress=!0;const g={requestBody:{urlParam:"vdr",groupMatches:e.groupMatches}};this.virtualService.getDogFixtures(g).then(_=>{try{this.fixtures=_;const p=Object.assign(this.fixtures);let u=0;for(const b in p)for(const k in p[b].btgs)24===p[b].btgs[k].btgMId&&(this.mainTriCasts[k]=p[b].btgs[k].fos,this.triCastInd[k]=k,u++);this.triCastInd.length=u,this.activeBtgmOrd=this.fixtures[0].fixtureBetTypeGroups[0].btgMOrd;const I=typeof window.document.vdr_iframe>"u"?window.vdr_iframe:window.document.vdr_iframe;setTimeout(()=>{this.fixtures[0].fCs.forEach(b=>{this.xids.push(b.xid),this.pMForSvg(I,b.xid,a.data.unified_event_ids[0])})},750),this.sport.cs[0].sns[0].fs=this.fixtures,_[0].btgs[0].active=!0,this.errors={show:!1,message:""}}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(u=>{this.errors={show:!0,message:u}})}this.inProgress=!1},_=>{try{this.translate.get(`MESSAGES.${_.responseCodes[0].responseKey}`).pipe((0,m.R)(this.destroyed$)).subscribe(p=>{this.errors={show:!0,message:p}})}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(u=>{this.errors={show:!0,message:u}})}this.inProgress=!1})}}})}pullVirtualDogsData(){this.inProgress=!0;const n=new l.qPv(this.model);this.virtualService.getDogFixtures(n).then(e=>{try{this.fixtures=e,this.activeBtgmOrd=this.fixtures[0].fixtureBetTypeGroups[0].btgMOrd,this.sport.cs[0].sns[0].fs=this.fixtures,e[0].btgs[0].active=!0,this.errors={show:!1,message:""}}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(r=>{this.errors={show:!0,message:r}})}this.inProgress=!1},e=>{try{this.translate.get(`MESSAGES.${e.responseCodes[0].responseKey}`).pipe((0,m.R)(this.destroyed$)).subscribe(o=>{this.errors={show:!0,message:o}})}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(r=>{this.errors={show:!0,message:r}})}this.inProgress=!1})}get activeBetButtons(){return this.rootService.activeBetButtons}openStatistic(){null!==document.getElementsByName("vdr_iframe")[0]&&window.document.vdr_iframe.openVdrStats(this.model.seasonNumber,this.model.matchDay)}setBtgM(n){if(n.btgMOrd===this.activeBtgmOrd)return!1;document.getElementsByName("vdr_iframe")[0];this.activeBtgmOrd=n.btgMOrd,3===this.activeBtgmOrd&&this.traderService.trader.uofEnabled&&this.sliceTricastFos(this.fixtures[0].btgs);const o=typeof window.document.vdr_iframe>"u"?window.vdr_iframe:window.document.vdr_iframe;setTimeout(()=>{this.xids.forEach(r=>{this.pMForSvg(o,r,this.raceName)})},500)}pMForSvg(n,e,o){n.postMessage(JSON.stringify({messageType:"svg:request",messageData:{type:this.svgTypes[0],race:o,competitor:`sr:competitor:${e}`,sport:"vdk"}}),"*")}sliceTricastFos(n){this.fosIsSlice=!0;const e=n.filter(r=>24===r.btgMId).map(r=>r.fos.slice(0,this.sliceLimit));let o=0;for(const r in this.triCastInd)this.fixtures[0].btgs[r].fos=e[o],o++}showMoreThreeFos(){this.fosIsSlice=!1;for(const n in this.triCastInd)this.fixtures[0].btgs[n].fos=this.mainTriCasts[n]}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}function ve(i,n){1&i&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}function be(i,n){if(1&i&&t._UZ(0,"message-box",13),2&i){const e=t.oxw();t.Q6J("content",e.errors.message)}}function Te(i,n){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.seasonInfo.Race_number)}}$.\u0275fac=function(n){return new(n||$)(t.Y36(l.xZw),t.Y36(l.U$c),t.Y36(l._W6),t.Y36(l.Wd0),t.Y36(l.chr),t.Y36(h.sK),t.Y36(l.Wo4),t.Y36(T.gz))},$.\u0275cmp=t.Xpm({type:$,selectors:[["app-virtual-dogs"]],decls:13,vars:10,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],["contentCode","virtual-dogs"],[1,"modul-content"],[1,"virtual-view"],["name","vdr_iframe","id","vdr_iframe","width","767","height","512",1,"iframeDefaultSize",3,"src"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"modul-header","virtual-dog-hourse-header"],[1,"flex-container"],[1,"flex-item"],[1,"tabs","tabs-fixed-width","virtual-dog-hourse-tabs"],["class","tab",4,"ngFor","ngForOf"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[1,"tab"],["href","javascript:;",3,"ngClass","click"],[1,"fixture-container"],[1,"fixture-header","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],["class","fixture-body flex-container",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],[1,"fixture-body","flex-container"],[1,"prediction-name"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[2,"float","left","width","30px","height","30px","margin-top","10px",3,"id"],[1,"element","flex-item","flex-container","bet-type"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map"],[1,"row"],["class","col",3,"ngClass",4,"ngFor","ngForOf"],[1,"col","s12"],[1,"col",3,"ngClass"],[1,"element","flex-item","bet-type",2,"display","block"],["class","prediction-name",4,"ngIf"],[1,"element","flex-item","flex-container","bet-type","prediction-btn",2,"display","flex"],["class","prediction-name",4,"ngFor","ngForOf"],[2,"float","left","width","30px","height","30px","margin-top","10px"],[1,"btn","w100","secondary-color",3,"click"]],template:function(n,e){1&n&&(t._UZ(0,"virtual-navbar"),t.TgZ(1,"div",0)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"i",3),t.qZA(),t.YNc(8,jt,5,3,"ng-container",4),t.qZA(),t.YNc(9,Rt,2,0,"div",5),t.YNc(10,Xt,1,1,"message-box",6),t.YNc(11,xe,18,17,"ng-container",4),t._UZ(12,"app-static-inner-content",7)),2&n&&(t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.hij(" ",t.lcZ(6,8,"TEXTS.VIRTUAL_DOGS")," "),t.xp6(3),t.Q6J("ngIf",e.iframeUrl),t.xp6(1),t.Q6J("ngIf",e.inProgress),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.errors.show),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.fixtures&&!e.errors.show))},dependencies:[f.mk,f.sg,f.O5,L.q,A.w,y.n,U.W,Z,f.JJ,h.X$,Q.z,q.Q],encapsulation:2});const D=function(i){return{active:i}};function Ze(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"li",21)(1,"a",22),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.setBtgM(s))}),t._uU(2),t.qZA()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,D,o.activeBtgmOrd===e.btgMOrd)),t.xp6(1),t.Oqu(e.name)}}function Ie(i,n){if(1&i&&(t.TgZ(0,"div",33),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.btgNO)}}function Ce(i,n){if(1&i&&t._UZ(0,"div",38),2&i){const e=t.oxw().$implicit;t.Q6J("id","sr:competitor:"+e.xid)}}function Se(i,n){if(1&i&&t._UZ(0,"img",39),2&i){const e=t.oxw().$implicit;t.Q6J("src","/vhc/jersey/903/"+e.aId+".png",t.LSH)}}const K=function(i,n){return{cI:0,sI:0,fI:0,bI:i,oI:n,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function we(i,n){if(1&i&&(t.TgZ(0,"a",42),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(),o=e.$implicit,r=e.index,s=t.oxw().$implicit,c=t.oxw(4);t.Q6J("ngClass",t.VKq(11,D,c.activeBetButtons[o.foId+"-1"]))("sport-type",c.sport)("bet-map",t.WLB(13,K,s.bI,r)),t.uIk("foId",o.foId),t.xp6(1),t.Oqu(t.xi3(2,5,t.xi3(3,8,o.hO,"1.2-2"),c.ofs.aOFI))}}function Oe(i,n){if(1&i&&t.YNc(0,we,4,16,"a",41),2&i){const e=n.$implicit,o=t.oxw(2).$implicit;t.Q6J("ngIf",e.mCId&&e.mCId[0]===o.fCId)}}function Ae(i,n){if(1&i&&(t.TgZ(0,"div",40),t.YNc(1,Oe,1,1,"ng-template",20),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngForOf",e.fos)}}function ye(i,n){if(1&i&&(t.TgZ(0,"div",34),t._UZ(1,"div",25)(2,"div",26),t.TgZ(3,"div",27)(4,"span",35),t.YNc(5,Ce,1,1,"ng-template",36),t.YNc(6,Se,1,1,"ng-template",36),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA()()(),t._UZ(11,"div",28)(12,"div",29)(13,"div",30),t.YNc(14,Ae,2,1,"div",37),t.qZA()),2&i){const e=n.$implicit,o=t.oxw(3);t.xp6(5),t.Q6J("ngIf",o.isUof),t.xp6(1),t.Q6J("ngIf",!o.isUof),t.xp6(1),t.Gre("box-",e.sB," box-main"),t.xp6(1),t.Oqu(e.sB),t.xp6(2),t.Oqu(e.fCN),t.xp6(4),t.Q6J("ngForOf",o.fixtures[0].fixtureBetTypeGroups[0].betTypeGroups)}}function Ue(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",23)(2,"div",24),t._UZ(3,"div",25)(4,"div",26)(5,"div",27)(6,"div",28)(7,"div",29)(8,"div",30),t.YNc(9,Ie,2,1,"div",31),t.qZA(),t.YNc(10,ye,15,8,"div",32),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.fixtures[0].fixtureBetTypeGroups[0].betTypeGroups),t.xp6(1),t.Q6J("ngForOf",e.fixtures[0].fCs)}}const W=function(i,n){return{s12:i,s6:n}};function qe(i,n){if(1&i&&(t.TgZ(0,"div",46)(1,"div",47),t._uU(2),t.qZA()()),2&i){const e=n.$implicit,o=t.oxw(4);t.Q6J("ngClass",t.WLB(2,W,o.triCastInd.length<2,o.triCastInd.length>1)),t.xp6(2),t.Oqu(e.btgN)}}function Ne(i,n){if(1&i&&t._UZ(0,"img",39),2&i){const e=t.oxw().$implicit;t.Q6J("src","/vhcstaging/jersey/903/"+e.aId+".png",t.LSH)}}function Fe(i,n){if(1&i&&t.YNc(0,Ne,1,1,"ng-template",36),2&i){const e=n.$implicit,o=t.oxw(2).$implicit;t.Q6J("ngIf",e.fCId===o)}}function Ve(i,n){if(1&i&&t.YNc(0,Fe,1,1,"ng-template",20),2&i){const e=t.oxw(8);t.Q6J("ngForOf",e.fixtures[0].fCs)}}function Be(i,n){if(1&i&&t._UZ(0,"div",51),2&i){const e=t.oxw().$implicit;t.Tol("sr:competitor:"+e.xid)}}function Ee(i,n){if(1&i&&t.YNc(0,Be,1,2,"ng-template",36),2&i){const e=n.$implicit,o=t.oxw(2).$implicit;t.Q6J("ngIf",e.fCId===o)}}function Le(i,n){if(1&i&&t.YNc(0,Ee,1,1,"ng-template",20),2&i){const e=t.oxw(8);t.Q6J("ngForOf",e.fixtures[0].fCs)}}function Qe(i,n){if(1&i&&(t.TgZ(0,"span",35),t.YNc(1,Ve,1,1,"ng-template",36),t.YNc(2,Le,1,1,"ng-template",36),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA()()),2&i){const e=n.$implicit,o=t.oxw(7);t.xp6(1),t.Q6J("ngIf",!o.isUof),t.xp6(1),t.Q6J("ngIf",o.isUof),t.xp6(1),t.Gre("box-",o.fixtures[0].numbers[e].sB," box-main"),t.xp6(1),t.Oqu(o.fixtures[0].numbers[e].sB),t.xp6(2),t.Oqu(o.fixtures[0].numbers[e].fCN)}}function Je(i,n){if(1&i&&t.YNc(0,Qe,7,7,"span",50),2&i){const e=t.oxw().$implicit;t.Q6J("ngForOf",e.mCId)}}function Ye(i,n){1&i&&(t.TgZ(0,"span",52),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TEXTS.OTHER")," "))}function $e(i,n){if(1&i&&(t.TgZ(0,"div",34)(1,"div",27),t.YNc(2,Je,1,1,"ng-template",36),t.YNc(3,Ye,3,3,"span",48),t.qZA(),t.TgZ(4,"div",49)(5,"a",42),t._uU(6),t.ALo(7,"oF"),t.ALo(8,"number"),t.qZA()()()),2&i){const e=n.$implicit,o=n.index,r=t.oxw().$implicit,s=t.oxw(4);t.xp6(2),t.Q6J("ngIf",e.mCId),t.xp6(1),t.Q6J("ngIf",!e.mCId),t.xp6(2),t.Q6J("ngClass",t.VKq(13,D,s.activeBetButtons[e.foId+"-1"]))("sport-type",s.sport)("bet-map",t.WLB(15,K,r.bI,o)),t.uIk("foId",e.foId),t.xp6(1),t.Oqu(t.xi3(7,7,t.xi3(8,10,e.hO,"1.2-2"),s.ofs.aOFI))}}function Pe(i,n){if(1&i&&(t.TgZ(0,"div",46),t.YNc(1,$e,9,18,"div",32),t.qZA()),2&i){const e=n.$implicit,o=t.oxw(4);t.Q6J("ngClass",t.WLB(2,W,o.triCastInd.length<2,o.triCastInd.length>1)),t.xp6(1),t.Q6J("ngForOf",e.fos)}}function Me(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",53),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(4);return t.KtG(r.showMoreThreeFos())}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"TEXTS.MORE_BETS")," "))}function ke(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",43)(2,"div",23)(3,"div",24),t.YNc(4,qe,3,5,"div",44),t.qZA(),t.YNc(5,Pe,2,5,"div",44),t.qZA(),t.TgZ(6,"div",45),t.YNc(7,Me,4,3,"ng-container",9),t.qZA()(),t.BQk()),2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.betTypeGroups),t.xp6(1),t.Q6J("ngForOf",e.betTypeGroups),t.xp6(2),t.Q6J("ngIf",o.fosIsSlice)}}function He(i,n){if(1&i&&t.YNc(0,ke,8,3,"ng-container",9),2&i){const e=n.$implicit,o=t.oxw(2);t.Q6J("ngIf",e.btgMOrd!==o.fixtures[0].fixtureBetTypeGroups[0].btgMOrd&&o.activeBtgmOrd===e.btgMOrd)}}function De(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),t._UZ(5,"i"),t.TgZ(6,"span",2),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"translate"),t.ALo(10,"translate"),t.YNc(11,Te,2,1,"ng-container",9),t.qZA()(),t._UZ(12,"i",3),t.qZA()(),t.TgZ(13,"div",4)(14,"ul",18),t.YNc(15,Ze,3,4,"li",19),t.qZA(),t.YNc(16,Ue,11,2,"ng-container",9),t.YNc(17,He,1,1,"ng-template",20),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(5),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.HOy(" ",t.lcZ(8,11,"TEXTS.VIRTUAL_HORSES")," - ",t.lcZ(9,13,"TEXTS.DAY")," ",e.fixtures[0].seaN," - ",t.lcZ(10,15,"TEXTS.RACE")," "),t.xp6(4),t.Q6J("ngIf",e.seasonInfo),t.xp6(4),t.Q6J("ngForOf",e.fixtures[0].fixtureBetTypeGroups),t.xp6(1),t.Q6J("ngIf",e.activeBtgmOrd===e.fixtures[0].fixtureBetTypeGroups[0].btgMOrd),t.xp6(1),t.Q6J("ngForOf",e.fixtures[0].fixtureBetTypeGroups)}}x.N.map.virtualHorses;class P{constructor(n,e,o,r,s,c,a,g){this.virtualService=n,this.rootService=e,this.traderService=o,this.route=r,this.applicationService=s,this.translateFactory=c,this.translate=a,this.ofs=g,this.inProgress=!0,this._fixtures=null,this.sliceLimit=20,this.iframeUrl=null,this.mainTriCasts={},this.triCastInd={},this.sport={cs:[{sns:[{fs:null}]}]},this.isUof=this.traderService.trader.uofEnabled,this.xids=[],this.svgTypes=["competitor","form","rating","lengthbehindwinner"],this.errors={show:!1,message:""},this.destroyed$=new C.xQ;const _=s.settingList.find(u=>"iframe-virtual-horse"===u.parameter),p=new RegExp(/{lang}/,"g");this.iframeUrl=_.value.replace(p,c.currentLang.code),this.route.url.pipe((0,m.R)(this.destroyed$)).subscribe(u=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(u[1].path,"d"),this.traderService.trader.uofEnabled?this.beforeActionForUOF(this.virtualSportObj.sortName):this.beforeActionForLegacy(this.virtualSportObj.sortName)})}get fixtures(){return this._fixtures}get activeBetButtons(){return this.rootService.activeBetButtons}ngOnInit(){}beforeActionForUOF(n){const e={urlParam:n,groupMatches:null};window.addEventListener("message",r=>{if(r){let s=r.data;const c=document.getElementsByName("vhr_iframe")[0];"string"==typeof s&&(s=JSON.parse(s));const a={type:s.messageType,data:s.messageData};switch(a.type){case"setHeight":c&&(document.getElementById("vhr_iframe").style.height=a.data.height+"px");break;case"svg:response":if(1===this.activeBtgmOrd){document.getElementById(a.data.competitor).innerHTML=a.data.svg}else{const _=document.getElementsByClassName(a.data.competitor);for(let p=0;p<=_.length;p++)_[p].innerHTML=a.data.svg}break;case"switchEvents":this.xids=[],this.raceName=a.data.unified_event_ids[0],e.groupMatches=[a.data.unified_event_ids[0].split(":")[2]],this.inProgress=!0;const g={requestBody:{urlParam:this.virtualSportObj.sortName,groupMatches:e.groupMatches}};this.virtualService.getHorseFixtures(g).then(_=>{try{this._fixtures=_;const p=Object.assign(this._fixtures);let u=0;for(const I in p)for(const b in p[I].btgs)24===p[I].btgs[b].btgMId&&(this.mainTriCasts[b]=p[I].btgs[b].fos,this.triCastInd[b]=b,u++);this.triCastInd.length=u,setTimeout(()=>{this._fixtures[0].fCs.forEach(I=>{this.xids.push(I.xid),this.pMForSvg(window.document.vhr_iframe,I.xid,a.data.unified_event_ids[0])})},750),this.activeBtgmOrd=this._fixtures[0].fixtureBetTypeGroups[0].btgMOrd,this.sport.cs[0].sns[0].fs=this._fixtures,_[0].btgs[0].active=!0,this.errors={show:!1,message:""}}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(u=>{this.errors={show:!0,message:u}})}this.inProgress=!1},_=>{try{this.translate.get(`MESSAGES.${_.responseCodes[0].responseKey}`).pipe((0,m.R)(this.destroyed$)).subscribe(p=>{this.errors={show:!0,message:p}})}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(u=>{this.errors={show:!0,message:u}})}this.inProgress=!1})}}})}beforeActionForLegacy(n){window.setVhcRace=e=>{this.model={requestBody:{sportTypeId:83,seasonNumber:Number(e.Raceday_id),matchDay:Number(e.Race_number),urlParam:n}},this.seasonInfo=e,this.pullvirtualHorsesData(this.model)}}pullvirtualHorsesData(n){this.inProgress=!0,this.virtualService.getHorseFixtures(n).then(e=>{try{this._fixtures=e,this.activeBtgmOrd=this._fixtures[0].fixtureBetTypeGroups[0].btgMOrd,this.sport.cs[0].sns[0].fs=this._fixtures,e[0].btgs[0].active=!0,this.errors={show:!1,message:""}}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(r=>{this.errors={show:!0,message:r}})}this.inProgress=!1},e=>{try{this.translate.get(`MESSAGES.${e.responseCodes[0].responseKey}`).pipe((0,m.R)(this.destroyed$)).subscribe(o=>{this.errors={show:!0,message:o}})}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(r=>{this.errors={show:!0,message:r}})}this.inProgress=!1})}openStatistic(){document.getElementsByName("vhr_iframe")[0];null!==window.document.vhr_iframe&&window.document.vhr_iframe.openVhcStats(this.model.requestBody.seasonNumber,this.model.requestBody.matchDay)}setBtgM(n){if(n.btgMOrd===this.activeBtgmOrd)return!1;this.activeBtgmOrd=n.btgMOrd;document.getElementsByName("vhr_iframe")[0];3===this.activeBtgmOrd&&this.traderService.trader.uofEnabled&&this.sliceTricastFos(this._fixtures[0].btgs),setTimeout(()=>{this.xids.forEach(o=>{this.pMForSvg(window.document.vhr_iframe,o,this.raceName)})},500)}pMForSvg(n,e,o){n.postMessage(JSON.stringify({messageType:"svg:request",messageData:{type:this.svgTypes[0],race:o,competitor:`sr:competitor:${e}`,sport:"vhk"}}),"*")}sliceTricastFos(n){this.fosIsSlice=!0;const e=n.filter(r=>24===r.btgMId).map(r=>r.fos.slice(0,this.sliceLimit));let o=0;for(const r in this.triCastInd)this.fixtures[0].btgs[r].fos=e[o],o++}showMoreThreeFos(){this.fosIsSlice=!1;for(const n in this.triCastInd)this.fixtures[0].btgs[n].fos=this.mainTriCasts[n]}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}P.\u0275fac=function(n){return new(n||P)(t.Y36(l.xZw),t.Y36(l.U$c),t.Y36(l._W6),t.Y36(T.gz),t.Y36(l.Wd0),t.Y36(l.chr),t.Y36(h.sK),t.Y36(l.Wo4))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-virtual-horses"]],decls:16,vars:12,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[1,"modul-content"],[1,"virtual-view"],["name","vhr_iframe","id","vhr_iframe","width","767","height","512",3,"src"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],[4,"ngIf"],["contentCode","virtual-horses"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"modul-header","virtual-dog-hourse-header"],[1,"flex-container"],[1,"flex-item"],[1,"tabs","tabs-fixed-width","virtual-dog-hourse-tabs"],["class","tab",4,"ngFor","ngForOf"],["ngFor","",3,"ngForOf"],[1,"tab"],["href","javascript:;",3,"ngClass","click"],[1,"fixture-container"],[1,"fixture-header","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],["class","fixture-body flex-container",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],[1,"fixture-body","flex-container"],[1,"prediction-name","horse"],[3,"ngIf"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[2,"float","left","width","30px","height","30px","margin-top","10px",3,"id"],["align","left",3,"src"],[1,"element","flex-item","flex-container","bet-type"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map"],[1,"row"],["class","col",3,"ngClass",4,"ngFor","ngForOf"],[1,"col","s12"],[1,"col",3,"ngClass"],[1,"element","flex-item","bet-type",2,"display","block"],["class","prediction-name",4,"ngIf"],[1,"element","flex-item","flex-container","bet-type","prediction-btn",2,"display","flex"],["class","prediction-name horse",4,"ngFor","ngForOf"],[2,"float","left","width","30px","height","30px","margin-top","10px"],[1,"prediction-name"],[1,"btn","w100","secondary-color",3,"click"]],template:function(n,e){1&n&&(t._UZ(0,"virtual-navbar"),t.TgZ(1,"div",0)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"i",3),t.qZA(),t.TgZ(8,"div",4)(9,"div",5),t._UZ(10,"iframe",6),t.ALo(11,"safeUrl"),t.qZA()()(),t.YNc(12,ve,2,0,"div",7),t.YNc(13,be,1,1,"message-box",8),t.YNc(14,De,18,17,"ng-container",9),t._UZ(15,"app-static-inner-content",10)),2&n&&(t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.hij(" ",t.lcZ(6,8,"TEXTS.VIRTUAL_HORSES")," "),t.xp6(5),t.Q6J("src",t.lcZ(11,10,e.iframeUrl),t.uOi),t.xp6(2),t.Q6J("ngIf",e.inProgress),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.errors.show),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.fixtures&&!e.errors.show))},dependencies:[f.mk,f.sg,f.O5,L.q,A.w,y.n,U.W,Z,f.JJ,h.X$,Q.z,q.Q],encapsulation:2});var z=d(5020);function Ge(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4),t._UZ(4,"message-box",5),t.qZA(),t.TgZ(5,"button",6),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.openModal())}),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.BQk()}2&i&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"FIELDS.SEND")))}function je(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",11)(2,"div",12),t._UZ(3,"iframe",13),t.ALo(4,"safeUrl"),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("src",t.lcZ(4,1,e.iframeUrl),t.uOi)}}function Re(i,n){1&i&&(t.TgZ(0,"div",14),t._UZ(1,"div",15),t.qZA())}function Xe(i,n){if(1&i&&t._UZ(0,"message-box",16),2&i){const e=t.oxw(2);t.Q6J("content",e.errors.message)}}function Ke(i,n){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,je,5,3,"ng-container",8),t.qZA(),t.YNc(2,Re,2,0,"div",9),t.YNc(3,Xe,1,1,"message-box",10)),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.iframeUrl),t.xp6(1),t.Q6J("ngIf",e.inProgress),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.errors.show)}}x.N.map.virtualProviderDetails;class M{constructor(n,e,o,r,s,c,a,g,_,p){this.userService=n,this.virtualService=e,this.rootService=o,this.translateFactory=r,this.translate=s,this.route=c,this.utilService=a,this.headerComponent=g,this.traderService=_,this.router=p,this.inProgress=!0,this.destroy$=new C.xQ,this.errors={show:!1,message:""},this.showLoginButton=!1}ngOnInit(){this.providerCode=this.route.snapshot.params.providerCode,"pragmatic-play"===this.providerCode&&!this.traderService.trader.isEnablePragmaticVirtuals&&this.router.navigate(["/"]),this.isLoggedInSubs=this.userService.isLoggedIn$.subscribe(n=>{"pragmatic-play"!==this.providerCode||n.username?(this.showLoginButton=!1,this.getIframeUrl()):this.showLoginButton=!0}),this.defineWindowFunctions(),(!this.userService.isAuth()||this.userService.user)&&(this.userService.isAuth()||"pragmatic-play"!==this.providerCode?(this.showLoginButton=!1,this.getIframeUrl()):this.showLoginButton=!0)}ngAfterViewInit(){setTimeout(()=>{this.setMeta()},2e3)}ngOnDestroy(){this.isLoggedInSubs.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}defineWindowFunctions(){window.resizeIframe=n=>{const e=document.body,o=document.documentElement,r=Math.max(e.scrollHeight,e.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);n.height=r+"px",this.utilService.initGoldenRaceWidget("vg_iframe",this.destroy$)}}getIframeUrl(){const n=this.route.snapshot.params.iframeProviderGameId,e=this.translateFactory.currentLang.betradarLangId||this.translateFactory.currentLang.id;let o=0,r=null;this.userService.user&&this.userService.user.customerId&&(o=1,r=this.userService.user.customerId),this.virtualService.getVirtualGameUrl(this.providerCode,n,o,"m",r,e).then(s=>{s.success?(this.errors={message:"",show:!1},this.iframeUrl=s.data.gameUrl):this.translate.get("MESSAGES."+s.data.errorCode).subscribe(c=>{this.errors={message:c,show:!0}}),this.inProgress=!1}).catch(s=>{this.inProgress=!1,this.translate.get(`MESSAGES.${s.error.responseCodes[0].responseKey}`).subscribe(c=>{this.errors={message:c,show:!0}})})}setMeta(){this.rootService.setPageMetaData("virtualSportsPage")}openModal(){this.headerComponent.openModal()}}M.\u0275fac=function(n){return new(n||M)(t.Y36(l.Ye3),t.Y36(l.xZw),t.Y36(l.U$c),t.Y36(l.chr),t.Y36(h.sK),t.Y36(T.gz),t.Y36(l.XN8),t.Y36(z.G),t.Y36(l._W6),t.Y36(T.F0))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-virtual-provider-details"]],features:[t._Bn([z.G])],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showVirtualGame",""],[1,"casino-detail-cntr"],[1,"flex-container","signin-msg-csn"],[1,"flex-item"],["type","info","content","LINKS.BINGO_LOGIN_BUTTON"],[1,"btn","t1",3,"click"],["accordion","",1,"virtual-provider-details","modul-accordion","sport-type"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],[1,"modul-content"],[1,"virtual-view"],["id","vg_iframe","name","vg_iframe","width","100%","height","617px","onload","resizeIframe(this)",1,"iframeDefaultSize",3,"src"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"]],template:function(n,e){if(1&n&&(t.YNc(0,Ge,8,3,"ng-container",0),t.YNc(1,Ke,4,3,"ng-template",null,1,t.W1O)),2&n){const o=t.MAs(2);t.Q6J("ngIf",e.showLoginButton)("ngIfElse",o)}},dependencies:[f.O5,A.w,U.W,h.X$,q.Q],encapsulation:2});const We=function(i,n){return["/",i,"bet","virtuals","betradar",n]};function ze(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",12)(2,"a",13),t.ALo(3,"translate"),t.TgZ(4,"div",14),t._UZ(5,"img",15)(6,"img",16),t.qZA(),t.TgZ(7,"div",17),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.BQk()),2&i){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(2),t.s9C("title",t.lcZ(3,6,e.name)),t.Q6J("routerLink",t.WLB(10,We,o.currentLang,e.url)),t.xp6(3),t.hYB("src","",o.traderDefaults.tCDNU,"common/assets/images/virtuals/virtual-",e.url,".jpg",t.LSH),t.xp6(1),t.MGl("src","",o.traderDefaults.tCDNU,"common/assets/images/loading.gif",t.LSH),t.xp6(2),t.hij(" ",t.lcZ(9,8,e.name)," ")}}function ti(i,n){if(1&i&&(t.ynx(0),t.YNc(1,ze,10,13,"ng-container",6),t.BQk()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",e.isActive&&e.isDesktop)}}function ei(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",7)(2,"div",8)(3,"h4",9),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",10)(7,"div",5),t.YNc(8,ti,2,1,"ng-container",11),t.qZA()()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,"LINKS.BETRADAR_VIRTUALS")," "),t.xp6(4),t.Q6J("ngForOf",e.menuItems)}}function ii(i,n){if(1&i&&(t.TgZ(0,"div",12)(1,"a",13)(2,"div",14),t._UZ(3,"img",15)(4,"img",16),t.qZA(),t.TgZ(5,"div",17),t._uU(6),t.qZA()()()),2&i){const e=t.oxw(2).$implicit,o=t.oxw();t.xp6(1),t.s9C("title",e.lobby.name),t.Q6J("routerLink","/"+o.currentLang+"/bet/virtuals/"+e.provider.code+"/"+e.lobby.iframeProviderGameId),t.xp6(2),t.hYB("src","",o.traderDefaults.tCDNU,"common/assets/images/virtuals/virtual-",e.lobby.iframeProviderGameId,".jpg",t.LSH),t.xp6(1),t.MGl("src","",o.traderDefaults.tCDNU,"common/assets/images/loading.gif",t.LSH),t.xp6(2),t.hij(" ",e.lobby.name," ")}}function ni(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",12)(2,"a",13)(3,"div",14),t._UZ(4,"img",15)(5,"img",16),t.qZA(),t.TgZ(6,"div",17),t._uU(7),t.qZA()()(),t.BQk()),2&i){const e=n.$implicit,o=t.oxw(2).$implicit,r=t.oxw();t.xp6(2),t.s9C("title",e.name),t.Q6J("routerLink","/"+r.currentLang+"/bet/virtuals/"+o.provider.code+"/"+e.iframeProviderGameId),t.xp6(2),t.hYB("src","",r.traderDefaults.tCDNU,"common/assets/images/virtuals/virtual-",e.iframeProviderGameId,".jpg",t.LSH),t.xp6(1),t.MGl("src","",r.traderDefaults.tCDNU,"common/assets/images/loading.gif",t.LSH),t.xp6(2),t.hij(" ",e.name," ")}}function oi(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",7)(2,"div",8)(3,"h4",9),t._uU(4),t.qZA()(),t.TgZ(5,"div",10)(6,"div",5),t.YNc(7,ii,7,6,"div",18),t.YNc(8,ni,8,6,"ng-container",11),t.qZA()()(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",e.provider.name," "),t.xp6(3),t.Q6J("ngIf",e.lobby&&e.lobby.iframeProviderGameId),t.xp6(1),t.Q6J("ngForOf",e.games)}}function ri(i,n){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,ei,9,4,"ng-container",6),t.YNc(2,oi,9,3,"ng-container",6),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf","betradar"===(null==e||null==e.provider?null:e.provider.code)&&!(null==e||null==e.provider||!e.provider.virtual)),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.provider?null:e.provider.virtual)&&"betradar"!==e.provider.code)}}x.N.map.virtualsLanding;class V{constructor(n,e,o,r,s,c,a){this.router=n,this.translateFactory=e,this.traderService=o,this.rootService=r,this.virtualService=s,this.translate=c,this.route=a,this.providers=[],this.inProgress=!0,this.errors={show:!1,message:""},this.destroyed$=new C.xQ}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.traderDefaults=this.traderService.trader,this.menuItems=new l.vJe(x.N.trader.name,"d",x.N.trader.isSportingTechTrader,this.traderDefaults).items,this.grEnabled=this.traderService.trader.gre,this.route.params.pipe((0,m.R)(this.destroyed$)).subscribe(n=>{this.providerCode=n.providerCode,this.grEnabled?this.getVirtualProviders():(this.addBetradarToProviders(),this.inProgress=!1)}),this.menuItems=(0,j.Z)(this.menuItems,["orderBy","ordering"],["asc","asc"])}get virtualMenuItems(){return"x"}getVirtualProviders(){this.virtualService.getVirtualProviders().then(n=>{if(this.providerCode){let e;e="betradar"===this.providerCode&&this.traderService.trader.isVisibleBetradarVirtuals?{provider:{code:"betradar",name:"Betradar",virtual:!0}}:n.find(o=>o.provider.code===this.providerCode),this.providers=[e]}else this.providers=n,this.traderService.trader.isVisibleBetradarVirtuals&&this.addBetradarToProviders(),this.traderService.trader.virtualBetOrder&&this.orderProviders();if(!this.traderService.trader.isEnablePragmaticVirtuals){const e=this.providers.indexOf(this.providers.find(o=>"pragmatic-play"===o.provider.code));e>-1&&this.providers.splice(e,1)}this.inProgress=!1}).catch(n=>{this.inProgress=!1,this.translate.get("MESSAGES."+n.error.data).pipe((0,m.R)(this.destroyed$)).subscribe(e=>{this.errors={message:e,show:!0}})})}addBetradarToProviders(){!this.providers.some(n=>"betradar"===n.provider.code)&&this.traderService.trader.isVisibleBetradarVirtuals&&this.providers.unshift({provider:{code:"betradar",name:"Betradar",virtual:!0}})}goToProviderLobby(n){n.lobby&&n.lobby.iframeProviderGameId?this.router.navigate(["/",this.currentLang,"bet","virtuals",n.provider.code,n.lobby.iframeProviderGameId]):this.router.navigate(["/",this.currentLang,"bet","virtuals",n.provider.code,n.games[0].iframeProviderGameId])}setMeta(){this.rootService.setPageMetaData("virtualSportsPage")}orderProviders(){let n=this.traderService.trader.virtualBetOrder;this.providers.sort((e,o)=>{var r=e.provider.code,s=o.provider.code;return n.indexOf(r)<0?1:n.indexOf(s)<0?-1:n.indexOf(r)-n.indexOf(s)})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}V.\u0275fac=function(n){return new(n||V)(t.Y36(T.F0),t.Y36(l.chr),t.Y36(l._W6),t.Y36(l.U$c),t.Y36(l.xZw),t.Y36(h.sK),t.Y36(T.gz))},V.\u0275cmp=t.Xpm({type:V,selectors:[["virtuals-landing"]],decls:6,vars:1,consts:[[1,"e-sport-bg"],[1,"container","casino-cntr"],["contentCode","virtualsports"],["class","row",4,"ngFor","ngForOf"],["contentCode","virtualsports-bottom"],[1,"row"],[4,"ngIf"],[1,"col","s12","right-content"],[1,"flex-container","clear"],[1,"rtitle","flex-item"],[1,"gm-cntr"],[4,"ngFor","ngForOf"],[1,"col","pg-grd-6","csn-crd-col"],["href","javascript:;",1,"csn-crd",3,"routerLink","title"],[1,"crd-img"],["alt","",1,"gm-img",3,"src"],["alt","",1,"gm-img","loading",3,"src"],[1,"crd-nm"],["class","col pg-grd-6 csn-crd-col",4,"ngIf"]],template:function(n,e){1&n&&(t._UZ(0,"virtual-navbar"),t.TgZ(1,"div",0)(2,"div",1),t._UZ(3,"app-static-inner-content",2),t.YNc(4,ri,3,2,"div",3),t._UZ(5,"app-static-inner-content",4),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("ngForOf",e.providers))},dependencies:[f.sg,f.O5,y.n,T.rH,Z,h.X$],encapsulation:2});var si=d(72986);const ai={"virtual-euro-cup":{name:"virtual-euro-cup",iframeUrl:"iframe-virtual-eurocup",iframeSize:{width:"766",height:"571"},meta:"virtualSports.football-euro-cup",headerText:"TEXTS.VIRTUAL_FOOTBALL_EURO_CUP",seasonText:"TEXTS.VFEC_SEASON",iframeSelector:"vfec_iframe",iframeMatches:"setVfecMatches",iframeHeight:"setVfecHeight",stats:"openVfecStats",contentCode:"virtual-football-euro-cup",statisticsParameter:"betradar-virtual-football",model:(i,n)=>({sportTypeId:80,seasonNumber:Number(i.competition_nr),matchDay:Number(i.matchset_nr),groupMatches:i.match_ids,urlParam:n})},"virtual-world-cup":{name:"virtual-world-cup",meta:"virtualSports.football-world-cup",iframeUrl:"virtual-football-world-cup",iframeSize:{width:"766",height:"571"},headerText:"TEXTS.VIRTUAL_FOOTBALL_WORLD_CUP",seasonText:"TEXTS.VFWC_SEASON",iframeSelector:"vfwc_iframe",iframeMatches:"setVfMatches",iframeHeight:"setVfHeight",stats:"openVfStats",contentCode:"virtual-football-world-cup",statisticsParameter:"betradar-virtual-football",model:(i,n)=>({sportTypeId:80,seasonNumber:Number(i.competition_nr),matchDay:Number(i.matchset_nr),groupMatches:i.match_ids,urlParam:n})},"virtual-football-nation-cup":{name:"virtual-football-nation-cup",meta:"virtualSports.football-nation-cup",iframeUrl:"virtual-football-nation-cup",iframeSize:{width:"766",height:"571"},headerText:"TEXTS.VIRTUAL_FOOTBALL_NATION_CUP",seasonText:"TEXTS.VFNC_SEASON",iframeSelector:"vfnc_iframe",iframeMatches:"setVfecMatches",iframeHeight:"setVfecHeight",stats:"openVfecStats",contentCode:"virtual-football-nations-cup",statisticsParameter:"betradar-virtual-football",model:(i,n)=>({sportTypeId:80,seasonNumber:Number(i.competition_nr),matchDay:Number(i.matchset_nr),groupMatches:i.match_ids,urlParam:n})},"virtual-league-mod":{name:"virtual-league-mod",meta:"virtualSports.football-nation-cup",iframeUrl:"virtual-football-league-mode",iframeSize:{width:"762",height:"571"},headerText:"TEXTS.VIRTUAL_FOOTBALL_LEAGUE_MODE",seasonText:"TEXTS.VFLM_SEASON",iframeSelector:"vlm_iframe",iframeMatches:"setVfMatches",iframeHeight:"setVfHeight",stats:"openVfecStats",contentCode:"virtual-football-league-mode",statisticsParameter:"",model:(i,n)=>({sportTypeId:80,seasonNumber:Number(i.competition_nr),matchDay:Number(i.matchset_nr),groupMatches:i.match_ids,urlParam:n})},"virtual-asian-cup":{name:"virtual-asian-cup",meta:"virtualSports.football-asian-cup",iframeUrl:"virtual-football-asian-cup",iframeSize:{width:"762",height:"571"},headerText:"LINKS.VIRTUAL_FOOTBALL_ASIAN_CUP",seasonText:"TEXTS.VFAC_SEASON",iframeSelector:"vfac_iframe",iframeMatches:"setVfecMatches",iframeHeight:"setVfecHeight",stats:"openVfecStats",contentCode:"virtual-asian-cup",statisticsParameter:"betradar-virtual-football",model:(i,n)=>({sportTypeId:80,seasonNumber:Number(i.competition_nr),matchDay:Number(i.matchset_nr),groupMatches:i.match_ids,urlParam:n})},"virtual-champions-cup":{name:"virtual-champions-cup",meta:"virtualSports.football-champions-cup",iframeUrl:"virtual-football-champions-cup",iframeSize:{width:"766",height:"571"},headerText:"LINKS.VIRTUAL_FOOTBALL_CHAMPIONS_CUP",seasonText:"TEXTS.VFCC_SEASON",iframeSelector:"vfcc_iframe",iframeMatches:"setVfMatches",iframeHeight:"setVfHeight",stats:"openVfStats",contentCode:"virtual-champions-cup",statisticsParameter:"betradar-virtual-football",model:(i,n)=>({sportTypeId:80,seasonNumber:Number(i.competition_nr),matchDay:Number(i.matchset_nr),groupMatches:i.match_ids,urlParam:n})},"virtual-bundesliga":{name:"virtual-bundesliga",meta:"virtualSports.football-bundesliga",iframeUrl:"virtual-football-bundesliga",iframeSize:{width:"766",height:"612"},headerText:"LINKS.VIRTUAL_FOOTBALL_BUNDESLIGA",seasonText:"TEXTS.VFB_SEASON",iframeSelector:"vfb_iframe",iframeMatches:"setVfMatches",iframeHeight:"setVfHeight",stats:"openVfStats",contentCode:"virtual-bundesliga",statisticsParameter:"virtual-football-bundesliga",model:(i,n)=>({sportTypeId:80,seasonNumber:Number(i.competition_nr),matchDay:Number(i.matchset_nr),groupMatches:i.match_ids,urlParam:n})},"virtual-basketball":{name:"virtual-basketball",meta:"virtualSports.basketball",iframeUrl:"iframe-virtual-basketball",iframeSize:{width:"762",height:"670"},headerText:"TEXTS.VIRTUAL_BASKETBALL",seasonText:"TEXTS.VBL_SEASON",iframeSelector:"vbl_iframe",iframeMatches:"setVblMatchday",iframeHeight:"setVblHeight",contentCode:"virtual-basketball",stats:"openVblStats",model:(i,n)=>({sportTypeId:45,seasonNumber:Number(i.season_name),matchDay:Number(i.match_day),urlParam:n})}};function ci(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",9),t._UZ(3,"iframe",10),t.ALo(4,"safeUrl"),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("name",null==e.configuration?null:e.configuration.iframeSelector)("id",null==e.configuration?null:e.configuration.iframeSelector)("src",t.lcZ(4,5,e.iframeUrl),t.uOi)("width",null==e.configuration||null==e.configuration.iframeSize?null:e.configuration.iframeSize.width)("height",null==e.configuration||null==e.configuration.iframeSize?null:e.configuration.iframeSize.height)}}function li(i,n){1&i&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}function _i(i,n){if(1&i&&t._UZ(0,"message-box",13),2&i){const e=t.oxw();t.Q6J("content",e.errors.message)}}function pi(i,n){if(1&i&&(t.TgZ(0,"div",40),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Oqu(e.btgNO)}}function ui(i,n){if(1&i&&(t.TgZ(0,"div",38),t._UZ(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",23)(5,"div",24)(6,"div",25),t.YNc(7,pi,2,1,"div",39),t._UZ(8,"div",27)(9,"div",30),t.qZA()),2&i){const e=t.oxw(3);t.xp6(7),t.Q6J("ngForOf",e.fixtures[0].btgs2)}}function mi(i,n){1&i&&(t.TgZ(0,"div",38)(1,"div",21),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",30),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TEXTS.MATCH")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TEXTS.OTHER")))}const O=function(i){return{active:i}},B=function(i,n,e){return{cI:0,sI:0,fI:i,bI:n,oI:e,sl:1,isVirtual:!0,isPreLive:!1,isLive:!1}};function fi(i,n){if(1&i&&(t.TgZ(0,"a",43),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2).index,o=t.oxw().$implicit,r=t.oxw().index,s=t.oxw(2);t.Q6J("ngClass",t.VKq(11,O,s.activeBetButtons[o.fos[e+1].foId+"-1"]))("sport-type",s.sport)("bet-map",t.kEZ(13,B,r,o.bI,e+1)),t.uIk("foId",o.fos[e+1].foId),t.xp6(1),t.Oqu(t.xi3(2,5,t.xi3(3,8,o.fos[e+1].hO,"1.2-2"),s.ofs.aOFI))}}function di(i,n){if(1&i&&(t.TgZ(0,"a",43),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2).index,o=t.oxw().$implicit,r=t.oxw().index,s=t.oxw(2);t.Q6J("ngClass",t.VKq(11,O,s.activeBetButtons[o.fos[e+2].foId+"-1"]))("sport-type",s.sport)("bet-map",t.kEZ(13,B,r,o.bI,e+2)),t.uIk("foId",o.fos[e+2].foId),t.xp6(1),t.Oqu(t.xi3(2,5,t.xi3(3,8,o.fos[e+2].hO,"1.2-2"),s.ofs.aOFI))}}function gi(i,n){if(1&i&&(t.TgZ(0,"a",43),t._uU(1),t.ALo(2,"oF"),t.ALo(3,"number"),t.qZA(),t.YNc(4,fi,4,17,"a",44),t.YNc(5,di,4,17,"a",44)),2&i){const e=t.oxw(),o=e.$implicit,r=e.index,s=t.oxw().$implicit,c=t.oxw().index,a=t.oxw(2);t.Q6J("ngClass",t.VKq(13,O,a.activeBetButtons[o.foId+"-1"]))("sport-type",a.sport)("bet-map",t.kEZ(15,B,c,s.bI,r)),t.uIk("foId",o.foId),t.xp6(1),t.Oqu(t.xi3(2,7,t.xi3(3,10,o.hO,"1.2-2"),a.ofs.aOFI)),t.xp6(3),t.Q6J("ngIf",s.fos[r+1]),t.xp6(1),t.Q6J("ngIf",s.fos[r+2])}}function hi(i,n){if(1&i&&t.YNc(0,gi,6,19,"ng-template",42),2&i){const e=n.index;t.Q6J("ngIf",0===e)}}function xi(i,n){if(1&i&&(t.TgZ(0,"div",41),t.YNc(1,hi,1,1,"ng-template",16),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngForOf",e.fos)}}function vi(i,n){if(1&i&&(t.TgZ(0,"a",49)(1,"span",50),t._uU(2),t.qZA(),t.TgZ(3,"span",51),t._uU(4),t.ALo(5,"oF"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw(2).index,o=t.oxw(),r=o.$implicit,s=o.index,c=t.oxw().index,a=t.oxw(2);t.s9C("title",r.fos[e+1].hSh),t.Q6J("ngClass",t.VKq(13,O,a.activeBetButtons[r.fos[e+1].foId+"-1"]))("sport-type",a.sport)("bet-map",t.kEZ(15,B,c,s,e+1)),t.uIk("foId",r.fos[e+1].foId),t.xp6(2),t.Oqu(r.fos[e+1].hSh),t.xp6(2),t.Oqu(t.xi3(5,7,t.xi3(6,10,r.fos[e+1].hO,"1.2-2"),a.ofs.aOFI))}}function bi(i,n){if(1&i&&(t.TgZ(0,"a",49)(1,"span",50),t._uU(2),t.qZA(),t.TgZ(3,"span",51),t._uU(4),t.ALo(5,"oF"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw(2).index,o=t.oxw(),r=o.$implicit,s=o.index,c=t.oxw().index,a=t.oxw(2);t.s9C("title",r.fos[e+2].hSh),t.Q6J("ngClass",t.VKq(13,O,a.activeBetButtons[r.fos[e+2].foId+"-1"]))("sport-type",a.sport)("bet-map",t.kEZ(15,B,c,s,e+2)),t.uIk("foId",r.fos[e+2].foId),t.xp6(2),t.Oqu(r.fos[e+2].hSh),t.xp6(2),t.Oqu(t.xi3(5,7,t.xi3(6,10,r.fos[e+2].hO,"1.2-2"),a.ofs.aOFI))}}function Ti(i,n){if(1&i&&(t.TgZ(0,"div",48)(1,"a",49)(2,"span",50),t._uU(3),t.qZA(),t.TgZ(4,"span",51),t._uU(5),t.ALo(6,"oF"),t.ALo(7,"number"),t.qZA()(),t.YNc(8,vi,7,19,"a",52),t.YNc(9,bi,7,19,"a",52),t.qZA()),2&i){const e=t.oxw(),o=e.$implicit,r=e.index,s=t.oxw(),c=s.index,a=s.$implicit,g=t.oxw().index,_=t.oxw(2);t.xp6(1),t.s9C("title",o.hSh),t.Q6J("ngClass",t.VKq(15,O,_.activeBetButtons[o.foId+"-1"]))("sport-type",_.sport)("bet-map",t.kEZ(17,B,g,c,r)),t.uIk("foId",o.foId),t.xp6(2),t.Oqu(o.hSh),t.xp6(2),t.Oqu(t.xi3(6,9,t.xi3(7,12,o.hO,"1.2-2"),_.ofs.aOFI)),t.xp6(3),t.Q6J("ngIf",a.dt[0]>1&&a.fos[r+1]),t.xp6(1),t.Q6J("ngIf",3===a.dt[0]&&a.fos[r+2])}}function Zi(i,n){if(1&i&&t.YNc(0,Ti,10,21,"div",47),2&i){const e=n.index,o=t.oxw().$implicit;t.Q6J("ngIf",e%o.dt[0]==0)}}function Ii(i,n){if(1&i&&(t.TgZ(0,"tr")(1,"td")(2,"div",45)(3,"div",46),t._uU(4),t.qZA()(),t.YNc(5,Zi,1,1,"ng-template",16),t.qZA()()),2&i){const e=n.$implicit;t.xp6(4),t.Oqu(e.btgN),t.xp6(1),t.Q6J("ngForOf",e.fos)}}function Ci(i,n){if(1&i){const e=t.EpF();t.YNc(0,ui,10,1,"div",17),t.YNc(1,mi,7,6,"div",17),t.TgZ(2,"div",18),t._UZ(3,"div",19),t.TgZ(4,"div",20),t._uU(5),t.qZA(),t.TgZ(6,"div",21)(7,"a",22),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"a",22),t._uU(11),t.qZA()(),t._UZ(12,"div",23)(13,"div",24)(14,"div",25),t.YNc(15,xi,2,1,"div",26),t.TgZ(16,"div",27)(17,"a",28),t.NdJ("click",function(r){const c=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.openStatistic(c,r))}),t.TgZ(18,"i",29),t._uU(19,"equalizer"),t.qZA()()(),t.TgZ(20,"div",30)(21,"span",31),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.active=!s.active)}),t._uU(22),t.qZA()()(),t.TgZ(23,"div",32)(24,"div",33)(25,"h6",34),t._uU(26),t.TgZ(27,"b"),t._uU(28,"VS"),t.qZA(),t._uU(29),t._UZ(30,"br"),t.TgZ(31,"span",35),t._uU(32),t.qZA()(),t.TgZ(33,"a",36),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.KtG(s.active=!1)}),t.TgZ(34,"i",29),t._uU(35,"close"),t.qZA()()(),t.TgZ(36,"table")(37,"tbody"),t.YNc(38,Ii,6,2,"tr",37),t.qZA()()()}if(2&i){const e=n.$implicit,o=n.index;t.Q6J("ngIf",0===o),t.xp6(1),t.Q6J("ngIf",0===o),t.xp6(4),t.Oqu(e.mCod),t.xp6(3),t.Oqu(e.hcN),t.xp6(3),t.Oqu(e.acN),t.xp6(4),t.Q6J("ngForOf",e.btgs2),t.xp6(7),t.hij("+",e.fDS,""),t.xp6(1),t.Q6J("ngClass",t.VKq(12,O,e.active)),t.xp6(3),t.hij(" ",e.hcN," "),t.xp6(3),t.hij(" ",e.acN," "),t.xp6(3),t.Oqu(e.mCod),t.xp6(6),t.Q6J("ngForOf",e.btgs)}}function Si(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"i",3),t.qZA(),t.TgZ(9,"div",8)(10,"div",15),t.YNc(11,Ci,39,14,"ng-template",16),t.qZA()()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.HOy(" ",t.lcZ(6,8,null==e.configuration?null:e.configuration.seasonText)," ",e.seasonInfo.season_name," - ",t.lcZ(7,10,"TEXTS.MATCHDAY")," ",e.seasonInfo.match_day,""),t.xp6(6),t.Q6J("ngForOf",e.fixtures)}}function wi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",21)(2,"a",22),t._uU(3),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"a",22),t._uU(6),t.qZA()(),t.TgZ(7,"div",30)(8,"span",53),t._uU(9),t.qZA(),t.TgZ(10,"a",28),t.NdJ("click",function(r){const c=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.openStatistic(c,r))}),t.TgZ(11,"i",29),t._uU(12,"equalizer"),t.qZA()()()()}if(2&i){const e=n.$implicit;t.xp6(3),t.Oqu(e.hcN),t.xp6(3),t.Oqu(e.acN),t.xp6(3),t.Oqu(e.cSc)}}function Oi(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"i",3),t.qZA(),t.TgZ(9,"div",8)(10,"div",15)(11,"div",38)(12,"div",21),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.YNc(15,wi,13,3,"ng-template",16),t.qZA()()(),t.BQk()),2&i){const e=t.oxw();t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.HOy("",t.lcZ(6,9,"TEXTS.VFEC_SEASON")," ",e.seasonInfo.season_name,"- ",t.lcZ(7,11,"TEXTS.MATCHDAY")," ",e.seasonInfo.match_day,""),t.xp6(8),t.Oqu(t.lcZ(14,13,"TEXTS.MATCH")),t.xp6(2),t.Q6J("ngForOf",e.oldFixtures)}}function Ai(i,n){if(1&i&&t._UZ(0,"app-static-inner-content",54),2&i){const e=t.oxw();t.Q6J("contentCode",null==e.configuration?null:e.configuration.contentCode)}}x.N.map.virtualBase;class v{constructor(n,e,o,r,s,c,a){this.applicationService=n,this.rootService=e,this.route=o,this.translate=r,this.virtualService=s,this.ofs=c,this.translateFactory=a,this.inProgress=!0,this.seasonInfo=null,this.statisticsSetting=null,this.sport={cs:[{sns:[{fs:null}]}]},this.fixtureShow={oldF:!1,newF:!0},this.errors={show:!1,message:""},this.configuration=null,this.destroyed$=new C.xQ}get activeBetButtons(){return this.rootService.activeBetButtons}ngOnInit(){this.route.data.pipe((0,si.q)(1)).subscribe(n=>{this.configuration=ai[n.name];const e=this.applicationService.settingList.find(r=>r.parameter===this.configuration.iframeUrl),o=new RegExp(/{lang}/,"g");this.iframeUrl=e.value.replace(o,this.translateFactory.currentLang.code),this.route.url.pipe((0,m.R)(this.destroyed$)).subscribe(r=>{this.virtualSportObj=this.virtualService.getVirtualSportUrlParam(r[1].path,"d"),this.beforeAction(this.virtualSportObj.sortName)})})}beforeAction(n){this.statisticsSetting=this.applicationService.settingList.find(e=>e.parameter===this.configuration.statisticsParameter),window[this.configuration.iframeMatches]=e=>{const o=this.configuration.model(e,n);this.seasonInfo=e,this.pullFixtures(o),this.setHeight(),this.inProgress=!0}}setHeight(){window[this.configuration.iframeHeight]=n=>{document.getElementsByName(this.configuration.iframeSelector)[0].height=`${n.height}px`}}pullFixtures(n){this.inProgress=!0;const e=new l.qPv(n);this.virtualService.getVirtualSomeFixtures(e).then(o=>{try{typeof o.cScs<"u"?(this.oldFixtures=o.cScs,this.fixtureShow={oldF:!0,newF:!1}):(this.fixtures=o,this.fixtureShow={oldF:!1,newF:!0},this.sport.cs[0].sns[0].fs=this.fixtures),this.errors={show:!1,message:""}}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(s=>{this.errors={show:!0,message:s}}),this.oldFixtures=null,this.fixtures=null}this.inProgress=!1},o=>{try{this.translate.get(`MESSAGES.${o.responseCodes[0].responseKey}`).pipe((0,m.R)(this.destroyed$)).subscribe(r=>{this.errors={show:!0,message:r}})}catch{this.translate.get("MESSAGES.EXCEPTION").pipe((0,m.R)(this.destroyed$)).subscribe(s=>{this.errors={show:!0,message:s}})}this.inProgress=!1,this.oldFixtures=null,this.fixtures=null})}openStatistic(n,e){null!==document.getElementsByName(this.configuration.iframeSelector)[0]&&(e.preventDefault(),e.stopPropagation(),window.document[this.configuration.iframeSelector][this.configuration.stats](n.hcBId,n.acBId,this.seasonInfo.season_id))}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}v.\u0275fac=function(n){return new(n||v)(t.Y36(l.Wd0),t.Y36(l.U$c),t.Y36(T.gz),t.Y36(h.sK),t.Y36(l.xZw),t.Y36(l.Wo4),t.Y36(l.chr))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-virtual-base"]],decls:14,vars:12,consts:[["accordion","",1,"modul-accordion","sport-type"],[1,"modul-header"],[1,"header-text","mar-left-5","left"],[1,"fa","fa-caret-down","right"],[4,"ngIf"],["class","progress",4,"ngIf"],["type","error",3,"content",4,"ngIf"],[3,"contentCode",4,"ngIf"],[1,"modul-content"],[1,"virtual-view"],[2,"border","none",3,"name","id","src","width","height"],[1,"progress"],[1,"indeterminate"],["type","error",3,"content"],["accordion","",1,"modul-accordion","sport-type-detail"],[1,"fixture-container"],["ngFor","",3,"ngForOf"],["class","fixture-header flex-container",4,"ngIf"],[1,"fixture-body","flex-container"],[1,"element","date"],[1,"element","match-code"],[1,"element","flex-item","match"],["href","javascript:;"],[1,"element","video"],[1,"element","min"],[1,"element","live"],["class","element flex-item flex-container bet-type",4,"ngFor","ngForOf"],[1,"element","statistic"],["href","javascript:;",1,"statistic","right",3,"click"],[1,"material-icons"],[1,"element","other"],[1,"btn","other-btn","waves-effect","waves-light","left",3,"click"],[1,"caption-pg",3,"ngClass"],[1,"caption-pg-header","flex-container"],[1,"flex-item","title"],[1,"match-code"],["href","javascript:;",1,"close-caption",3,"click"],[4,"ngFor","ngForOf"],[1,"fixture-header","flex-container"],["class","element flex-item bet-type",4,"ngFor","ngForOf"],[1,"element","flex-item","bet-type"],[1,"element","flex-item","flex-container","bet-type"],[3,"ngIf"],["href","javascript:;","bet-button","",1,"btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map"],["href","javascript:;","class","btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map",4,"ngIf"],[1,"flex-container"],[1,"flex-item","center-align"],["class","flex-container bet-type-btn-group",4,"ngIf"],[1,"flex-container","bet-type-btn-group"],["href","javascript:;","bet-button","",1,"flex-container","btn","bet-btn","waves-effect","waves-light","flex-item",3,"ngClass","sport-type","bet-map","title"],[1,"flex-item","bet-btn-text"],[1,"bet-btn-odd"],["href","javascript:;","class","flex-container btn bet-btn waves-effect waves-light flex-item","bet-button","",3,"ngClass","sport-type","bet-map","title",4,"ngIf"],["href","javascript:;",1,"left","btn","other-btn","waves-effect","waves-light"],[3,"contentCode"]],template:function(n,e){1&n&&(t._UZ(0,"virtual-navbar"),t.TgZ(1,"div",0)(2,"div",1),t._UZ(3,"i"),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"i",3),t.qZA(),t.YNc(8,ci,5,7,"ng-container",4),t.qZA(),t.YNc(9,li,2,0,"div",5),t.YNc(10,_i,1,1,"message-box",6),t.YNc(11,Si,12,12,"ng-container",4),t.YNc(12,Oi,16,15,"ng-container",4),t.YNc(13,Ai,1,1,"app-static-inner-content",7)),2&n&&(t.xp6(3),t.Gre("",null==e.virtualSportObj?null:e.virtualSportObj.iconClass," left"),t.xp6(2),t.hij(" ",t.lcZ(6,10,null==e.configuration?null:e.configuration.headerText)," "),t.xp6(3),t.Q6J("ngIf",e.iframeUrl),t.xp6(1),t.Q6J("ngIf",e.inProgress),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.errors.show),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.fixtures&&e.fixtures.length&&e.fixtureShow.newF&&!e.fixtureShow.oldF&&!e.errors.show),t.xp6(1),t.Q6J("ngIf",!e.inProgress&&e.oldFixtures&&e.oldFixtures.length&&!e.fixtureShow.newF&&e.fixtureShow.oldF&&!e.errors.show),t.xp6(1),t.Q6J("ngIf",e.configuration))},dependencies:[f.mk,f.sg,f.O5,L.q,A.w,y.n,U.W,Z,f.JJ,h.X$,Q.z,q.Q],encapsulation:2});const yi=[{path:"",pathMatch:"full",component:V,data:{name:"virtual-landing",meta:"virtualSportsPage"}},{path:":providerCode",pathMatch:"full",component:V},{path:"betradar/euro-cup",component:v,data:{name:"virtual-euro-cup"}},{path:"betradar/bundesliga",component:v,data:{name:"virtual-bundesliga"}},{path:"betradar/world-cup",component:v,data:{name:"virtual-world-cup"}},{path:"betradar/nations-cup",component:v,data:{name:"virtual-football-nation-cup"}},{path:"betradar/league-mode",component:v,data:{name:"virtual-league-mod"}},{path:"betradar/asian-cup",component:v,data:{name:"virtual-asian-cup"}},{path:"betradar/champions-cup",component:v,data:{name:"virtual-champions-cup",meta:"virtualSports.football-champions-cup"}},{path:"betradar/basketball",component:v,data:{name:"virtual-basketball",meta:"virtualSports.basketball"}},{path:"betradar/football",component:Y,data:{name:"virtual-football",meta:"virtualSports.football"}},{path:"betradar/tennis",component:J,data:{name:"virtual-tennis",meta:"virtualSports.tennis"}},{path:"betradar/dogs",component:$,data:{name:"virtual-dogs",meta:"virtualSports.dogs"}},{path:"betradar/horses",component:P,data:{name:"virtual-horses",meta:"virtualSports.horses"}},{path:":providerCode/:iframeProviderGameId",pathMatch:"full",component:M},{path:"football",redirectTo:"betradar/football",data:{name:"virtual-football",meta:"virtualSports.football"}},{path:"euro-cup",redirectTo:"betradar/euro-cup",data:{name:"virtual-euro-cup",meta:"virtualSports.football-euro-cup"}},{path:"asian-cup",redirectTo:"betradar/asian-cup",data:{name:"virtual-asian-cup",meta:"virtualSports.football-nation-cup"}},{path:"world-cup",redirectTo:"betradar/world-cup",data:{name:"virtual-world-cup",meta:"virtualSports.football-world-cup"}},{path:"champions-cup",redirectTo:"betradar/champions-cup",data:{name:"virtual-champions-cup",meta:"virtualSports.football-world-cup"}},{path:"nations-cup",redirectTo:"betradar/nations-cup",data:{name:"virtual-football-nation-cup",meta:"virtualSports.football-nation-cup"}},{path:"league-mode",redirectTo:"betradar/league-mode",data:{name:"virtual-league-mod",meta:"virtualSports.football-nation-cup"}},{path:"basketball",redirectTo:"betradar/basketball",data:{name:"virtual-basketball",meta:"virtualSports.basketball"}},{path:"tennis",redirectTo:"betradar/tennis",data:{name:"virtual-tennis",meta:"virtualSports.tennis"}},{path:"dogs",redirectTo:"betradar/dogs",data:{name:"virtual-dogs",meta:"virtualSports.dogs"}},{path:"horses",redirectTo:"betradar/horses",data:{name:"virtual-horses",meta:"virtualSports.horses"}}],Ui=T.Bz.forChild(yi);class E{}E.\u0275fac=function(n){return new(n||E)},E.\u0275mod=t.oAB({type:E}),E.\u0275inj=t.cJS({imports:[f.ez,tt.m,Ui]})}}]);