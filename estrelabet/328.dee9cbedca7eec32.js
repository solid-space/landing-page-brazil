"use strict";(self.webpackChunkdesktop=self.webpackChunkdesktop||[]).push([[328],{72328:(ve,I,p)=>{p.r(I),p.d(I,{AuthenticationModule:()=>_});var r=p(24006),d=p(36895),b=p(55028),i=p(13313),l=p(7226),A=p(7625),E=p(8929),e=p(94650),m=p(34793),g=p(32925),M=p(11481),R=p(93307),f=p(78387);function N(o,s){1&o&&(e.TgZ(0,"h4"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TEXTS.REGISTRATION_COMPLETED")))}function U(o,s){if(1&o&&e._UZ(0,"message-box",6),2&o){const t=e.oxw();e.s9C("content",t.successMsg)}}function L(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"MESSAGES.CHECKING_ACTIVATION")))}function J(o,s){if(1&o&&e._UZ(0,"message-box",7),2&o){const t=e.oxw();e.s9C("content",t.activationErrMsg)}}function D(o,s){1&o&&(e.TgZ(0,"div",8),e._UZ(1,"div",9),e.qZA())}function G(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"iframe",10),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.affilateLink,e.uOi)}}l.N.map.signupSuccess;class u{constructor(s,t,n,a,c,T,x,_e,fe){this.route=s,this.singUpService=t,this.toastFactory=n,this.translateService=a,this.router=c,this.translateFactory=T,this.traderService=x,this.sanitizer=_e,this.trackingService=fe,this.affilateLink=null,this.destroyed$=new E.xQ}ngOnInit(){let s=this.route.snapshot.params.activationCode;if(this.customerId=this.route.snapshot.params.customerId,s)return this.isProgressVisible=!0,this.activationCode=this.route.snapshot.params.activationCode,this.customerId&&this.traderService.trader.tAU&&this.traderService.trader.tAMI&&this.activationWithAffilate(),void this.singUpService.checkActivationCode(s).then(t=>{this.translateService.get("MESSAGES.ACTIVATION_SUCCESS").pipe((0,A.R)(this.destroyed$)).subscribe(n=>{this.toastFactory.success(n)}),setTimeout(n=>{this.traderService.trader.openLoginModalAfterActivation?this.router.navigate([this.translateFactory.currentLang.code,"authentication","signin"]):this.router.navigate([this.translateFactory.currentLang.code])},1e3),this.isProgressVisible=!1}).catch(t=>{t.responseCodes&&"CUSTOMER_ACTIVATED_BEFORE"===t.responseCodes[0].responseKey?this.activationErrMsg="MESSAGES.ALREADY_ACTIVATED":t.responseCodes?this.activationErrMsg="MESSAGES."+t.responseCodes[0].responseKey:this.activationErrMsg="MESSAGES.EXCEPTION",this.isProgressVisible=!1});switch(this.successType=this.route.snapshot.params.successType,this.successType){case"withEmailActivation":default:this.successMsg="MESSAGES.REGISTER_COMPLETE";break;case"withoutActivation":this.successMsg="MESSAGES.SIGNUP_SUCCESS_WITHOUT_ACTIVATION",this.customerId&&this.trackingService.signupSuccessWithoutActivation(Number(this.customerId));break;case"withSmsActivation":this.successMsg="MESSAGES.SIGNUP_SUCCESS_WITH_SMS_ACTIVATION";break;case"withKycException":this.successMsg="MESSAGES.REGISTER_OK_KYC_UPLOAD_FAILED";break;case"withoutSmsVerification":this.successMsg="MESSAGES.SIGNUP_SUCCESS_WITHOUT_SMS_ACTIVATION";break;case"withLivechatActivation":this.successMsg="MESSAGES.LIVECHAT_REGISTRATION_ACTIVE"}}activationWithAffilate(){let s=this.traderService.trader.tAU,t=this.traderService.trader.tAMI;this.affilateLink=this.sanitizer.bypassSecurityTrustHtml(s+this.customerId+"&mid="+t)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}u.\u0275fac=function(s){return new(s||u)(e.Y36(m.gz),e.Y36(i.X4r),e.Y36(i.Uwl),e.Y36(g.sK),e.Y36(m.F0),e.Y36(i.chr),e.Y36(i._W6),e.Y36(M.H7),e.Y36(i.zVL))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-signup-success"]],decls:8,vars:6,consts:[[1,"container","signup-success"],[4,"ngIf"],["type","success","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],["type","error","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],["class","progress",4,"ngIf"],["contentCode","signupSuccess"],["type","success","icon","fa fa-exclamation-circle",3,"content"],["type","error","icon","fa fa-exclamation-circle",3,"content"],[1,"progress"],[1,"indeterminate"],[2,"display","none",3,"src"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e.YNc(1,N,3,3,"h4",1),e.YNc(2,U,1,1,"message-box",2),e.YNc(3,L,3,3,"p",1),e.YNc(4,J,1,1,"message-box",3),e.YNc(5,D,2,0,"div",4),e.YNc(6,G,2,1,"ng-container",1),e._UZ(7,"app-static-inner-content",5),e.qZA()),2&s&&(e.xp6(1),e.Q6J("ngIf",t.successType),e.xp6(1),e.Q6J("ngIf",t.successMsg),e.xp6(1),e.Q6J("ngIf",!t.successType),e.xp6(1),e.Q6J("ngIf",t.activationErrMsg),e.xp6(1),e.Q6J("ngIf",t.isProgressVisible),e.xp6(1),e.Q6J("ngIf",t.affilateLink))},dependencies:[d.O5,R.n,f.W,g.X$],encapsulation:2});var F=p(89195);l.N.map.authentication;class v{constructor(){}ngOnInit(){}}v.\u0275fac=function(s){return new(s||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-authentication"]],decls:2,vars:0,consts:[[1,"col","s9","rght-cntnt"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[m.lC],encapsulation:2});var Y=p(18393),q=p(3201),Q=p(66291);function V(o,s){1&o&&e.GkF(0)}function k(o,s){1&o&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"MESSAGES.PLEASE_CONTACT_SUPPORT_FOR_PASSWORD_RESET")))}function W(o,s){1&o&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"MESSAGES.RESET_PASSWORD_DESCRIPTION")))}function H(o,s){1&o&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"MESSAGES.RESET_PASSWORD_DESCRIPTION_SMS")))}function K(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"span",14)(2,"input",15),e.NdJ("ngModelChange",function(a){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectedResetOption=a)}),e.qZA(),e.TgZ(3,"label",16),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",14)(7,"input",17),e.NdJ("ngModelChange",function(a){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectedResetOption=a)}),e.qZA(),e.TgZ(8,"label",18),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.selectedResetOption),e.xp6(2),e.Oqu(e.lcZ(5,4,"FIELDS.SEND_WITH_EMAIL")),e.xp6(3),e.Q6J("ngModel",t.selectedResetOption),e.xp6(2),e.Oqu(e.lcZ(10,6,"FIELDS.SEND_WITH_SMS"))}}const y=function(o){return{active:o}};function j(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",25)(2,"input",26),e.NdJ("ngModelChange",function(a){e.CHM(t);const c=e.oxw(3);return e.KtG(c.type=a)})("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.changeType(1))}),e.qZA(),e.TgZ(3,"label",27),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",25)(7,"input",28),e.NdJ("ngModelChange",function(a){e.CHM(t);const c=e.oxw(3);return e.KtG(c.type=a)})("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.changeType(2))}),e.qZA(),e.TgZ(8,"label",29),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}if(2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(12,y,1==t.type)),e.xp6(1),e.Q6J("ngModel",t.type)("value",1),e.xp6(2),e.Oqu(e.lcZ(5,8,"FIELDS.SEND_WITH_USERNAME")),e.xp6(2),e.Q6J("ngClass",e.VKq(14,y,2==t.type)),e.xp6(1),e.Q6J("ngModel",t.type)("value",2),e.xp6(2),e.Oqu(e.lcZ(10,10,"FIELDS.SEND_WITH_EMAIL"))}}function $(o,s){if(1&o&&(e.TgZ(0,"div",30),e._UZ(1,"input",31),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"FIELDS.USERNAME")),e.Q6J("formControl",t.forgotPasswordF.controls.username)}}const X=function(){return{param0:""}};function z(o,s){if(1&o&&(e.TgZ(0,"div",30),e._UZ(1,"input",32),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.xi3(2,2,"FIELDS.EMAIL",e.DdM(5,X))),e.Q6J("formControl",t.forgotPasswordF.controls.email)}}const B=function(o){return{param0:o}};function ee(o,s){if(1&o&&(e._UZ(0,"message-box",33),e.ALo(1,"translate")),2&o){const t=e.oxw(3);e.Q6J("type","success")("content",e.xi3(1,2,"MESSAGES.FORGET_PASSWORD_MESSAGE",e.VKq(5,B,t.forgotPasswordF.controls.email.value)))}}function te(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.YNc(1,j,11,16,"div",19),e.TgZ(2,"form",20),e.NdJ("submit",function(a){e.CHM(t);const c=e.oxw(2);return a.preventDefault(),e.KtG(!c.success&&c.sendLink())}),e.YNc(3,$,3,4,"div",21),e.YNc(4,z,3,6,"div",21),e.TgZ(5,"button",22),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,ee,2,7,"message-box",23),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","all"===t.selectedEmailResetOption),e.xp6(1),e.Q6J("formGroup",t.forgotPasswordF),e.xp6(1),e.Q6J("ngIf",1===t.type),e.xp6(1),e.Q6J("ngIf",2===t.type),e.xp6(1),e.Q6J("disabled",!t.forgotPasswordF.valid),e.xp6(1),e.hij(" ",e.lcZ(7,7,"LINKS.SEND_ACTIVATION_CODE")," "),e.xp6(2),e.Q6J("ngIf",t.success)}}function se(o,s){if(1&o&&e._UZ(0,"field-messages",37),2&o){const t=e.oxw(3);e.Q6J("field-errors",t.forgotPasswordSmsF.controls.phone.errors)}}const oe=function(){return{param0:""}};function ne(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",34),e.NdJ("submit",function(a){e.CHM(t);const c=e.oxw(2);return a.preventDefault(),e.KtG(c.sendActivationCode())}),e.TgZ(2,"input",35),e.NdJ("intlTelInputObject",function(a){e.CHM(t);const c=e.oxw(2);return e.KtG(c.phoneInputObject(a))})("hasError",function(a){e.CHM(t);const c=e.oxw(2);return e.KtG(c.phoneInputObjectHasError(a))})("countryChange",function(a){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onCountryChange(a))}),e.ALo(3,"translate"),e.qZA(),e.YNc(4,se,1,1,"field-messages",36),e.TgZ(5,"button",22),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("formGroup",t.forgotPasswordSmsF),e.xp6(1),e.s9C("placeholder",e.xi3(3,8,"FIELDS.PHONE",e.DdM(13,oe))),e.Q6J("id",t.phone)("formControl",t.forgotPasswordSmsF.controls.phone)("ng2TelInputOptions",t.telInputOptions),e.xp6(2),e.Q6J("ngIf",t.forgotPasswordSmsF.controls.phone.errors&&t.forgotPasswordSmsF.controls.phone.dirty),e.xp6(1),e.Q6J("disabled",t.disablePhone),e.xp6(1),e.hij(" ",e.lcZ(7,11,"LINKS.SEND_ACTIVATION_CODE_SMS")," ")}}function re(o,s){if(1&o&&(e.YNc(0,W,3,3,"div",10),e.YNc(1,H,3,3,"div",10),e.YNc(2,K,11,8,"div",11),e.YNc(3,te,9,9,"ng-container",12),e.YNc(4,ne,8,14,"ng-container",12)),2&o){const t=e.oxw();e.Q6J("ngIf","email"===t.selectedResetOption),e.xp6(1),e.Q6J("ngIf","sms"===t.selectedResetOption),e.xp6(1),e.Q6J("ngIf","all"===t.traderDefaults.tForgotPassMethod),e.xp6(1),e.Q6J("ngIf","email"===t.selectedResetOption),e.xp6(1),e.Q6J("ngIf","sms"===t.selectedResetOption)}}function ae(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"sms-verification",38),e.NdJ("navigateRoute",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.navigateSuccessPage())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("phone",t.smsVerificationPhone)("isForgotPassword",!0)("remaningTime",t.smsVerificationRemTime)}}l.N.map.forgotPassword;class S{constructor(s,t,n,a,c){this.userService=s,this.fb=t,this.translateFactory=n,this.traderService=a,this.smsVerificationService=c,this.isAlive$=new E.xQ,this.message={message:"",list:[],error:!1},this.type=1,this.telInputOptions={preferredCountries:l.N.trader.preferredCountriesPhone.length?l.N.trader.preferredCountriesPhone:[l.N.trader.defaultLang.code],onlyCountries:l.N.trader.forcedPhoneCountry.length?l.N.trader.forcedPhoneCountry:[],separateDialCode:!0,nationalMode:!0},this.disablePhone=!0,this.traderNames=["estrelabet","betmidas","vaidebob","esportesdasortevip","headsbet","sociobet","upbet","upsports","vaidebet","betpix365","vembetar","toisbet"],this.showEmailWarning=this.traderNames.includes(l.N.trader.name),this.forgotPasswordF=t.group({username:new r.NI("",r.kI.required),email:new r.NI("")}),this.forgotPasswordSmsF=t.group({phone:new r.NI("",r.kI.required)}),this.forgotPasswordSmsF.get("phone").valueChanges.pipe((0,A.R)(this.isAlive$)).subscribe(()=>{const T=this.forgotPasswordSmsF.controls.phone.valid&&this.phoneInstance.isValidNumber();this.disablePhone=!T&&(0,i.zmK)(this.phoneInstance,this.forgotPasswordSmsF.controls.phone.value,this.forgotPasswordSmsF.controls.phone.valid)})}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.traderDefaults=this.traderService.trader,this.initResetPasswordOptions()}ngOnDestroy(){this.isAlive$.next()}changeType(s){this.forgotPasswordF.controls.username.clearValidators(),this.forgotPasswordF.controls.username.reset(),this.forgotPasswordF.controls.email.clearValidators(),this.forgotPasswordF.controls.email.patchValue(""),1===s?this.forgotPasswordF.controls.username.setValidators([r.kI.required]):this.forgotPasswordF.controls.email.setValidators([r.kI.required,r.kI.email]),this.forgotPasswordF.controls.username.updateValueAndValidity(),this.forgotPasswordF.controls.email.updateValueAndValidity()}sendLink(){const s=this,t=1===this.type?this.forgotPasswordF.controls.username.value:this.forgotPasswordF.controls.email.value;this.userService.forgotPassword(t).then(n=>{this.success=!0},n=>{this.success=!1,s.message.error=!0,n.length>1?s.message.list=n:s.message.message=n})}setResetOption(s){this.selectedResetOption=s}initResetPasswordOptions(){this.traderDefaults.tForgotPassMethod&&"all"!==this.traderDefaults.tForgotPassMethod&&(this.selectedResetOption=this.traderDefaults.tForgotPassMethod.toLocaleLowerCase()),this.traderDefaults.tForgotPassMethod||(this.selectedResetOption="email"),this.traderDefaults.tForgotPassMethodEmailFields&&(this.selectedEmailResetOption=this.traderDefaults.tForgotPassMethodEmailFields,"email"===this.traderDefaults.tForgotPassMethodEmailFields&&(this.type=2,this.changeType("2")))}sendActivationCode(){this.smsVerificationPhone=this.phoneInstance.getNumber().replace("+","");let s={phone:this.smsVerificationPhone,messageType:3},t=new i.qPv(s);this.smsVerificationRemTime=0,this.smsVerificationService.resendSms(t).then(n=>{this.smsVerificationRemTime=n||n.data||60}).catch(n=>{n.error&&n.error.responseCodes&&"SMS_CODE_NOT_TIMED_OUT_YET"===n.error.responseCodes[0].responseKey&&setTimeout(a=>{this.smsVerificationRemTime=n&&n.error.data||60},100)})}phoneInputObject(s){this.phoneInstance=s}onCountryChange(s){this.lastSelectedCountry=s.iso2}phoneInputObjectHasError(s){if(s||l.N.trader.ignorePhoneValidation)this.forgotPasswordSmsF.controls.phone.setErrors(null);else{const t=(0,i.zmK)(this.phoneInstance,this.forgotPasswordSmsF.controls.phone.value,s);this.forgotPasswordSmsF.controls.phone.setErrors(t?{invalidPhone:t}:null)}}navigateSuccessPage(){}}S.\u0275fac=function(s){return new(s||S)(e.Y36(i.Ye3),e.Y36(r.qu),e.Y36(i.chr),e.Y36(i._W6),e.Y36(i.El7))},S.\u0275cmp=e.Xpm({type:S,selectors:[["ng-component"]],decls:20,vars:5,consts:[["id","forgot-password"],[1,"container"],[1,"row"],[1,"col","s6","offset-s3","fotgot-pass-main"],[1,"description"],[1,"forgoten-password-header"],[4,"ngTemplateOutlet"],["contactSupportTemplate",""],["resetTemplate",""],[3,"phone","isForgotPassword","remaningTime","navigateRoute",4,"ngIf"],["class","description",4,"ngIf"],["class","slct-rst-opt",4,"ngIf"],[4,"ngIf"],[1,"slct-rst-opt"],[1,"radio-label"],["value","email","name","resetOpt","type","radio","id","for-emailOpt",3,"ngModel","ngModelChange"],["for","for-emailOpt"],["value","sms","name","resetOpt","type","radio","id","for-smsOpt",3,"ngModel","ngModelChange"],["for","for-smsOpt"],["class","rst-tbs",4,"ngIf"],["action","#",1,"login-form",3,"formGroup","submit"],["class","input-field",4,"ngIf"],[1,"btn","login-btn","fbtn",3,"disabled"],[3,"type","content",4,"ngIf"],[1,"rst-tbs"],[1,"tb-itm",3,"ngClass"],["name","type","type","radio","id","for-username",3,"ngModel","value","ngModelChange","click"],["for","for-username"],["name","type","type","radio","id","for-email",3,"ngModel","value","ngModelChange","click"],["for","for-email"],[1,"input-field"],["name","username","type","text",1,"validate","browser-default",3,"placeholder","formControl"],["name","email","type","email",1,"validate","browser-default",3,"placeholder","formControl"],[3,"type","content"],[1,"login-form",3,"formGroup","submit"],["ng2TelInput","","type","text","required","",1,"validate","browser-default",3,"id","placeholder","formControl","ng2TelInputOptions","intlTelInputObject","hasError","countryChange"],[3,"field-errors",4,"ngIf"],[3,"field-errors"],[3,"phone","isForgotPassword","remaningTime","navigateRoute"]],template:function(s,t){if(1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5,"ATEN\xc7\xc3O"),e.qZA(),e.TgZ(6,"div")(7,"div",4),e._uU(8,"Devido a uma interrup\xe7\xe3o nos servi\xe7os das provedoras, Hotmail, Outlook e iCloud, os e-mails de redefini\xe7\xe3o de senha n\xe3o est\xe3o sendo recebidos. Nesse caso, se voc\xea possui um e-mail de outro provedor, recomendamos que entre em contato com o nosso chat de atendimento online para receber ajuda na redefini\xe7\xe3o da senha."),e.qZA(),e._UZ(9,"div"),e.qZA(),e.TgZ(10,"div",5)(11,"h4"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.YNc(14,V,1,0,"ng-container",6),e.YNc(15,k,3,3,"ng-template",null,7,e.W1O),e.YNc(17,re,5,5,"ng-template",null,8,e.W1O),e.qZA()()()(),e.YNc(19,ae,1,3,"sms-verification",9)),2&s){const n=e.MAs(16),a=e.MAs(18);e.xp6(12),e.hij(" ",e.lcZ(13,3,"LINKS.FORGOT_PASSWORD")," "),e.xp6(2),e.Q6J("ngTemplateOutlet",t.traderDefaults.hideForgottenPassForm?n:a),e.xp6(5),e.Q6J("ngIf",t.smsVerificationRemTime)}},dependencies:[d.mk,d.O5,d.tP,r._Y,r.Fj,r._,r.JJ,r.JL,r.Q7,r.On,r.oH,r.sg,Y.E,f.W,q.Y,Q.C,g.X$],encapsulation:2});var ie=p(82883);l.N.map.signin;class h{constructor(){}ngOnInit(){}}h.\u0275fac=function(s){return new(s||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-signin"]],decls:2,vars:0,consts:[[1,"signin-page"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"app-login"),e.qZA())},dependencies:[ie.G],encapsulation:2});var O=p(18460),Z=p(24507);function ce(o,s){1&o&&(e.TgZ(0,"div",12),e._UZ(1,"div",13),e.qZA())}function pe(o,s){if(1&o&&e._UZ(0,"message-box",14),2&o){const t=e.oxw();e.Q6J("type",t.error)("content",t.error.message)}}l.N.map.resetPassword;class w{constructor(s,t,n,a,c,T,x){this.route=s,this.router=t,this.translateFactory=n,this.fb=a,this.resetPasswordService=c,this.toastFactory=T,this.translate=x,this.destroyed$=new E.xQ,this.resetPasswordForm=this.fb.group({token:new r.NI(""),password:new r.NI("",[r.kI.required])})}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.route.params.pipe((0,A.R)(this.destroyed$)).subscribe(s=>{this.token=s.token,this.token?this.resetPasswordForm.patchValue({token:this.token}):this.router.navigate([this.currentLang,"authentication","signin"])})}resetPassword(){if(!this.resetPasswordForm.valid){for(const t in this.resetPasswordForm.controls)this.resetPasswordForm.controls[t].markAsDirty();return}const s={requestBody:{token:this.resetPasswordForm.value.token,newPassword:this.resetPasswordForm.value.password}};this.inProgress=!0,this.resetPasswordService.resetPassword(s).then(()=>{this.router.navigate([this.currentLang,"authentication","signin"]),this.translate.get("MESSAGES.PASSWORD_UPDATE").pipe((0,A.R)(this.destroyed$)).subscribe(t=>{this.toastFactory.success(t)})}).catch(t=>{this.inProgress=!1,this.error={message:"MESSAGES."+t.error.responseCodes[0].responseKey}})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}function le(o,s){if(1&o&&e._UZ(0,"message-box",4),2&o){const t=e.oxw();e.Q6J("content","MESSAGES."+t.error)}}function de(o,s){1&o&&e._UZ(0,"message-box",5)}w.\u0275fac=function(s){return new(s||w)(e.Y36(m.gz),e.Y36(m.F0),e.Y36(i.chr),e.Y36(r.qu),e.Y36(i.W5j),e.Y36(i.Uwl),e.Y36(g.sK))},w.\u0275cmp=e.Xpm({type:w,selectors:[["reset-password"]],decls:18,vars:18,consts:[["id","forgot-password"],[1,"container"],[1,"row"],[1,"col","s6","offset-s3","fotgot-pass-main"],[1,"login-form",3,"formGroup","submit"],[1,"input-field","bubble"],["name","password","type","password","id","new-password",1,"validate","browser-default",3,"placeholder","formControl"],[3,"model","upper","lower","number","length"],["el","new-password"],[1,"btn","login-btn","fbtn"],["class","progress",4,"ngIf"],[3,"type","content",4,"ngIf"],[1,"progress"],[1,"indeterminate"],[3,"type","content"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("submit",function(){return t.resetPassword()}),e.TgZ(8,"div",5),e._UZ(9,"input",6),e.ALo(10,"translate"),e._UZ(11,"bubble-validator",7)(12,"password-eye",8),e.qZA(),e.TgZ(13,"button",9),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.YNc(16,ce,2,0,"div",10),e.YNc(17,pe,1,2,"message-box",11),e.qZA()()()()()),2&s&&(e.xp6(5),e.Oqu(e.lcZ(6,12,"FIELDS.RESET_PASSWORD")),e.xp6(2),e.Q6J("formGroup",t.resetPasswordForm),e.xp6(2),e.s9C("placeholder",e.lcZ(10,14,"FIELDS.PASSWORD")),e.Q6J("formControl",t.resetPasswordForm.controls.password),e.xp6(2),e.Q6J("model",t.resetPasswordForm.controls.password)("upper",1)("lower",1)("number",1)("length",6),e.xp6(3),e.Oqu(e.lcZ(15,16,"FIELDS.RESET_PASSWORD")),e.xp6(2),e.Q6J("ngIf",t.inProgress),e.xp6(1),e.Q6J("ngIf",t.error))},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,r.oH,r.sg,f.W,O.M,Z.J,g.X$],encapsulation:2});l.N.map.customerOTPGa;class P{constructor(s,t){this.route=s,this.customerOTPGaService=t,this.qr=""}ngOnInit(){const t={requestBody:this.route.snapshot.queryParams.code,device:"d",languageId:1};this.customerOTPGaService.checkGACode(t).then(n=>{this.qr=n.data.data},n=>{this.error=n.error.responseCodes[0].responseKey,this.qr=""})}}function me(o,s){1&o&&(e.TgZ(0,"div",14),e._UZ(1,"div",15),e.qZA())}function ue(o,s){if(1&o&&e._UZ(0,"message-box",16),2&o){const t=e.oxw();e.Q6J("type",t.error)("content",t.error.message)}}P.\u0275fac=function(s){return new(s||P)(e.Y36(m.gz),e.Y36(i.mdT))},P.\u0275cmp=e.Xpm({type:P,selectors:[["app-customer-otp-ga"]],decls:4,vars:3,consts:[[1,"customer-otp-ga"],[3,"src"],["type","error","icon","fa fa-exclamation-circle",3,"content",4,"ngIf"],["type","success","icon","fa fa-check-circle","content","MESSAGES.OTP_SUCCESS",4,"ngIf"],["type","error","icon","fa fa-exclamation-circle",3,"content"],["type","success","icon","fa fa-check-circle","content","MESSAGES.OTP_SUCCESS"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.YNc(2,le,1,1,"message-box",2),e.YNc(3,de,1,0,"message-box",3),e.qZA()),2&s&&(e.xp6(1),e.Q6J("src",t.qr,e.LSH),e.xp6(1),e.Q6J("ngIf",!!t.error),e.xp6(1),e.Q6J("ngIf",!t.error))},dependencies:[d.O5,f.W],encapsulation:2});l.N.map.vipResetPassword;class C{constructor(s,t,n,a){this.userService=s,this.router=t,this.resetPasswordService=n,this.translateFactory=a,this.termsAndConditionsModalActions=new e.vpe,this.privacyPolicyModalActions=new e.vpe,this.values={tVal:!1,pVal:!1},this.vipResetPasswordForm=new r.cw({oldPassword:new r.NI(null,r.kI.required),newPassword:new r.NI(null,r.kI.required)})}ngOnInit(){this.currentLang=this.translateFactory.currentLang.code,this.checkForHasVipUser()}checkForHasVipUser(){this.userService.vipUser||this.router.navigate([this.currentLang,"authentication","signin"]).then(()=>{location.reload()})}resetPassword(){if(!this.vipResetPasswordForm.valid){for(const n in this.vipResetPasswordForm.controls)this.vipResetPasswordForm.controls[n].value||(this.vipResetPasswordForm.controls[n].markAsTouched(),this.vipResetPasswordForm.controls[n].markAsDirty(),this.vipResetPasswordForm.controls[n].setErrors({required:!0}));return}this.inProgress=!0;const s={username:this.userService.vipUser.username,oldPassword:this.vipResetPasswordForm.controls.oldPassword.value,newPassword:this.vipResetPasswordForm.controls.newPassword.value},t=new i.qPv(s);this.resetPasswordService.vipResetPassword(t).then(n=>{this.userService.prepareUser({data:this.userService.vipUser,responseCodes:[],success:!0}),this.router.navigate(["/",this.currentLang]),setTimeout(()=>{location.reload()},500),this.inProgress=!1}).catch(n=>{this.inProgress=!1,this.error={message:"MESSAGES."+n.error.responseCodes[0].responseKey}})}openGenericModal(s,t){s.preventDefault(),this[t+"ModalActions"].emit({action:"modal",params:["open"]})}closeGenericModal(s){this[s+"ModalActions"].emit({action:"modal",params:["close"]})}}C.\u0275fac=function(s){return new(s||C)(e.Y36(i.Ye3),e.Y36(m.F0),e.Y36(i.W5j),e.Y36(i.chr))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-vip-reset-password"]],decls:23,vars:27,consts:[["id","forgot-password"],[1,"container"],[1,"row"],[1,"col","s6","offset-s3","fotgot-pass-main"],[1,"login-form",3,"formGroup","submit"],[1,"input-field","bubble"],["name","oldPassword","type","password","id","old-password",1,"validate","browser-default",3,"placeholder","formControl"],[3,"model","upper","lower","number","length"],["el","old-password"],["name","newPassword","type","password","id","new-password",1,"validate","browser-default",3,"placeholder","formControl"],["el","new-password"],[1,"btn","login-btn","fbtn"],["class","progress",4,"ngIf"],[3,"type","content",4,"ngIf"],[1,"progress"],[1,"indeterminate"],[3,"type","content"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("submit",function(){return t.resetPassword()}),e.TgZ(8,"div",5),e._UZ(9,"input",6),e.ALo(10,"translate"),e._UZ(11,"bubble-validator",7)(12,"password-eye",8),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"input",9),e.ALo(15,"translate"),e._UZ(16,"bubble-validator",7)(17,"password-eye",10),e.qZA(),e.TgZ(18,"button",11),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.YNc(21,me,2,0,"div",12),e.YNc(22,ue,1,2,"message-box",13),e.qZA()()()()()),2&s&&(e.xp6(5),e.Oqu(e.lcZ(6,19,"FIELDS.RESET_PASSWORD")),e.xp6(2),e.Q6J("formGroup",t.vipResetPasswordForm),e.xp6(2),e.s9C("placeholder",e.lcZ(10,21,"FIELDS.OLD_PASSWORD")),e.Q6J("formControl",t.vipResetPasswordForm.controls.oldPassword),e.xp6(2),e.Q6J("model",t.vipResetPasswordForm.controls.oldPassword)("upper",1)("lower",1)("number",1)("length",6),e.xp6(3),e.s9C("placeholder",e.lcZ(15,23,"FIELDS.NEW_PASSWORD")),e.Q6J("formControl",t.vipResetPasswordForm.controls.newPassword),e.xp6(2),e.Q6J("model",t.vipResetPasswordForm.controls.newPassword)("upper",1)("lower",1)("number",1)("length",6),e.xp6(3),e.Oqu(e.lcZ(20,25,"FIELDS.RESET_PASSWORD")),e.xp6(2),e.Q6J("ngIf",t.inProgress),e.xp6(1),e.Q6J("ngIf",t.error))},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,r.oH,r.sg,f.W,O.M,Z.J,g.X$],encapsulation:2});const ge=[{path:"",pathMatch:"full",redirectTo:"auth/signup"},{path:"vip-reset-password",component:C,data:{name:"reset-password",meta:"resetPassword"}},{path:"",component:v,canActivate:[i.$Tg],children:[{path:"signup",component:F.X,data:{name:"signup",meta:"signup"}},{path:"minimal-signup",component:F.X,data:{name:"minimal-signup",meta:"signup"},canActivate:[i.FCN,i.s$P]},{path:"signup-success/:successType",component:u,data:{name:"signup-success"}},{path:"signup-success/:successType/:customerId",component:u,data:{name:"signup-success"}},{path:"activation/:activationCode",component:u,pathMatch:"full",data:{name:"activation"}},{path:"activation/:activationCode/:customerId",component:u,data:{name:"activation"}},{path:"signin",component:h,data:{name:"signin",meta:"signin"}},{path:"signin-with-activation/:activationCode",component:h,data:{name:"signin-with-activation",meta:"signin"},canActivate:[i.s$P]},{path:"forgot-password",component:S,data:{name:"forgot-password",meta:"forgotPassword"}},{path:"reset-password/:token",component:w,data:{name:"reset-password",meta:"resetPassword"}},{path:"customerOTPGa",component:P,pathMatch:"full",data:{name:"customer-otp-ga"}}]}],he=m.Bz.forChild(ge);class _{}_.\u0275fac=function(s){return new(s||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[d.ez,b.m,he,r.u5,r.UX]})}}]);